Қайырлы күн, құрметті студенттер! Сіздерді келесі “Зертханалық жұмысқа кіріспе” сессиясында көргеніме қуаныштымын. Бүгінгі зертханалық тақырып - AWS Lambda. Сонымен, бастайық.
Біріншіден, біз қажетті зертханалық жұмыста жұмыс істеуіміз керек. Бұлтты негіздер курсын ашыңыз, содан кейін модульдер тізімінен № 6 модульді таңдаңыз, содан кейін AWS Lambda белсенділігі, ол сізді негізгі зертханалық бетке апарады. Мұнда сіз зертхананы “Бастау зертханасы” түймесін басу арқылы бастауға болады. Сондай-ақ, ыңғайлы болу үшін Терминал терезесін өшіріп, зертханалық тағайындау жазылған ReadMe терезесін қалдыруды ұсынамын.
Бұл слайдта сіз зертханалық жұмыс үшін негізгі тапсырманы көре аласыз - CloudWatch оқиғасын құру, ол біздің Lambda-ны берілген кестеге сәйкес іске қосады және Lambda сәйкесінше EC2 Instance тоқтатады. Осы зертханалық жұмысты аяқтау үшін ұсынылатын уақыт - 30 минут. Сондай-ақ, біз құм жәшігінде жұмыс істейтінімізді еске салғым келеді, сондықтан қол жетімділік тек осы зертханалық жұмысқа кіретін AWS қызметтері мен бөліктеріне ғана беріледі.
Біз “Бастау зертханасы” түймесін басу арқылы уақытша AWS есептік жазбасын құруды бастадық. Тіркелгі қазірдің өзінде жасалған болуы мүмкін және AWS басқару консоліне өту үшін AWS түймесін баса аламыз. AWS басқару консолінің басты бетінде біз іздеу жолағында ламбданы теріп, тиісті қызметке өтуіміз керек. Мұнда функцияны жасау опциясын пайдаланып жаңа функция жасау қажет болады. Біздің зертханада біз нөлден функцияны жасаймыз, сондықтан Авторды таңдаймыз Scratch опциясы. MyStopinator функциясын функция атауы ретінде және Python 3.8 орындау уақыты ретінде енгіземіз. Содан кейін, біздің зертханалық жұмысымыздың бір бөлігі ретінде біз үшін MyStopinatorRole деп аталатын ерекше рөл құрылды. Мұны істеу үшін біз таңдауымыз керек Бар рөлді және тиісті рөлді пайдалану. Осы кезде біз Lambda функциясы үшін барлық қажетті параметрлерді енгізіп, функцияны жасау түймесін басыңыз.
Келесі қадам - біздің лямбданы іске қосатын жоспарланған оқиғаны құру. Осындай оқиғаны жасау үшін біздің функциямен беттегі “Триггер қосу” түймесін таңдаңыз. Әрі қарай, ашылмалы мәзірден EventBridge тармағын таңдап, жаңа ереже жасайтынымызды көрсетіңіз. Ереже атауы ретінде EveryMinute және Schedule өрнегін Ереже типі ретінде көрсетейік, яғни бұл оқиға кесте бойынша іске қосылады. Және қазірдің өзінде кесте өрнегі, I.E. Кесте, мөлшерлемені көрсетіңіз (1 минут). Бұл біздің іс-шарамыз әр минут сайын іске қосылады дегенді білдіреді және біздің Lambda функциясы мақсатты болғандықтан, бұл оқиға біздің Lambda іске қосады. Барлық осы параметрлерді енгізгеннен кейін, осы оқиғаны қосу үшін Қосу түймесін басыңыз.
Келесі тапсырма - Lambda функциясының кодын өзгерту. Бұл Lambda бізге қажет жаңа логиканы орындау үшін қажет. Төмен қарай жылжып жатқанда, сіз Lambda функциясының кодын өңдей алатын беттің арнайы бөлігін көре аласыз. lambda-function.py файлын таңдаңыз. Содан кейін біз барлық қолданыстағы кодты жойып, зертханалық тапсырмада ұсынылған кодты енгіземіз. Осы дайын кодта сіз екінші және үшінші жолдарды көре аласыз, онда сіз кейбір ауыстырулар жасауыңыз керек. Екінші жолда біз аймақтың AWS жүйесінің мәнін енгізуіміз керек. Біз Солтүстік Вирджиния аймағында жұмыс істейміз, сондықтан жүйенің атауы біз-шығыс-1 болады. Бұл мәнді мәтіннің орнына қояйық<REPLACE_WITH_REGION>. Келесі ауыстыру - бұл Lambda өшіретін EC2 данасының идентификаторы. Мұны істеу үшін EC2-ге өтіп, Instance1 атты дананы табыңыз. EC2 данасының идентификаторын көшіруден басқа, дананың іске қосылуын қамтамасыз етуіңіз керек. Менің ойымша, сізде дананың идентификаторын табуда қиындықтар болмайды. Сіз оны тапқаннан кейін оны мәтіннің орнына қоюыңыз керек<REPLACE_WITH_INSTANCE_ID>. Назар аударыңыз, біз мәтіндік ақпаратпен жұмыс істеген кезде жалғыз тырнақшалар қалады. Ыңғайлы болу үшін сіз қазірдің өзінде жасалған кірістірулермен код мысалын көресіз және сіздің кодыңыз оған ұқсас болуы керек.
Барлық қажетті өзгерістерді енгізгеннен кейін, біз кодты сақтауымыз керек. Мұны істеу үшін Файл мәзірінің элементіндегі Сақтау опциясын таңдаңыз. Біздің кодты да орналастыру керек. Мұны істеу үшін Орналастыру түймесін басыңыз. Бірнеше секундтан кейін сіз біздің код сәтті орналастырылғаны туралы хабарды көресіз. Енді Монитор қойындысына өту арқылы сіз біздің кодтың әр минут сайын қалай жұмыс істейтінін көре аласыз, яғни. минутына бір рет. Біздің код сәтті жұмыс істегенін тексеру үшін EC2 қызметіне ауысайық. Сіз біздің дана1 деп аталатын данамыздың тоқтатылғанын көре аласыз.
Сіз бұл дананы қолмен іске қоса аласыз, содан кейін ол қысқа уақыттан кейін қайтадан тоқтағанын растай аласыз. Тиісінше, бұл біздің лямбда коды сәтті жұмыс істеп жатқанын білдіреді.
Бұл біздің зертханалық жұмысымыздың соңы, мен сіздерді құттықтаймын! Сіз AWS Lambda туралы біраз түсінік алдыңыз деп үміттенемін. Болашақта проблемаларды болдырмау үшін зертханалық жұмысты дұрыс жабайық. End Lab түймесін басып, зертхананың аяқталғанын растаңыз. DELETE басталғаннан кейін... сіз осы хабарлама жолағын жабуыңыз мүмкін енді пайда болады, осы терезені жауып, AWS академиясынан шығуға болады.
Бұл біздің зертханалық жұмысымызға шолу жасайды. Мұны істеу кезінде сізде ешқандай проблемалар болмайды деп үміттенемін. Сізді келесі іс-шараларымызда көріңіз. Рахмет!
