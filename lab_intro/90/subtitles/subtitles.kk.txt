Қайырлы күн, құрметті студенттер! Бүгінгі "Зертханалық жұмысқа кіріспе" сессиясында көргеніме қуаныштымын. Бүгінгі зертханалық жұмыстың тақырыбы — AWS Lambda. Сонымен, бастаймыз. Біріншіден, біз осы зертханалық жұмыстың берілгені бар парақшаға өтуіміз керек. Cloud Foundations курсын ашыңыз, содан кейін модульдер тізімінен 6 модульді таңдаңыз, кейін AWS Lambda белсенділігі, енді сіз зертханалық жұмыстың негізгі парақшасына өтесіз. Мұнда қалағаныңызша, зертханалық жұмысты StartLab батырмасын басу арқылы бастауға болады. Сондай-ақ, ыңғайлы болу үшін Тerminal терезесін өшіріп, зертханалық тапсырма жазылған ReadMe терезесін қалдыруды ұсынамын. Бұл слайдта сіз зертханалық жұмыстың негізгі тапсырмасын көріп тұрсыз — CloudWatch Event құру, ол белгіленген кесте бойынша біздің Lambda-ны қоздырады, ал Lambda, сәйкесінше, EC2 Instance-ті тоқтатады. Осы зертханалық жұмысты орындауға ұсынылған уақыт – 30 минут. Сондай-ақ, біз құмсалғышта жұмыс істейтінімізді еске саламын, сондықтан тек осы сервистерге және осы зертханалық жұмыста қарастырылған AWS сервистерінің бөлігіне қол жетімді болады. Біз алдын-ала StartLab батырмасын басу арқылы уақытша AWS аккаунт құруды бастадық. Бұл аккаунт қазірдің өзінде жасалған болуы мүмкін, сонымен AWS Management Console-ге өту үшін AWS батырмасын басу керек. AWS Management Console-дің негізгі парақшасында біз іздеу жолағына Lambda деп теріп, тиісті сервиске өтуіміз керек. Мұнда Create Function опциясын пайдалану арқылы жаңа функция жасау қажет. Біздің зертханалық жұмыста функцияны жаңадан жасаймыз, сондықтан біз Author From Scratch опциясын таңдаймыз. Функцияның атауына (Function name) myStopinator деп тереміз, орындалу уақыты (Runtime) Python 3.8 деп тереміз. Зертханалық жұмыс аясында біз үшін myStopinatorRole деген арнайы рөлі құрылған. Ол үшін біз Use an existing role және тиісті рөлді таңдауымыз керек. Осымен біз барлық Lambda-функцияға қажетті параметрлерді енгізуді аяқтадық, енді Create Function батырмасын басуға болады. Келесі қадам – біздің Lambda-ны кесте бойынша қоздыратын оқиға жасау. Мұндай оқиғаны жасау үшін біздің функциямыз бар парақшада Add trigger батырмасын таңдау керек. Әрі қарай, ашылмалы мәзірден біз EventBridge-ті таңдап, жаңа рул жасайтынымызды көрсетеміз (Create a new rule). Рул (ереже) атауы ретінде (Rule name) біз everyMinute деп көрсетеміз, ереже түрі ретінде (Rule type) Schedule expression көрсетеміз, яғни бұл оқиға кесте бойынша іске қосылады. Ал сол Schedule expression ішінде, яғни кестеде, біз rate (1 Minute) көрсетеміз. Бұл дегеніміз, біздің ивент (оқиға) әр минут сайын қосылып тұрады, біздің нысанымыз Lambda функциясы болғандықтан, бұл ивент біздің Lambda-ны іске қосады. Барлық параметрлерді енгізгеннен кейін, осы ивентті қосу үшін Add батырмасын басыңыз. Келесі тапсырма — Lambda-функциясының кодын өзгерту. Бұл Lambda-ны өзгерту, бізге қажет жаңа логиканы орындауы үшін қажет. Төмен айналдырсаңыз, сіз парақшаның Lambda кодын өңдеуге болатын арнайы бөлігін көресіз. Бұл жерде lambda-function.py. файлын таңдаңыз, содан кейін барлық ағымдағы кодты жойып, зертханалық жұмыста ұсынылған кодты енгізіңіз. Бұл дайын кодта сіз екінші және үшінші жолдарын көресіз, онда кейбір өзгерістер енгізу керек. Екінші жолда біз аймақтың AWS жүйелік мәнін енгізуіміз керек. Біз North Virginia аймағында жұмыс істейміз, сәйкесінше, жүйелік атау us-east-1 болады. Бұл мәнді <REPLACE_WITH_REGION> мәтінінің орнына қойыңыз. Келесі – осы Lambda-функциясы өшіретін EC2 инстанстың ID-ін ауыстыру. Ол үшін EC2 сервисіне өтіп, instance1 деп аталатын инстансты табу керек. EC2 инстанстың ID-ін көшіруден басқа, бұл instance іске қосылғанына көз жеткізу керек. Бұл instance ID-ды табу сізде қиындық тудырмайды деп ойлаймын. Оны тапқаннан кейін оны <REPLACE_WITH_INSTANCE_ID> мәтінінің орнына қою керек. Назар аударыңыз, жалғыз тырнақшалар қалады, өйткені біз мәтіндік ақпаратпен жұмыс істейміз. Ыңғайлы болу үшін сіз қазір енгізілген кодтың мысалын көресіз және сіздің кодыңыз оған ұқсас болуы керек. Барлық қажетті өзгерістерді енгізгеннен кейін біздің кодты сақтау қажет. Ол үшін файл мәзірінің пунктінде save опциясын таңдаңыз. Біздің кодты орнату керек. Ол үшін deploy батырмасын басыңыз. Бірнеше секундтан кейін сіз біздің кодтың сәтті орнатылғаны туралы хабарлама көресіз. Енді Monitor қойындысына өтіп, тиісті графикте минутына, яғни әр минут сайын бір рет біздің кодтың басталатынын көруге болады. Біздің кодтың сәтті жұмыс істегеніне көз жеткізу үшін EC2 сервисіне көшейік. Сіз instance1 деп аталатын инстанстың тоқтатылғанын көресіз. Бұл инстансты қайтадан қолмен іске қосып, біраз уақыттан кейін оның қайтадан тоқтағанын көруге болады. Тиісінше, бұл біздің Lambda коды сәтті жұмыс істеп жатқанын көрсетеді. Осымен біздің зертханалық жұмысымыз аяқталды, құттықтаймын! Сіз AWS Lambda сервисі туралы біраз түсінік алдыңыз деп үміттенемін. Болашақта қиындықтарды болдырмау үшін зертханалық жұмысымызды дұрыс жабайық. End Lab батырмасын басып, зертханалық жұмыстың аяқталғанын растаңыз. DELETE has been initiated... you may close this message box now хабарламасы пайда болғаннан кейін, сіз бұл терезені жауып, AWS Academy-ден шыға аласыз. Бүгінгі біздің зертханалық жұмысты талдау сессиясы аяқталды. Оны орындау кезінде сізде қиындықтар туындамайды деп үміттенемін. Келесі белсенділіктерімізде кездескенше. Рахмет!