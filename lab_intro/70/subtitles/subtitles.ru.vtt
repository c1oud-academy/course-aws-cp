WEBVTT

00:00:00.960 --> 00:00:06.930
Добрый день, уважаемые студенты! Я рад всех видеть
на очередной сессии разбора лабораторной работы.

00:00:07.470 --> 00:00:16.140
Тема лабораторной работы – Amazon EC2. Для
начала нам необходимо авторизоваться в AWS academy.

00:00:16.620 --> 00:00:23.700
Далее в нужном курсе Cloud
Foundations перейти на вкладку Modules.

00:00:24.510 --> 00:00:28.380
Здесь необходимо в Module 6 – Compute
найти третью лабораторную работу, которая

00:00:28.770 --> 00:00:33.300
называется Lab 3 – Introduction to Amazon EC2.
Давайте нажмём на эту ссылку, чтобы перейти

00:00:33.480 --> 00:00:41.700
на лабораторную работу. Мы находимся
на основной странице лабораторной работы.

00:00:42.090 --> 00:00:46.307
Опционально, вы можете
нажать на кнопку Start lab, чтобы

00:00:46.331 --> 00:00:51.240
инициировать создание временного
AWS аккаунта для вашей сессии.

00:00:52.290 --> 00:00:59.310
Рекомендую также убрать флажок с окна Terminal и
оставить её только для README для удобства работы.

00:01:02.130 --> 00:01:08.100
Мы с вами начинаем разбор лабораторной работы. Тема
лабораторной работы – Введение в сервис Amazon EC2.

00:01:09.150 --> 00:01:14.940
Я вам напоминаю, что Amazon EC2 – это тот сервис,
который предоставляет нам виртуальные серверы.

00:01:16.500 --> 00:01:20.640
Более подробно мы с вами
проговорили на лекционном занятии.

00:01:21.180 --> 00:01:27.960
Здесь мы получим практический
опыт по работе с сервисом Amazon EC2.

00:01:30.330 --> 00:01:36.160
Всего на выполнение лабораторной
работы рекомендуется потратить 35 минут.

00:01:37.260 --> 00:01:42.870
На самом деле выделяется намного больше времени
для выполнения, более того если времени не хватает,

00:01:43.020 --> 00:01:46.980
вы помните, что нажав на кнопку
Start lab, можете обнулить счётчик и при

00:01:47.190 --> 00:01:53.250
этом, сохраняя текущий прогресс,
получить дополнительное время.

00:01:58.080 --> 00:02:00.777
Так как временный AWS аккаунт
создаётся в рамках нашей сессии

00:02:00.801 --> 00:02:03.453
лабораторной работы, то у
этого аккаунта есть определённое

00:02:03.477 --> 00:02:06.039
ограничение. Доступ выдан для 
всех тех сервисов и features

00:02:06.063 --> 00:02:08.850
этих сервисов, которые мы
рассматриваем в рамках лабораторной

00:02:09.120 --> 00:02:14.416
работы. Для всего остального,
других сервисов и другого функционала

00:02:14.440 --> 00:02:20.460
сервисов, вы будете видеть сообщение
о том, что у вас нет прав и доступа.

00:02:21.630 --> 00:02:25.647
Это является спецификой этих 
временных AWS аккаунтов.

00:02:26.460 --> 00:02:29.480
Когда вы будете создавать и работать
в своём собственном AWS

00:02:29.504 --> 00:02:33.552
аккаунте, вы как Root пользователь
получите неограниченные

00:02:33.576 --> 00:02:37.980
права и у вас будет доступ к
любому из существующих сервисов.

00:02:39.540 --> 00:02:44.550
Мы двигаемся дальше. Нам необходимо нажать
на кнопку Start lab, выйдет всплывающее окно.

00:02:44.820 --> 00:02:48.750
Нам необходимо дождаться, пока
появится сообщение «Lab status: ready».

00:02:49.320 --> 00:02:55.410
Как только мы увидим это сообщение, мы можем
закрыть всплывающее окно и далее нажать на кнопку

00:02:55.710 --> 00:03:02.580
AWS. После нажатия на эту кнопку нас
перенаправит на страницу AWS Management Console.

00:03:05.700 --> 00:03:10.860
Первое задание в рамках лабораторной
работы – это запуск нового Amazon EC2 инстанса.

00:03:11.520 --> 00:03:15.180
Для того чтобы это сделать, нам
необходимо перейти на сервис Amazon EC2.

00:03:15.990 --> 00:03:18.713
Как только мы переходим на
сервис Amazon EC2, необходимо

00:03:18.737 --> 00:03:21.360
убедиться, что мы находимся
в регионе North Virgina.

00:03:21.870 --> 00:03:27.000
Напоминаю, что это один из самых основных
регионов и при прочих равных условиях,

00:03:27.120 --> 00:03:32.190
когда вы в будущем будете использовать AWS,
рекомендуется использовать именно этот регион.

00:03:32.970 --> 00:03:38.100
Почему? Потому что все новые обновления
выходят в первую очередь в этом регионе.

00:03:39.810 --> 00:03:44.368
Как только мы оказались на
главной странице cервиса Amazon

00:03:44.392 --> 00:03:48.870
EC2, нам необходимо нажать
на кнопку Launch instances.

00:03:50.880 --> 00:03:58.930
Откроется новая страница c необходимыми входными
данными для создания нашего Amazon EC2 инстанса.

00:03:59.880 --> 00:04:05.850
Первым предлагается ввести название
нашего инстанса, давайте введём туда Web Server.

00:04:06.180 --> 00:04:10.080
Я напоминаю, что это поле создаёт тег,
где ключом является Name с заглавной буквы,

00:04:10.530 --> 00:04:16.620
а значением является то значение,
которое вы введёте в это поле.

00:04:19.080 --> 00:04:23.610
Вторым шагом нам необходимо выбрать AMI.
Это – Amazon Machine Image.

00:04:24.090 --> 00:04:28.473
Это snapshot инстанса, который
определяет какая операционная

00:04:28.497 --> 00:04:32.880
система будет использоваться
в нашем Amazon EC2 инстансе.

00:04:33.210 --> 00:04:38.676
Давайте оставим выбранное значение Amazon Linux.
Далее ниже есть детализация,

00:04:38.700 --> 00:04:43.950
также необходимо оставить дефолтовые
значения Amazon Linux 2 AMI (HVM).

00:04:46.860 --> 00:04:52.710
Если мы прокрутим чуть ниже, у нас будет
отдельное поле для выбора типа инстанса,

00:04:52.980 --> 00:04:56.100
давайте также здесь оставим
то значение, которое предлагается.

00:04:56.310 --> 00:05:00.270
Это – t2.mісro – это один
из самых маленьких типов инстанса.

00:05:00.600 --> 00:05:03.670
Так как мы в рамках нашей
лабораторной работы создадим простейший

00:05:03.960 --> 00:05:09.390
веб-сервер, то мощности этого типа
инстанса для нас будет достаточно.

00:05:13.320 --> 00:05:17.590
Следующим шагом
необходимо выбрать SSH ключи.

00:05:18.510 --> 00:05:22.262
В рамках лабораторной
работы для нас специально

00:05:22.286 --> 00:05:27.510
предварительно был создан SSH
ключ, который называется vockey.

00:05:28.170 --> 00:05:33.760
Давайте из возможного списка
ключей выберем это значение.

00:05:37.950 --> 00:05:43.890
Двигаемся дальше, ниже есть секция по
настройке деталей в сети, т.е. Network settings.

00:05:44.430 --> 00:05:48.090
Нам необходимо нажать на кнопку Edit, для
того чтобы начать её редактировать.

00:05:48.690 --> 00:05:53.583
Как в VPC необходимо выбрать Lab VPC,
это уже предварительно созданный для нас

00:05:53.607 --> 00:05:58.500
Lab VPC, у которой есть два public
subnets в двух различных Availability Zones.

00:06:02.070 --> 00:06:07.027
Чуть ниже если прокрутить, есть cекция
называется Firewall (Security groups),

00:06:07.051 --> 00:06:12.008
т.е. настройка Security groups.
Нам необходимо выбрать опцию create security

00:06:12.032 --> 00:06:17.314
group, мы создадим новый security group,
как название security group укажем Web

00:06:17.338 --> 00:06:22.620
Server security group, а как description
укажем Security group for my web server.

00:06:23.010 --> 00:06:27.519
Здесь следует напомнить, что
Security group выступает как некий

00:06:27.543 --> 00:06:32.490
виртуальный Firewall, который
контролирует трафик нашим инстансом.

00:06:33.330 --> 00:06:38.973
Если мы прокрутим ниже, то
в секции Inbound Security group

00:06:38.997 --> 00:06:44.640
rules мы увидим все rules, т.е.
правила, которые разрешают

00:06:44.664 --> 00:06:50.845
входящий доступ к инстансам, к
которым привязана эта конкретная

00:06:50.869 --> 00:06:56.950
Security group. Нам необходимо 
удалить существующее правило.

00:06:57.060 --> 00:07:01.527
Таким образом, у нас в
секции Inbound Security group не

00:07:01.551 --> 00:07:06.018
будет ни одного правила,
это говорит о том, что извне к

00:07:06.042 --> 00:07:10.183
инстансам, у которых есть
привязка к этой конкретной

00:07:10.207 --> 00:07:15.000
Security group, подключиться
к ним извне будет невозможно.

00:07:15.360 --> 00:07:22.060
Мы чуть позже после создания нашего инстанса
введём некоторые изменения в эту Security group.

00:07:23.580 --> 00:07:28.120
Далее в следующей секции нам
предлагается ввести настройки хранилища.

00:07:28.590 --> 00:07:34.643
Давайте оставим все значения по умолчанию,
а именно здесь говорится о том, что мы по

00:07:34.667 --> 00:07:40.720
умолчанию будем использовать сервис
Amazon EBS, для того чтобы создать жёсткий диск.

00:07:41.310 --> 00:07:46.177
На этом жёстком диске будет
установлена операционная система и по

00:07:46.201 --> 00:07:52.060
умолчанию для этого жёсткого диска
выделяется 8 гигабайтов дисковой памяти.

00:07:55.530 --> 00:07:58.320
Оставляем это значение как
есть и двигаемся дальше.

00:08:02.100 --> 00:08:05.362
Далее нам необходимо
прокрутить в самый низ экрана и

00:08:05.386 --> 00:08:08.970
развернуть секцию, которая
называется Аdvanced details.

00:08:09.630 --> 00:08:13.740
Мы будем вносить некоторые
изменения в настройках внутри этой секции.

00:08:14.160 --> 00:08:19.650
Давайте прокрутим до поля, которое называется
Termination protection и выберем значение Enable.

00:08:20.160 --> 00:08:26.928
Что такое Termination protection? Это feature,
которая позволяет защитить наши инстансы от удаления.

00:08:26.952 --> 00:08:33.720
Даже пользователи, у которых есть доступ к
удалению этого конкретного инстанса, не смогут

00:08:34.320 --> 00:08:37.793
сразу её удалить.
Для того чтобы её успешно удалить, сперва

00:08:37.817 --> 00:08:41.830
нужно снять защиту, после чего
появляется возможность её удалить.

00:08:45.030 --> 00:08:51.120
Далее нам необходимо прокрутить чуть ниже и
добраться до поля, которое называется User datа.

00:08:51.480 --> 00:08:54.480
Что такое User datа? Это
некий набор команд, который

00:08:54.690 --> 00:08:58.890
позволяет нам финализировать
настройку нашего инстанса.

00:09:00.600 --> 00:09:05.760
В рамках этой лабораторной работы вам необходимо
скопировать готовые команды и вставить в это поле.

00:09:07.020 --> 00:09:11.560
Что делают эти команды? Первая команда
устанавливает Apache web server.

00:09:12.780 --> 00:09:23.430
Вторая команда настраивает автозагрузку, чтобы при
каждом запуске инстанса запускался наш веб-сервер.

00:09:24.060 --> 00:09:29.070
Далее, после того как эти настройки будут
произведены, на третьем шаге, третья команда

00:09:29.190 --> 00:09:34.020
стартует наш веб-сервер и на четвёртом
шаге мы создаём новую простейшую

00:09:34.740 --> 00:09:40.480
html страницу, для того чтобы
мы смогли к ней обратиться.

00:09:42.900 --> 00:09:49.410
После того как мы вели все необходимые
входные данные для создания нашего инстанса,

00:09:50.070 --> 00:09:56.100
необходимо в нижней части страницы с
правой стороны нажать на кнопку Launch instance.

00:09:57.090 --> 00:10:00.029
Вы увидите сообщение, что
команда по инициализации создания

00:10:00.053 --> 00:10:07.410
нашего инстанса успешно выполнена
и инстанс начинает создаваться.

00:10:07.680 --> 00:10:12.480
Вас направят на следующую страницу.
На этой странице вам также необходимо

00:10:12.750 --> 00:10:16.260
нажать на кнопку, на которой
написано View all instances.

00:10:18.496 --> 00:10:22.696
Как только вы ее нажмете, вы перейдете на страницу
со списком всех инстансов в вашем AWS аккаунте.

00:10:23.956 --> 00:10:28.486
Если вы не увидели список инстансов,
также вы не видите свой новый созданный

00:10:29.056 --> 00:10:33.496
сервер, проверьте, что вы находитесь
в правильном регионе. Как только вы

00:10:35.296 --> 00:10:38.620
отмечаете флажок возле названия
вашего инстанса, то в нижней части экрана

00:10:38.727 --> 00:10:40.976
появляется дополнительная
информация по этому инстансу.

00:10:41.356 --> 00:10:49.316
Она оформлена в виде нескольких
tab-ов: сгруппированная информация

00:10:49.340 --> 00:10:58.036
по инстансу, отдельно по безопасности,
отдельно по сетям и так далее.

00:10:59.146 --> 00:11:09.076
Здесь вы также в первой вкладке можете найти
публичный IP-адрес нашего Amazon EC2 инстанса.

00:11:11.797 --> 00:11:19.066
В списке инстансов в самом начале в колонке
State, вы будете видеть значение Pending.

00:11:19.426 --> 00:11:27.946
Это говорит о том, что команда по созданию нашего
инстанса запущена и она ожидает своего выполнения.

00:11:28.066 --> 00:11:32.776
Далее pending перейдёт в состояние Initializing, т.е.
она создаётся, поднимается для нас, как только все

00:11:33.046 --> 00:11:39.556
настройки будут выполнены и инстанс будет
готов к бою, он перейдёт в состояние Running.

00:11:39.976 --> 00:11:46.846
При этом обратите внимание, нам также нужно
дождаться, что в столбце Status checks у нас будет

00:11:48.076 --> 00:11:53.206
иконка с галочкой и написано
два из двух все проверки пройдены.

00:11:53.926 --> 00:11:58.399
Для того чтобы обновлять информацию
по нашим инстансам, вы можете

00:11:58.423 --> 00:12:02.686
нажимать на иконку обновления,
либо обновлять всю страницу.

00:12:03.046 --> 00:12:09.746
Как только эти два значения появятся, это
говорит о том, что ваш инстанс успешно создан.

00:12:10.156 --> 00:12:16.426
Веб-сервер на нем поднят и я вас с этим поздравляю.
Мы с вами вместе создали новый Amazon EC2 Instance.

00:12:17.686 --> 00:12:22.743
Теперь мы с вами переходим ко второй
части – это мониторинг нашего инстанса. 

00:12:22.767 --> 00:12:28.474
Мы посмотрим и научимся, как мы можем
посмотреть в каком состоянии находится наш инстанс.

00:12:32.566 --> 00:12:41.486
Отлично. Нам необходимо выбрать из списка инстансов
наш новый созданный инстанс, т.е. отметить флажком.

00:12:41.566 --> 00:12:45.346
После чего в нижней части странице
отобразится несколько вкладок, где

00:12:45.706 --> 00:12:52.916
есть информация по конкретно этому инстансу.
Нам необходимо выбрать вкладку Status checks.

00:12:53.266 --> 00:12:59.776
Это как раз таки те две проверки, которые ждали
нас в верхней части нашей лабораторной работы.

00:13:00.766 --> 00:13:05.287
Они называются System reachability и
Instance reachability. Простыми словами,

00:13:05.311 --> 00:13:10.666
происходит простейшая проверка, что мы
можем обратиться и подключиться к этому инстансу.

00:13:11.626 --> 00:13:17.686
Если эти проверки пройдены, то значит, со стороны
AWS никаких проблем нет и мы двигаемся дальше.

00:13:18.046 --> 00:13:20.536
Представим, что у нас есть какая-то
проблема и мы, таким образом, исключая

00:13:20.656 --> 00:13:26.479
различные возможные места поломки,
рассматриваем все возможные места, где

00:13:26.503 --> 00:13:32.326
что-то может сломаться. Таким образом 
находим проблемное место и устраняем.

00:13:32.806 --> 00:13:36.826
Мы двигаемся дальше к следующей
вкладке, которая называется Monitoring.

00:13:37.366 --> 00:13:42.100
В этой вкладке представлена информация
по всем имеющимся метрикам из

00:13:42.124 --> 00:13:47.566
сервиса Amazon CloudWatch, непосредственно
привязана к выбранному инстансу.

00:13:48.256 --> 00:13:56.446
На текущий момент будет отображаться не много
метрик, т.к. инстанс был создан относительно недавно.

00:13:57.226 --> 00:14:00.916
Вы видите несколько
различных графиков.

00:14:01.306 --> 00:14:07.662
Каждый из этих графиков вы можете отдельно
увеличить для того, чтобы ввести дополнительную

00:14:07.686 --> 00:14:15.116
информацию, например, увеличить период отображения
метрик, вы можете изменить детализацию и так далее.

00:14:16.966 --> 00:14:22.346
Здесь следует отметить, также, что в Amazon
CloudWatch передаются метрики по умолчанию

00:14:22.606 --> 00:14:29.176
Basic monitoring, т.е. каждые 
пять минут эта опция бесплатная.

00:14:29.956 --> 00:14:37.456
Есть платная опция, которая позволяет передавать 
метрики чаще, если этого требует бизнес-задача.

00:14:37.876 --> 00:14:42.886
В этом случае называется Detailed
monitoring и метрики передаются каждую минуту.

00:14:47.026 --> 00:14:52.036
В этой вкладке Monitoring, давайте нажмём
на кнопку Actions, это выпадающее меню.

00:14:52.456 --> 00:14:57.466
В этом меню выберем секцию,
кнопку Monitor and troubleshoot.

00:14:57.796 --> 00:15:02.116
Здесь также вы увидите выпадающее
меню, и выберем опцию Get system log.

00:15:03.166 --> 00:15:06.916
Вы перейдёте на страницу, где будут
отображаться системные логи.

00:15:07.366 --> 00:15:12.226
Это как раз таки вывод всех тех команд,
которые были запущены на нашем инстансе.

00:15:13.576 --> 00:15:18.076
Посмотрев на эти логи, вы можете понять, все ли
команды были успешно запущены. Таким образом

00:15:18.226 --> 00:15:24.316
вам нет необходимости напрямую подключаться
по SSH к этому инстансу, чтобы это проверить.

00:15:25.426 --> 00:15:30.589
Обратите внимание, что в этих
log-ах вы видите, что мы успешно

00:15:30.613 --> 00:15:35.606
установили пакет HTTP, т.е.
установили Apache web server.

00:15:36.016 --> 00:15:43.426
Я вам напоминаю, что мы устанавливали Apache
web server в рамках команд записанных в User datа.

00:15:47.206 --> 00:15:50.956
Хорошо, мы посмотрели ещё
один вариант как можно искать

00:15:51.436 --> 00:15:55.186
проблемы, если они возникают
с нашими Amazon EC2 инстансами.

00:15:55.186 --> 00:15:59.326
Давайте нажмём на кнопку Cancel
и посмотрим ещё одно место.

00:15:59.746 --> 00:16:02.566
Нам необходимо убедиться, что
наш web server выбран.

00:16:02.956 --> 00:16:08.626
Далее в отобразившхся в нижней части
экрана вкладках, выбираем вкладку Monitoring.

00:16:09.016 --> 00:16:13.404
Здесь выбираем кнопку Actions,
появится выпадающее меню – это

00:16:13.428 --> 00:16:17.816
то же самое выпадающее меню,
которое мы выбирали чуть выше.

00:16:18.436 --> 00:16:23.224
Нам необходимо также выбрать
опцию Monitor and troubleshoot,

00:16:23.248 --> 00:16:28.036
но на этот раз выбрать опцию
внутри Get instance screenshot.

00:16:29.626 --> 00:16:39.166
Что это такое? Здесь мы получим screenshot
консоли с нашего Amazon EC2 инстанса.

00:16:39.856 --> 00:16:44.209
В случае, если мы не можем
подключиться к этому инстансу напрямую

00:16:44.233 --> 00:16:48.586
в виду неких проблем, мы можем
попытаться получить screenshot.

00:16:48.886 --> 00:16:52.476
По screenshot-у можем либо
получить ответ, либо как минимум

00:16:52.500 --> 00:16:56.836
дополнительную информацию о том,
что же происходит на этом инстансе.

00:17:01.576 --> 00:17:06.150
Хорошо, это было ещё одно место,
которое помогает нам troubleshoot-ить,

00:17:06.174 --> 00:17:10.486
т.е. искать и решать проблемы
связанные с Amazon EC2 инстансами.

00:17:10.936 --> 00:17:14.265
Нам необходимо нажать на кнопку Cancel.
Таким образом мы

00:17:14.289 --> 00:17:18.226
успешно завершили второе наше
задание и переходим к следующему.

00:17:21.586 --> 00:17:26.149
Мы с вами переходим к третьему заданию
и здесь мы будем редактировать Security

00:17:26.173 --> 00:17:30.676
group для того, чтобы предоставить
доступ из интернета нашему веб-серверу.

00:17:31.546 --> 00:17:35.638
Что нам необходимо сейчас сделать?
Давайте выберем наш

00:17:35.662 --> 00:17:39.754
веб-сервер из списка инстансов,
далее во вкладке Details

00:17:39.778 --> 00:17:43.682
найдём значение публичного
IPv4 address, мы скопируем

00:17:43.706 --> 00:17:47.986
этот IP-адрес и откроем новую
страницу в вашем браузере.

00:17:48.916 --> 00:17:57.706
Попробуйте открыть эту страницу. Смогли ли вы
прогрузить страницу, что-то отображается или нет?

00:17:59.476 --> 00:18:03.754
Скорее всего, вы ничего не
увидите и вы увидите сообщение, что

00:18:03.778 --> 00:18:08.056
либо не существует эта страница,
либо какую-то другую ошибку.

00:18:11.176 --> 00:18:14.937
Почему она не отображается?
Давайте с вами сделаем небольшую

00:18:14.961 --> 00:18:18.466
активность, остановите это
видео и попробуйте угадать.

00:18:21.796 --> 00:18:25.346
Хорошо, я думаю каждый из
вас смог правильно ответить.

00:18:25.546 --> 00:18:29.119
Ответ в том, что, если вы помните,
в начале, когда мы создавали

00:18:29.143 --> 00:18:32.716
наш Amazon EC2 инстанс, мы
создавали новую Security group-у.

00:18:32.866 --> 00:18:38.571
В рамках этой Security group мы удалили
все rules, все Inbound rules у этой Security group.

00:18:38.595 --> 00:18:44.236
Это говорит о том, что мы никаким образом
не можем извне подключиться к этому инстансу.

00:18:45.196 --> 00:18:48.983
Даже по SSH мы не можем
подключиться, потому что для

00:18:49.007 --> 00:18:53.836
подключения по SSH необходимо
предоставить доступ к TCP порт 22.

00:18:55.306 --> 00:19:01.268
Хорошо, что нам необходимо сделать?
Нам необходимо сейчас попытаться сделать

00:19:01.292 --> 00:19:07.016
настройки таким образом, чтобы мы
увидели созданную нами веб-страницу.

00:19:07.216 --> 00:19:14.716
Для этого в EC2 console нам необходимо в левом
навигационном меню выбрать вкладку Security groups.

00:19:16.036 --> 00:19:19.729
В списке Security groups мы увидим
созданную нами Security group.

00:19:19.753 --> 00:19:23.446
Она называется Web Server security group.
Давайте на неё нажмём.

00:19:25.396 --> 00:19:29.644
Далее вы увидите Outbound и
Inbound rules, привязанные к этой

00:19:29.668 --> 00:19:33.916
Security group. Нас на текущий 
момент интересует Inbound rules.

00:19:34.516 --> 00:19:43.666
Если мы откроем эту вкладку, то мы увидим, что
никаких rule-ов нет, поэтому мы добавим новый rule.

00:19:44.026 --> 00:19:47.086
Для этого необходимо нажать на
кнопку Edit Inbound rules.

00:19:47.476 --> 00:19:51.708
Вы перейдёте на страницу редактирования
всех существующих rule-ов, здесь ничего

00:19:51.732 --> 00:19:55.856
не будет, будет только единственная
кнопка Add rule, давайте на неё нажмём.

00:19:56.506 --> 00:20:00.046
Как только вы на неё нажмёте,
появится новая строчка.

00:20:00.286 --> 00:20:04.630
В этой строчке вам необходимо
выбрать как тип – HTTP, как Source

00:20:04.654 --> 00:20:08.997
выбрать – Anywhere-IPv4, это
говорит о том, что мы предоставляем

00:20:09.021 --> 00:20:13.115
доступ по HTTP, это протокол
TCP порт 80, который заполнится

00:20:13.139 --> 00:20:18.346
автоматически и говорит о том, что из
интернета можно будеть подключаться.

00:20:21.328 --> 00:20:25.078
Нам необходимо нажать в нижней
части экрана кнопку Save rules.

00:20:25.888 --> 00:20:32.641
Как только вы нажмёте на эту кнопку, вас
перебросит на следующую страницу, но при

00:20:32.665 --> 00:20:39.418
этом все те изменения, которые вы
внесли, станут работать сразу в этот момент.

00:20:41.218 --> 00:20:44.657
Теперь, если вы не закрыли ту
страницу нашего веб-сервера,

00:20:44.681 --> 00:20:47.818
то перейдите на неё и
попробуйте обновить страницу.

00:20:48.148 --> 00:20:52.168
Если вы закрыли эту страницу,
ничего страшного, вы знаете, как

00:20:52.192 --> 00:20:56.608
найти публичный IPv4 адрес нашего инстанса.
Давайте мы её найдём.

00:20:57.028 --> 00:21:00.839
Как только вы откроете эту страницу,
то должна успешно отобразиться

00:21:00.863 --> 00:21:04.558
страница, в которой будет
написано Hello From your Web Server!

00:21:04.948 --> 00:21:10.175
Отлично, я вас поздравляю!
Вы сейчас настроили ваш Amazon EC2 инстанс, а

00:21:10.199 --> 00:21:15.868
также правильно настроили Security
group для того, чтобы трафик из интернета

00:21:15.892 --> 00:21:21.303
доходил до вашего инстанса, а также
этот инстанс благодаря установленному

00:21:21.327 --> 00:21:26.738
веб-серверу мог отвечать и показывать
нам нашу простейшую веб-страницу.

00:21:27.628 --> 00:21:33.542
Мы с вами переходим к следующему заданию.
Мы добрались до четвёртого задания и

00:21:33.566 --> 00:21:40.018
здесь нам необходимо изменить тип инстанса,
изменить размер нашего жёсткого диска.

00:21:41.338 --> 00:21:46.683
Представим, что наш инстанс либо слишком
мощный на текущий момент, при текущей нашей

00:21:46.707 --> 00:21:51.988
нагрузки, либо наоборот слишком слабый
и необходимо увеличить его Instance type.

00:21:52.318 --> 00:21:56.608
Это простейшая операция, которую мы
можем выполнять с нашими инстансами.

00:21:57.508 --> 00:22:01.256
Это очень легко делается внутри AWS.
Для того чтобы произвести

00:22:01.280 --> 00:22:05.398
эти операции, первым делом нам
необходимо остановить наш инстанс.

00:22:05.788 --> 00:22:12.748
Для этого нам необходимо в списке
EC2 инстансов выбрать наш веб-сервер.

00:22:13.918 --> 00:22:18.418
Далее, нажать на выпадающее меню
Instance State и выбрать опцию Stop Instance.

00:22:18.928 --> 00:22:23.896
В окне появится дополнительное
сообщение о том, действительно ли мы хотим

00:22:23.920 --> 00:22:28.888
остановить наш инстанс, нам необходимо
подтвердить и нажать на кнопку stop.

00:22:29.788 --> 00:22:34.648
Как только мы на неё нажмём, начнётся
процесс остановки нашего инстанса.

00:22:35.008 --> 00:22:44.648
Поэтому вы как cтатус у нашего инстанса будете видеть
значение stopping, т.е. он в процессе остановки.

00:22:45.088 --> 00:22:50.535
Давайте подождём некоторое время.
После того как мы обновим страницу, мы

00:22:50.559 --> 00:22:56.468
увидим, что состояние поменялось на
stopped и отображается красной иконкой.

00:22:56.818 --> 00:23:03.441
После того как сервер остановлен, мы можем менять 
тип инстанса, а также размер жёстких дисков. Давайте

00:23:03.465 --> 00:23:10.468
в первую очередь поменяем тип инстанса. Для этого
нам необходимо также выбрать наш инстанс из списка.

00:23:10.858 --> 00:23:16.018
Далее нажать на выпадающее меню
Actions, там выбрать опцию Instance settings,

00:23:16.042 --> 00:23:20.998
внутри выбрать Change instance type, т.е.
поменять тип нашего инстанса.

00:23:21.418 --> 00:23:29.068
В новой открывшейся странице выберем следующий
размер виртуальной машины, а именно t2.small.

00:23:30.238 --> 00:23:34.258
Этот размер в два раза больше, чем
текущее наше значение t2.micro.

00:23:34.738 --> 00:23:38.638
Хорошо, нам необходимо в нижней части
страницы нажать на кнопку Apply.

00:23:43.198 --> 00:23:49.843
Как только мы на неё нажали, все изменения
уже вступят в силу и как только мы включим наш

00:23:49.867 --> 00:23:57.118
инстанс, то он уже будет запущен с новым типом
инстанса, т.е. более мощная виртуальная машина.

00:23:57.838 --> 00:24:02.258
Но перед тем как мы включим, давайте
также изменим размер нашего жёсткого диска.

00:24:02.428 --> 00:24:06.238
Для этого необходимо в списке инстансов
выбрать наш инстанс.

00:24:07.438 --> 00:24:12.568
В отобразившихся в нижней части страницы
вкладках необходимо выбрать вкладку Storage.

00:24:13.648 --> 00:24:21.278
Далее нам необходимо выбрать опцию
Actions и нажать на кнопку Modify volume.

00:24:22.498 --> 00:24:27.511
Вы перейдёте на новую страницу, где будет
отображена информация о текущем размере

00:24:27.535 --> 00:24:32.548
нашего жёсткого диска, а именно 8
гигабайтов, давайте, поменяем это значение на 10.

00:24:33.358 --> 00:24:37.666
Как только вы это сделали, давайте нажмём
на кнопку Modify и далее выйдет всплывающее

00:24:37.690 --> 00:24:41.998
сообщение о том, что действительно ли мы
хотим изменить размер нашего жёсткого диска.

00:24:42.448 --> 00:24:45.118
Да, мы подтверждаем, поэтому
нажимаем на кнопку Modify.

00:24:47.038 --> 00:24:55.498
Как только мы произвели эти изменения,
нам необходимо включить наш инстанс,

00:24:55.522 --> 00:25:03.638
для этого в списке наших инстансов
нам необходимо выбрать наш инстанс.

00:25:03.838 --> 00:25:08.188
Далее в выпадающем меню Instance state
стоит выбрать опцию Start instance.

00:25:09.178 --> 00:25:13.726
Как только инстанс полностью
включится, вы увидите в списке

00:25:13.750 --> 00:25:19.006
инстансов, в соответствующем
столбце, что поменялся тип с t2.micro

00:25:19.030 --> 00:25:24.011
на t2.small, а также увидите в
дополнительной информации об этом

00:25:24.035 --> 00:25:28.858
инстансе, что значение жёсткого
диска вместо 8ГБ стало 10ГБ.

00:25:29.788 --> 00:25:34.816
Вы увидели как легко происходит изменение
типа инстанса на более мощный, либо

00:25:34.840 --> 00:25:39.868
на более слабый, а также как мы можем
увеличивать размеры наших жёстких дисков.

00:25:42.118 --> 00:25:50.704
Мы двигаемся дальше – пятое задание. Здесь мы
посмотрим как мы можем проверить, какие лимиты

00:25:50.728 --> 00:25:54.617
на текущий момент есть для сервиса Amazon EC2.
Для этого в

00:25:54.641 --> 00:25:59.078
левом навигационном меню нам
необходимо выбрать вкладку Limits.

00:25:59.338 --> 00:26:04.288
Как только вы перейдёте на эту страницу, вы
можете видеть некоторые сообщения с ошибкой.

00:26:04.618 --> 00:26:08.206
Вы можете игнорировать эти
сообщения, так как на реальном AWS

00:26:08.230 --> 00:26:11.818
аккаунте под Root пользователем
этих ошибок у вас не будет.

00:26:15.628 --> 00:26:20.968
В выпадающем меню в All limits, давайте
выберем значение Running instances.

00:26:21.358 --> 00:26:28.658
Таким образом, как пример, вы видите
информацию по количеству и типу инстансов,

00:26:28.682 --> 00:26:36.638
которые могут быть запущены конкретно в
этом AWS аккаунте в этом выбранном регионе.

00:26:37.018 --> 00:26:41.476
Если посмотрите значение
Running On-demand Standard,

00:26:41.500 --> 00:26:46.396
мы увидим большую часть
семейства типов инстансов в том

00:26:46.420 --> 00:26:50.837
числе и семейство T, общего
назначения, что такое-то

00:26:50.861 --> 00:26:55.798
количество инстансов могут
быть запущены в этом регионе.

00:26:57.928 --> 00:27:01.906
Следует помнить, что Limits бывают
двух видов: это Soft limits и Hard limits.

00:27:01.930 --> 00:27:05.908
Hard limits – это те элементы,
которые изменить не получится.

00:27:06.374 --> 00:27:13.648
Если вы доходите до Hard limits, рекомендуется
создать другой AWS аккаунт и продолжать работать там.

00:27:14.878 --> 00:27:19.127
Если же вы добрались до Soft limits,
то в этом случае вы можете всегда

00:27:19.151 --> 00:27:23.338
написать в техподдержку о том,
чтобы этот Soft limit был увеличен.

00:27:24.298 --> 00:27:27.395
Здесь никаких проблем по
большей части не возникает, обычно

00:27:27.419 --> 00:27:30.301
техподдержка проверяет,
действительно ли вы добрались

00:27:30.325 --> 00:27:32.901
до этого soft limit,
если это так, то soft limit

00:27:32.925 --> 00:27:36.328
увеличивается на то значение,
которое вы указываете для себя.

00:27:40.318 --> 00:27:44.588
Мы добрались до самого последнего
задания в рамках нашей лабораторной

00:27:44.612 --> 00:27:48.568
работы и здесь мы протестируем
работу Termination Protection.

00:27:50.038 --> 00:27:54.795
Для этого нам необходимо в левом
навигационном меню выбрать вкладку Instances,

00:27:54.819 --> 00:27:59.948
так мы увидим список всех инстансов,
которые есть в конкретном выбранном регионе.

00:28:00.238 --> 00:28:03.538
Нам необходимо выбрать наш
инстанс веб-сервер.

00:28:04.048 --> 00:28:09.598
Далее нажать на кнопку Instance state и в
выпадающем меню выбрать опцию Terminate instance.

00:28:10.678 --> 00:28:14.848
Выйдет всплывающее окно о том, что действительно
ли вы хотите отключить этот инстанс.

00:28:15.478 --> 00:28:18.447
Да, мы хотим его отключить, поэтому
мы нажимаем на кнопку Terminate.

00:28:19.918 --> 00:28:24.222
После того как вы нажмёте
на эту кнопку, вы увидите

00:28:24.246 --> 00:28:29.326
сообщение, что вам не удалось
запустить процесс отключения

00:28:29.350 --> 00:28:34.086
инстанса с таким-то ID, это
ID нашего инстанса и выйдет

00:28:34.110 --> 00:28:38.758
информация, которая
объясняет, почему так произошло.

00:28:40.168 --> 00:28:47.746
Мы знаем, что у него включена защита от удаления.
Давайте теперь попробуем отключить эту защиту,

00:28:47.770 --> 00:28:55.348
для этого нам необходимо в выбранном состоянии
нашего инстанса нажать на выпадающее меню Actions.

00:28:55.798 --> 00:29:01.228
Далее выбрать опцию Instance settings и
внутри выбрать опцию Change termination protection.

00:29:02.248 --> 00:29:10.486
Откроется дополнительная страница,
либо всплывающее окно и вы увидите, что

00:29:10.510 --> 00:29:18.748
в ячейке Enable, отмечен флажочек и
для нас включён termination protection.

00:29:19.318 --> 00:29:22.678
Нам необходимо этот флажок
убрать и нажать на кнопку Save.

00:29:24.298 --> 00:29:27.808
Мы с вами отключили termination
protection для нашего инстанса.

00:29:28.138 --> 00:29:32.818
Давайте теперь попробуем повторить и отключить
этот инстанс. Мы выбираем наш веб-сервер.

00:29:33.148 --> 00:29:38.248
Далее нажимаем на кнопку Instance
state и выбираем опцию Terminate instance.

00:29:39.208 --> 00:29:42.448
После этого подтверждаем удаление,
нажав на кнопку Terminate.

00:29:43.528 --> 00:29:49.047
Вы увидите, что ваш инстанс успешно
был отключён, процесс отключения

00:29:49.071 --> 00:29:55.086
был запущен и через некоторое время,
когда вы обновите страницу ещё раз,

00:29:55.110 --> 00:30:00.877
вы увидите наш веб-сервер уже в
состоянии Terminated, либо наш инстанс

00:30:00.901 --> 00:30:06.668
из списка вовсе исчезнет, если вы
это сделаете через некоторое время.

00:30:11.638 --> 00:30:17.038
Отлично, мы с вами добрались до конца нашей
лабораторной работы и я вас с этим поздравляю.

00:30:17.398 --> 00:30:24.366
Если вы параллельно проделывали все задания,
то вам необходимо правильно завершить эту

00:30:24.390 --> 00:30:31.358
лабораторную работу. Для этого необходимо
нажать на кнопку End Lab в всплывающем окне.

00:30:31.528 --> 00:30:35.907
Как только вы увидите сообщение
«DELETE has been initiated… You

00:30:35.931 --> 00:30:40.311
may close this message box now»,
это говорит о том, что процесс

00:30:40.335 --> 00:30:44.609
удаления созданного временного
AWS аккаунта был запущен, и вы

00:30:44.633 --> 00:30:48.908
можете закрывать это окно, а
также выходить из AWS academy.

00:30:51.958 --> 00:30:55.678
На этом мы заканчиваем сессию
разбора лабораторной работы.

00:30:56.038 --> 00:30:59.253
Я надеюсь, что у вас не возникнет
проблем при ее выполнении,

00:30:59.277 --> 00:31:02.218
и мы с вами увидимся на
следующих наших активностях.
