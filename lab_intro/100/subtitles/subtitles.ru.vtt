WEBVTT

00:00:00.000 --> 00:00:08.420
Добрый день, уважаемые студенты! Я рад вас видеть
на очередной сессии обзора лабораторной работы.

00:00:08.420 --> 00:00:15.080
Сегодня мы с вами чуть ближе познакомимся
с сервисом EBS. Окей, давайте начнем.

00:00:15.080 --> 00:00:22.568
Для того чтобы добраться до соответствующей
лабораторной работы, нам необходимо

00:00:22.592 --> 00:00:29.600
открыть AWS Academy, главную
страницу и курс Academy Cloud Foundations.

00:00:29.600 --> 00:00:37.668
Далее в левом навигационном меню 
нажимаем Modules. В списке модулей необходимо

00:00:37.692 --> 00:00:45.760
прокрутить до 7-го модуля Storage и
открыть активность Lab 4 - Working with EBS.

00:00:45.760 --> 00:00:50.360
Как только вы переходите по ссылке, открывается 
основная страница лабораторной работы.

00:00:50.360 --> 00:00:56.357
Вы это можете увидеть в самом 
верху страницы. Вы можете также

00:00:56.381 --> 00:01:03.480
запустить инициализирование
аккаунта для вас, нажав кнопку Start lab.

00:01:03.480 --> 00:01:08.691
А также для того, чтобы удобнее
читать задания лабораторной работы,

00:01:08.715 --> 00:01:14.400
давайте скроем окно Terminal и,
соответственно, оставим окно с README.

00:01:14.400 --> 00:01:22.520
В этой лабораторной работе мы подробнее
познакомимся с сервисом Amazon EBS.

00:01:22.520 --> 00:01:31.642
В рамках лабораторной работы проделаем вместе
самые основные действия при работе с этим сервисом,

00:01:31.666 --> 00:01:40.787
а именно научимся создавать EBS volume. Далее,
научимся привязывать этот volume к EC2 instance,

00:01:40.811 --> 00:01:50.458
посмотрим, как создаются снапшоты от наших volume
и рассмотрим, как происходит процесс восстановления

00:01:50.482 --> 00:01:59.840
из снапшота, а именно создание нового volume
из снапшота и привязка этого volume к EC2 instance.

00:01:59.840 --> 00:02:03.649
Для того чтобы успешно
завершить эту лабораторную работу,

00:02:03.673 --> 00:02:07.960
ожидается от вас базовое понимание
работы сервиса Amazon EC2.

00:02:07.960 --> 00:02:14.388
Так как с сервисом Amazon EC2 мы
познакомились с вами на предыдущих лабораторных

00:02:14.412 --> 00:02:20.840
работах и лекциях, то выполнить эту
лабораторную работу вам не составит труда.

00:02:20.840 --> 00:02:25.760
Всего на эту лабораторную работу
рекомендуется выделить 30 минут.

00:02:25.760 --> 00:02:31.115
Вы помните, что если вам
нужно больше времени, вы всегда

00:02:31.139 --> 00:02:37.080
можете обновить счетчик и
получить дополнительные 30 минут.

00:02:37.080 --> 00:02:40.905
Также напоминаю, что мы
работаем в песочнице AWS, которая

00:02:40.929 --> 00:02:44.480
специально для нашей
сессии временно была создана.

00:02:44.480 --> 00:02:53.760
Это говорит о том, что оно ограничено и не все
сервисы доступны в рамках этой песочницы.

00:02:53.760 --> 00:03:00.459
Вы можете обратиться только к тем
сервисам и к тому функционалу внутри

00:03:00.483 --> 00:03:07.960
этих сервисов, которые ожидается
использовать в рамках лабораторной работы.

00:03:07.960 --> 00:03:14.528
Перед тем как мы перейдем к заданию
лабораторной работы, давайте освежим

00:03:14.552 --> 00:03:21.120
в памяти, что же такое сервис Amazon
Elastic Block Store, чаще Amazon EBS.

00:03:21.120 --> 00:03:28.120
Это тот сервис, который предоставляет вам жесткие
диски для последующей привязки к EC2 инстансам.

00:03:28.120 --> 00:03:33.241
Выступают в роли Root volume,
то есть это те жесткие диски,

00:03:33.265 --> 00:03:38.120
на которых вы можете
установить операционную систему.

00:03:38.120 --> 00:03:43.508
Также EBS может выступать как Data
volume, то есть отдельно стоящий, независящий

00:03:43.532 --> 00:03:48.920
от Root volume жесткий диск, на котором вы
можете хранить данные ваших приложений.

00:03:48.920 --> 00:03:55.048
EBS предоставляет нам встроенную надежность.
Идея в том, что в рамках той

00:03:55.072 --> 00:04:01.200
availability зоны, где наш жесткий
диск был создан, данные реплицируются.

00:04:01.200 --> 00:04:05.325
Таким образом, проблемы
на уровне железа обходят нас

00:04:05.349 --> 00:04:09.960
стороной и прозрачно для нас
заменяются на стороне AWS.

00:04:09.960 --> 00:04:15.831
Мы можем также создавать
снапшоты, то есть копии состояния

00:04:15.855 --> 00:04:21.520
наших жестких дисков и
сохранять в сервисе Amazon S3.

00:04:21.520 --> 00:04:28.620
Как мы с вами помним, Amazon S3 еще более
надежный и высоко доступный сервис.

00:04:28.620 --> 00:04:37.680
Почему? Потому что на стороне Amazon S3 происходит 
репликация на несколько availability zone.

00:04:37.680 --> 00:04:47.280
Таким образом, вы можете надежно и доступно
хранить ваши данные в жестких дисках.

00:04:47.280 --> 00:04:54.365
Другой функционал – это с тех же копии снапшотов
в жестких дисках вы достаточно легко можете

00:04:54.389 --> 00:05:01.240
восстановить и создать новый жесткий диск и
дальше ее привязать к новому EC2 инстансу.

00:05:01.240 --> 00:05:08.440
Размеры жестких дисков могут быть
от 1 ГБ до 16 терабайтов.

00:05:08.440 --> 00:05:15.560
EBS volume – это достаточно удобный сервис
для работы с жесткими дисками.

00:05:15.560 --> 00:05:23.037
Вы создаете, привязываете к EC2
инстансам, делаете бэкапы, восстанавливаете,

00:05:23.061 --> 00:05:29.240
удаляете, также можете изменять
ее размеры по необходимости.

00:05:29.240 --> 00:05:35.280
Самым первым делом нам необходимо
добраться до AWS Management Console.

00:05:35.280 --> 00:05:38.280
Нам необходимо нажать
на кнопку Start Lab.

00:05:38.280 --> 00:05:42.308
После того, как вы увидите
сообщение «Lab Status: Ready»,

00:05:42.332 --> 00:05:46.360
вы можете закрыть всплывающее
окно и нажать на кнопку AWS.

00:05:46.360 --> 00:05:51.648
Как только вы на нее нажимаете, вас
перенаправляет на временно созданный

00:05:51.672 --> 00:05:56.960
AWS Account и вы попадаете на главную
страницу AWS Management Console.

00:05:56.960 --> 00:06:04.040
Первое задание – нам необходимо
создать новый EBS volume.

00:06:04.040 --> 00:06:10.720
Для этого в строке поиска сервисов
давайте начнем вводить EC2.

00:06:10.720 --> 00:06:15.360
Далее мы увидим ссылку на
соответствующий сервис и перейдем туда.

00:06:15.360 --> 00:06:20.908
В левом навигационном меню
нажмем на Instances, чтобы отобразить

00:06:20.932 --> 00:06:26.480
список существующих инстансов
на нашем временном AWS Account.

00:06:26.480 --> 00:06:31.728
Обратите внимание, что регион
должен быть North Virginia и там

00:06:31.752 --> 00:06:37.000
вы увидите как минимум один EC2
инстанс, который называется Lab.

00:06:37.000 --> 00:06:43.943
Давайте посмотрим на
метаданные этого EC2 инстанса и

00:06:43.967 --> 00:06:52.000
убедимся, что availability
зона этого инстанса us-east-1a.

00:06:52.000 --> 00:06:58.474
Availability зона для вас может отличаться,
что важно, вам необходимо запомнить эту

00:06:58.498 --> 00:07:06.000
availability зону, чтобы при создании новой
EBS volume мы создали в той же availability зоне.

00:07:06.000 --> 00:07:13.000
Как только мы это сделаем, нам необходимо в
левом навигационном меню выбрать Volumes.

00:07:13.000 --> 00:07:24.000
В открывшемся списке увидим все доступные жесткие
диски на нашем AWS Account и соответствующем регионе.

00:07:24.000 --> 00:07:34.000
Вы увидите, что есть volume размера 8 ГБ,
который привязан к инстансу с названием Lab.

00:07:34.000 --> 00:07:40.000
Мы сейчас будем создавать новый
EBS volume с размером 1 ГБ.

00:07:40.000 --> 00:07:43.000
Для этого нам необходимо
нажать на кнопку Create volume.

00:07:43.000 --> 00:07:49.000
Далее как Volume Type нам необходимо
выбрать General Purpose SSD или gp2.

00:07:49.000 --> 00:07:54.488
Как размер необходимо
выбрать 1 ГБ и как Availability зона

00:07:54.512 --> 00:08:00.000
выбрать ту availability зону,
где находится наш EC2 инстанс.

00:08:00.000 --> 00:08:04.247
Давайте добавим также теги,
как Key добавим Name и как

00:08:04.271 --> 00:08:09.000
Volume добавим My volume.
Нажмем на кнопку Create volume.

00:08:09.000 --> 00:08:14.771
После того, как вы нажмете на эту кнопку,
вас перенаправят на страницу со списком

00:08:14.795 --> 00:08:21.000
EBS volume, вы увидите, что появится еще
одна новая строчка и статус будет Creating.

00:08:21.000 --> 00:08:25.000
Давайте подождем некоторое время
и нажмем на кнопку Refresh.

00:08:25.000 --> 00:08:30.488
Через некоторое время статус
сменится на Available, что говорит о том,

00:08:30.512 --> 00:08:36.000
что наш EBS volume готов к работе и
может быть привязан к EC2 инстансу.

00:08:36.000 --> 00:08:45.000
Теперь давайте привяжем новый созданный
EBS volume к нашему EC2 инстансу.

00:08:45.000 --> 00:08:53.000
Для этого в списке EBS volume нам необходимо
выбрать Volume с названием My volume.

00:08:53.000 --> 00:09:03.000
Далее в выпадающем меню Actions необходимо
нажать на пункт Attach volume.

00:09:03.000 --> 00:09:12.000
Откроется дополнительное окно и в нем необходимо в
поле Instance выбрать наш инстанс с названием Lab.

00:09:12.000 --> 00:09:18.000
Обратите внимание, что в поле
Device стоит значение /dev/sdf.

00:09:18.000 --> 00:09:29.000
Это системный путь монтирования нашего volume,
который нам понадобится в следующих наших задачах.

00:09:29.000 --> 00:09:34.000
Теперь давайте нажмем на кнопку Attach volume
для того, чтобы привязать к нашему EC2 инстансу.

00:09:34.000 --> 00:09:39.637
Как только вы ее нажмете,
вы увидите статус у этого volume

00:09:39.661 --> 00:09:45.000
как In-use, т.е. привязан 
к одному из EC2 инстансов.

00:09:45.000 --> 00:09:50.000
Отлично, мы с вами добрались до третьей
части нашей лабораторной работы.

00:09:50.000 --> 00:09:56.000
Здесь нам необходимо
подключиться к нашему EC2 инстансу.

00:09:56.000 --> 00:09:59.988
Если у вас установлена
операционная система Windows, то вам

00:10:00.012 --> 00:10:04.000
необходимо следовать инструкциям,
которые мы пройдем сейчас.

00:10:04.000 --> 00:10:08.488
Чуть ниже мы также рассмотрим
инструкции, предназначенные

00:10:08.512 --> 00:10:13.000
для пользователей с операционной
системой Mac OS или Linux.

00:10:13.000 --> 00:10:25.000
Самым первым делом нам необходимо в меню нашей
лабораторной работы нажать на кнопку Details.

00:10:25.000 --> 00:10:31.000
Раскроется выпадающее меню и
там необходимо нажать на кнопку Show.

00:10:31.000 --> 00:10:35.488
Здесь отобразятся все credentials
и необходимые данные для

00:10:35.512 --> 00:10:40.000
подключения к временно
созданному для нас AWS аккаунту.

00:10:40.000 --> 00:10:51.000
Нам необходимо нажать на кнопку Download PPK и
сохранить labuser.ppk файл где-нибудь на компьютере.

00:10:51.000 --> 00:10:55.988
Labuser.ppk файл это специальный
файл, который позволяет

00:10:56.012 --> 00:11:01.000
нам безопасно подключаться
по SSH к нашему EC2 инстансу.

00:11:01.000 --> 00:11:10.099
На стороне AWS при создании инстанса с
названием Lab указывался как SSH ключ именно

00:11:10.123 --> 00:11:20.000
labuser.ppk, а именно не этот файл, а
публичный ключ привязанный к этому private ключу.

00:11:20.000 --> 00:11:25.155
Таким образом, когда вы
подключаетесь напрямую к этому инстансу

00:11:25.179 --> 00:11:30.000
с labuser.ppk, он дает доступ
и запускает нас в систему.

00:11:30.000 --> 00:11:35.000
Для того чтобы подключаться по SSH, нам
необходима соответствующая программа.

00:11:35.000 --> 00:11:40.064
Самая популярная программа это PuTTY.
Если она у вас не установлена,

00:11:40.088 --> 00:11:45.000
то рекомендую вам перейти по
ссылке и установить эту программу.

00:11:45.000 --> 00:11:50.232
Как только вы установили
программу, необходимо ее запустить

00:11:50.256 --> 00:11:55.488
и начать вводить соответствующие
данные, а именно во вкладке

00:11:55.512 --> 00:12:00.919
Connection необходимо в поле
Seconds between keepalives указать

00:12:00.943 --> 00:12:06.000
как 30. Это позволит держать нашу 
сессию открытой дольше.

00:12:06.000 --> 00:12:13.988
Далее нам необходимо во вкладке
Session в поле Host Name или

00:12:14.012 --> 00:12:22.000
IP-address ввести публичный
IPv4 адрес нашего EC2 инстанса.

00:12:22.000 --> 00:12:31.802
Далее нам необходимо в списке вкладок раскрыть
SSH, далее там выбрать подвкладку Auth, то есть

00:12:31.826 --> 00:12:43.000
Authorization, и в открывшемся окне необходимо
нажать на кнопку Browse, чтобы выбрать наш ключ.

00:12:43.000 --> 00:12:50.540
Вы ее нажимаете, открывается поиск
файлов, и вы по соответствующему пути,

00:12:50.564 --> 00:12:58.000
куда вы сохранили ваш файл,
добираетесь и выбираете labuser.ppk файл.

00:12:58.000 --> 00:13:03.603
Как только вы ее выбрали, необходимо
нажать на кнопку Open и сохранить ваш

00:13:03.627 --> 00:13:10.000
выбор, и далее нажать на кнопку Open еще
раз уже на основном окне программы пути.

00:13:10.000 --> 00:13:14.988
Оно инициализирует подключение к
нашему EC2 инстансу, и перед этим выйдет

00:13:15.012 --> 00:13:20.000
соответствующее окно, действительно
ли мы хотим подключиться к этому хосту.

00:13:20.000 --> 00:13:26.488
Да, мы нажимаем на кнопку Yes. Как только 
вы на нее нажимаете, открывается командная

00:13:26.512 --> 00:13:33.000
строка, и первым делом запросят у вас логин
пользователя, к которому вы подключаетесь.

00:13:33.000 --> 00:13:37.729
Необходимо ввести ec2-user,
это название пользователя по

00:13:37.753 --> 00:13:43.000
умолчанию в линуксовых EC2
инстансах, созданных внутри AWS.

00:13:43.000 --> 00:13:49.049
Давайте теперь рассмотрим инструкции
в случае, если на вашем локальном

00:13:49.073 --> 00:13:56.000
компьютере, либо ноутбуке установлена
операционная система Mac OS либо Linux.

00:13:56.000 --> 00:14:03.488
Первым делом необходимо раскрыть
выпадающее меню Details, далее нажать на кнопку

00:14:03.512 --> 00:14:11.000
Show и скачать наш ключ. В нашем случае 
необходимо скачать labsuser.pem файл.

00:14:11.000 --> 00:14:22.000
Далее открыть терминал и перейти по
тому пути, где сохранен наш pem файл.

00:14:22.000 --> 00:14:26.148
Обычно сохраняется в папке
Downloads, поэтому достаточно

00:14:26.172 --> 00:14:31.000
ввести cd, то есть change
directory и путь до папки Downloads.

00:14:31.000 --> 00:14:37.163
Далее нам необходимо выдать
соответствующие права файловой

00:14:37.187 --> 00:14:44.000
системе нашему новому файлу,
а именно chmod 400 labsuser.pem.

00:14:44.000 --> 00:14:48.988
Теперь нам необходимо перейти в
AWS Management Console, а именно на

00:14:49.012 --> 00:14:54.000
наш EC2 инстанс и посмотреть,
какой же у него публичный IPv4 адрес.

00:14:54.000 --> 00:15:01.488
Как только мы ее посмотрели, нам необходимо
это значение вставить в команду, указанную

00:15:01.512 --> 00:15:09.000
на 28-м шаге, а именно ssh-i labsuser.pem,
то есть это файл, который содержит наш ключ.

00:15:09.000 --> 00:15:14.601
Далее через пробел ec2-user@ и 
наш IP-адрес. Здесь мы сразу

00:15:14.625 --> 00:15:21.000
заранее говорим, что мы подключаемся
под пользователем ec2-user.

00:15:21.000 --> 00:15:26.151
Как только вы подготовили эту строчку,
нажимаем на Enter, выйдет также сообщение

00:15:26.175 --> 00:15:31.000
о том, действительно ли мы хотим
подключиться, и доверяем этому серверу.

00:15:31.000 --> 00:15:37.962
Нажимаем на кнопку Да,
после чего нас перебрасывает на

00:15:37.986 --> 00:15:46.000
этот сервер и открывается
соответствующая командная строка.

00:15:46.000 --> 00:15:55.000
Следующее задание, необходимо завершить конфигурацию
нового жесткого диска на стороне EC2 инстанса.

00:15:55.000 --> 00:16:03.000
Для этого, после того, как мы подключаемся к нашему
EC2 инстансу, необходимо запустить команду df -h.

00:16:03.000 --> 00:16:12.988
Здесь мы видим все доступные файловые 
системы. Также вы можете видеть,

00:16:13.012 --> 00:16:23.000
что у нас под /dev/xvda1 находится
корневой жесткий диск размером 8 ГБ.

00:16:23.000 --> 00:16:30.000
Как вы помните, мы создавали жесткий диск размером
1 ГБ и он сейчас не присутствует в этом списке.

00:16:30.000 --> 00:16:34.533
Что нам необходимо сделать?
Нам необходимо запустить набор из

00:16:34.557 --> 00:16:40.000
нескольких команд для того, чтобы
сделать этот жесткий диск доступным.

00:16:40.000 --> 00:16:47.668
У вас, возможно, возникнет вопрос, почему после
привязки жесткого диска на стороне AWS Management

00:16:47.692 --> 00:16:56.000
Console этот жесткий диск не появился на стороне
EC2 инстанса? Да, это хороший вопрос. Давайте поясню.

00:16:56.000 --> 00:17:05.348
Как только вы делаете привязку жесткого диска
на стороне AWS Management Console, вы можете

00:17:05.372 --> 00:17:14.631
представить это как отправка запроса, после чего этот
жесткий диск становится доступным для подключения

00:17:14.655 --> 00:17:24.316
к EC2 инстансу. После того, как вы подключаетесь
и проводите соответствующую настройку,

00:17:24.340 --> 00:17:28.719
вы как бы принимаете этот запрос,
а именно, доступный жесткий диск

00:17:28.743 --> 00:17:34.000
привязываете к вашей файловой системе
и оно становится доступным для работы.

00:17:34.000 --> 00:17:43.988
Самым первым делом нам необходимо
взять значения, которые мы запомнили на

00:17:44.012 --> 00:17:54.000
странице с жестким диском, это
/dev/sdf и вставить в команду в шаге 31.

00:17:54.000 --> 00:18:10.000
Здесь мы делаем видимым и подключаем к существующим
файловым системам нашу новую файловую систему.

00:18:10.000 --> 00:18:18.000
Далее нам необходимо создать папку, к которой
будет монтироваться наш жесткий диск.

00:18:18.000 --> 00:18:25.028
Для этого создаем папку в шаге 32 и в шаге 33
нам необходимо наш доступный жесткий диск,

00:18:25.052 --> 00:18:32.000
принятый операционной системой привязать
к той папке, куда мы хотим ее смонтировать.

00:18:32.000 --> 00:18:39.988
Для этого запускаем первую команду в шаге 33.
Далее, если мы перезагружаем

00:18:40.012 --> 00:18:48.000
наш Linux EC2 Instance, то все
дополнительные жесткие диски сбрасываются.

00:18:48.000 --> 00:18:55.336
Если мы хотим при запуске инстанса
автоматически привязывать дополнительные

00:18:55.360 --> 00:19:02.000
жесткие диски, нам необходимо
запустить вторую команду в шаге 33.

00:19:02.000 --> 00:19:07.432
Идея этой команды в том,
что мы вводим команду для

00:19:07.456 --> 00:19:14.000
привязки и сохраняем эту
команду в файле с автозагрузкой.

00:19:14.000 --> 00:19:25.488
Это /etc/fstab. Это тот файл, в котором хранятся все
команды, которые запускаются при перезагрузке и когда

00:19:25.512 --> 00:19:37.000
система стартует. Вы можете посмотреть содержимое
этого файла с командой в шаге 34, cat /etc/fstab.

00:19:37.000 --> 00:19:43.988
Что нам необходимо сделать? Теперь, 
если мы введем df -h, мы увидим новую

00:19:44.012 --> 00:19:51.000
запись и увидим новый жесткий диск
размером 1 ГБ в списке файловых систем.

00:19:51.000 --> 00:19:59.625
Называться он будет /dev/xvdf.
Теперь давайте поэкспериментируем

00:19:59.649 --> 00:20:08.000
и создадим файл в нашем новом
дополнительном жестком диске.

00:20:08.000 --> 00:20:17.136
Для этого запустим команду в шаге 36 и дополнительно
попробуем вывести содержание этого нового

00:20:17.160 --> 00:20:22.068
созданного файла с командой в шаге 37.
Как только вы ее запустите,

00:20:22.092 --> 00:20:27.000
вы увидите то же содержание,
что вы указали в шаге 36.

00:20:27.000 --> 00:20:35.655
Если все сработало правильно, значит,
мы все действия произвели корректно и наш

00:20:35.679 --> 00:20:45.000
новый Data volume успешно был привязан и
полностью настроен с нашим EC2 инстансом.

00:20:48.000 --> 00:20:53.000
Мы с вами переходим к следующему
заданию, а именно создание снапшота.

00:20:55.000 --> 00:21:03.000
Для этого нам необходимо в AWS
Management Console перейти на сервис EC2.

00:21:03.000 --> 00:21:08.488
В этом сервисе в левом навигационном
меню выбрать вкладку Volumes. Вы

00:21:08.512 --> 00:21:14.000
увидите список всех жестких дисков
на нашем временном AWS аккаунте.

00:21:14.000 --> 00:21:21.000
Нам необходимо выбрать нами ранее созданный
EBS volume, который называется My volume.

00:21:21.000 --> 00:21:28.000
Мы с вами помним, что в этом жестком диске
есть только один единственный файл.

00:21:28.000 --> 00:21:31.680
Как только вы выбрали этот
volume, необходимо нажать на

00:21:31.704 --> 00:21:36.000
Actions и в выпадающем меню
нажать на кнопку Create snapshot.

00:21:37.000 --> 00:21:44.000
Откроется дополнительное окно, где
необходимо ввести данные нашего снапшота.

00:21:44.000 --> 00:21:50.000
Давайте добавим Tag name со значением My
Snapshot и нажмем на кнопку Create snapshot.

00:21:53.000 --> 00:21:58.000
Вы перейдете обратно на предыдущую
страницу со списком EBS volumes.

00:21:58.000 --> 00:22:04.000
Теперь вам необходимо в левом навигационном
меню нажать на пункт меню Snapshots.

00:22:04.000 --> 00:22:08.519
И отобразится список снапшотов 
в этом AWS аккаунте. Вы увидите,

00:22:08.543 --> 00:22:12.988
что статус нашего снапшота 
указан как Pending. Это говорит о

00:22:13.012 --> 00:22:17.494
том, что наш снапшот создается.
Если через некоторое время мы

00:22:17.518 --> 00:22:22.000
обновим страницу, мы увидим,
что статус поменялся на Completed.

00:22:22.000 --> 00:22:29.000
Это говорит о том, что наш снапшот успешно создан
и вы можете восстанавливаться с этого снапшота.

00:22:31.000 --> 00:22:34.000
Теперь давайте поступим
следующим образом.

00:22:34.000 --> 00:22:44.000
В открытой SSH сессии к нашему EC2
инстансу удалим наш созданный файл txt.

00:22:46.000 --> 00:22:55.000
Далее сделаем проверку.
Посмотрим содержание пути /mnt/data-store/.

00:22:55.000 --> 00:23:03.000
Здесь мы отобразим список всех файлов и
папок, которые есть в нашем жестком диске.

00:23:03.000 --> 00:23:09.488
Вы должны увидеть пустой список,
что говорит о том, что на этом EC2

00:23:09.512 --> 00:23:16.000
инстансе, на конкретно нашем
созданном volume, нет никаких файлов.

00:23:16.000 --> 00:23:20.000
Тот файл, который мы создали,
мы сохранили в нашем снапшоте.

00:23:20.000 --> 00:23:28.364
И теперь мы попробуем в следующем
задании восстановить наш снапшот и убедиться,

00:23:28.388 --> 00:23:36.000
что этот файл в снапшоте отобразится
в новом созданном жестком диске.

00:23:39.000 --> 00:23:43.000
Мы с вами переходим к последнему
заданию в рамках лабораторной работы.

00:23:43.000 --> 00:23:48.000
И здесь мы будем восстанавливать
наш новый созданный снапшот.

00:23:48.000 --> 00:23:53.000
Для этого в AWS Management Console
необходимо перейти в сервис EC2.

00:23:53.000 --> 00:23:59.000
В сервисе EC2, в левом навигационном меню
необходимо перейти на пункт меню Snapshots.

00:24:00.000 --> 00:24:08.488
В списке снапшотов выбрать My Snapshot.
И далее в пункте меню Actions, выпадающем

00:24:08.512 --> 00:24:17.000
меню, выбрать кнопку Create Volume From Snapshot.
Отобразится соответствующее окно.

00:24:17.000 --> 00:24:23.235
Необходимо ввести правильную
availability зону и указать Tag Name.

00:24:23.259 --> 00:24:30.000
При этом Value будет Restored volume, чтобы мы
могли различать наши volume между собой.

00:24:30.000 --> 00:24:39.000
Обратите внимание, что при создании нового жесткого
диска из снапшота вы можете менять его настройки.

00:24:39.000 --> 00:24:43.988
А именно, вы можете поменять тип
жесткого диска, можете изменить его размер,

00:24:44.012 --> 00:24:49.000
а также создать его в новой, другой
availability зоне в рамках вашего региона.

00:24:52.000 --> 00:25:00.488
Как только мы создали наш новый volume,
давайте перейдем в левом навигационном меню, в

00:25:00.512 --> 00:25:09.000
пункт Volumes, и мы увидим, что у нас создался
новый volume с названием Restored Volume.

00:25:09.000 --> 00:25:13.988
Теперь нам необходимо его
выбрать и далее нажать на кнопку,

00:25:14.012 --> 00:25:19.000
выпадающую меню Actions,
далее выбрать опцию Attach volume.

00:25:19.000 --> 00:25:26.000
То есть мы привяжем наш восстановленный
жесткий диск к нашему инстанcу с названием Lab.

00:25:26.000 --> 00:25:39.000
Обратите внимание, что во время привязки указывается
системный путь нашего жесткого диска, /dev/sdg.

00:25:39.000 --> 00:25:47.123
Нажимаем на кнопку Attach volume.
Далее необходимо дождаться, что наш volume из

00:25:47.147 --> 00:25:56.000
состояния available перешел в состояние
In-use, то есть он привязан к EC2 инстансу.

00:25:56.000 --> 00:26:04.177
Теперь нам необходимо проделать все те
действия, которые мы проделали в начале с

00:26:04.201 --> 00:26:13.000
нашим жестким диском, и примонтировать
новый жесткий диск к пути /mnt/data-store2/.

00:26:13.000 --> 00:26:21.000
Как только мы проделаем все действия,
давайте отобразим содержание этой папки.

00:26:21.000 --> 00:26:30.000
Вы видите эту команду в шаге 55.
Это ls /mnt/data-store2/.

00:26:30.000 --> 00:26:36.000
Как только вы запустите эту команду,
вы увидите список файлов и папок.

00:26:36.000 --> 00:26:43.000
В нашем случае мы должны увидеть
один единственный файл с названием file.txt.

00:26:43.000 --> 00:26:51.488
Если это так, то мы успешно сконфигурировали,
привязали наш восстановленный жесткий

00:26:51.512 --> 00:27:00.000
диск к нашему EC2 инстансу, и смогли
отобразить содержание этого жесткого диска.

00:27:00.000 --> 00:27:03.000
На этом мы подошли к концу
нашей лабораторной работы.

00:27:03.000 --> 00:27:10.000
Мы проделали все самые популярные
действия, связанные с сервисом Amazon EBS.

00:27:10.000 --> 00:27:14.293
Теперь нам необходимо корректно
завершить лабораторную работу на стороне

00:27:14.317 --> 00:27:18.488
AWS Academy, а именно нажать на
кнопку End Lab, подтвердить, что мы

00:27:18.512 --> 00:27:22.929
завершаем нашу лабораторную работу,
и дождаться, что мы увидим сообщение,

00:27:22.953 --> 00:27:27.000
«DELETE has been initiated…
You may close this message box now».

00:27:27.000 --> 00:27:33.584
Это говорит о том, что процесс
очистки созданного для вас AWS аккаунта

00:27:33.608 --> 00:27:40.000
начался, и вы можете закрывать
это окно и выходить с AWS Academy.

00:27:40.000 --> 00:27:48.000
Так и сделаем. Вы можете закрыть всплывающее
окно и закрывать страницу с AWS Academy.

00:27:48.000 --> 00:27:53.242
На этом мы подробнее познакомились
с сервисом Amazon EBS. Я очень

00:27:53.266 --> 00:27:59.000
надеюсь, что вы получили более
полное представление об этом сервисе.

00:27:59.000 --> 00:28:05.000
Спасибо за внимание. Увидимся с вами 
на следующих наших активностях.