Қайырлы күн, құрметті студенттер! Мен сіздердің барлығыңызды келесі зертханалық шолу сессиясында көруге қуаныштымын. Бүгін біз EBS қызметіне жақынырақ қараймыз. Жарайды, бастайық.
Тиісті зертханалық жұмысқа жету үшін біз AWS академиясын, Академияның бұлтты негіздерінің өзіндік бетін және Академияның бұлтты негіздері курсын ашуымыз керек. Содан кейін сол жақ шарлау мәзіріндегі модульдерді нұқыңыз. Модульдер тізімінде 7 сақтау модуліне жылжып, Lab 4 - EBS белсенділігімен жұмыс істеуді ашыңыз. Сілтемені басқаннан кейін негізгі зертханалық бет ашылады. Сіз мұны беттің жоғарғы жағында көре аласыз. Сондай-ақ, “Бастау зертханасы” түймесін басу арқылы сіз үшін есептік жазбаны инициализациялауды бастауға болады. Сондай-ақ, зертханалық тапсырмаларды оқуды жеңілдету үшін Терминал терезесін жасырып, README терезесін сәйкесінше қалдырайық.
Бұл зертханада біз Amazon EBS туралы көбірек білеміз. Зертханалық жұмыстың бір бөлігі ретінде біз сіздермен осы қызметпен жұмыс істеу кезінде ең негізгі әрекеттерді орындау үшін жұмыс жасаймыз, атап айтқанда, EBS көлемін қалай құруға болатынын білеміз, содан кейін біз бұл көлемді EC2 данасына қалай байланыстыруды үйренеміз, содан кейін суреттердің біздің көлемімізден қалай жасалатынын және қалпына келтіру процесі қалай жұмыс істейтінін көреміз Сурет, атап айтқанда, суреттен жаңа дыбыс шығару және осы көлемді EC2 данасына байланыстыру. Осы зертхананы сәтті аяқтау үшін сіз Amazon EC2 қалай жұмыс істейтіні туралы негізгі түсінікке ие боласыз деп күтілуде. Біз сіздерді EC2 қызметімен алдыңғы зертханаларда және дәрістерде кездестіргендіктен, сізге осы зертханалық жұмысқа жету қиын болмайды. Осы зертханалық жұмысқа жалпы 30 минут бөлу ұсынылады. Есіңізде болсын, егер сізге көбірек уақыт қажет болса, сіз әрқашан метріңізді жаңартып, қосымша 30 минут ала аласыз. Сондай-ақ, біз арнайы сессия үшін арнайы құрылған AWS құм жәшігінде жұмыс істейтінімізді еске салғым келеді. Бұл дегеніміз, бұл шектеулі және барлық қызметтер осы құм жәшігінде қол жетімді емес дегенді білдіреді. Зертханалық жұмыстың бір бөлігі ретінде пайдалануға болатын осы қызметтер ішіндегі қызметтер мен мүмкіндіктерге ғана қол жеткізуге болады.
Зертханалық тапсырмаға келмес бұрын, Amazon Elastic Block Store дүкенінің бәрі туралы айтып көрейік. Ол Amazon EBS басқаша және жиі аталады. Бұл сізге EC2 даналарына кейінірек байланыстыру үшін қатты дискілерді ұсынатын қызмет. Олар түбірлік көлем ретінде әрекет етеді, яғни бұл амалдық жүйені орнатуға болатын қатты дискілер. EBS сонымен қатар а ретінде әрекет ете алады Деректер көлемі, яғни жеке, нақты, түбірлік көлемге тәуелсіз қатты диск, онда сіз өзіңіздің қолданба деректерін сақтай аласыз. EBS бізге кіріктірілген сенімділік береді. Идея, біздің қатты дискіміз жасалған қол жетімділік аймағында деректер қайталанады. Осылайша, аппараттық деңгейдегі проблемалар бізді айналып өтіп, AWS арқылы ашық түрде ауыстырылады. Сондай-ақ, біз қатты дискілердің күйінің көшірмелері болып табылатын суреттерді жасай аламыз және оларды Amazon S3-те сақтай аламыз. Біз барлық есте ретінде, Amazon S3 одан да сенімді және жоғары қол жетімді қызмет болып табылады. Неге? Amazon S3 бірнеше қол жетімділік аймақтарына көшіретіндіктен. Бұл жолы сіз қатты дискілерде қауіпсіз және қол жетімді деректеріңізді сақтауға болады. Тағы бір мүмкіндік - қатты дискілердегі суреттердің бірдей көшірмелерінен сіз жаңа қатты дискіні оңай қалпына келтіріп, жасай аласыз, содан кейін оны жаңа EC2 данасына байланыстыра аласыз. Қатты дискілер өлшемі 1 ГБ-тан 16 терабайтқа дейін болуы мүмкін. EBS көлемі - қатты дискілермен жұмыс істеу үшін өте ыңғайлы қызмет. Сіз жасайсыз, EC2 даналарына сілтеме жасайсыз, сақтық көшірмесін жасайсыз, қалпына келтіріңіз, жойыңыз және қажет болған жағдайда олардың өлшемін өзгертуге болады.
Біріншіден, біз жасауымыз керек - AWS басқару консоліне жету. Біз “Бастау зертханасы” түймесін басуымыз керек. “LabStatus: Дайын” хабарламасын көргеннен кейін, сіз қалқымалы терезені жауып, AWS түймесін басыңыз. Оны басқаннан кейін сіз уақытша жасалған AWS есептік жазбасына қайта бағытталасыз және AWS басқару консолі басты бетіне апарасыз. Бірінші міндет - жаңа EBS көлемін құру. Мұны істеу үшін EC2 теруді қызмет іздеу жолағында бастайық. Әрі қарай, біз тиісті қызметке сілтеме көреміз және сонда барамыз. Сол жақ шарлау мәзірінде уақытша AWS есептік жазбасында бар даналардың тізімін көрсету үшін Даналар түймешігін басыңыз. Аймақ Солтүстік Вирджиния болуы керек екенін ескеріңіз және сіз Lab деп аталатын кем дегенде бір EC2 данасын көресіз. Осы EC2 данасының метадеректерін қарастырайық және осы дананың қол жетімділік аймағы біз-шығыс-1а екеніне көз жеткізіңіз. Қол жетімділік аймағы сіз үшін әр түрлі болуы мүмкін, бұл сіз осы қол жетімділік аймағын есте сақтауыңыз керек, сондықтан жаңа EBS көлемін құру кезінде біз оны бірдей қол жетімділік аймағында жасаймыз. Біз мұны жасағаннан кейін, сол жақ шарлау мәзірінен Көлемдерді таңдауымыз керек. Ашылған тізімде біз барлық қол жетімді қатты дискілерді көреміз AWS есептік жазбасы және тиісті аймақ. Lab атты данаға байланған 8 ГБ көлемі бар екенін көресіз.
Енді біз 1 ГБ өлшемі бар жаңа EBS көлемін жасаймыз. Мұны істеу үшін біз дыбыс деңгейін жасау түймесін басуымыз керек. Әрі қарай, Volume Type ретінде біз жалпы мақсаттағы SSD немесе gp2 таңдауымыз керек. 1 Гбайт мөлшерін қалай таңдауымыз керек және қол жетімділік аймағы біздің EC2 данасы орналасқан қол жетімділік аймағын қалай таңдау керек. Сондай-ақ, кілт сияқты тегтерді қосайық, Атын қосыңыз және қалай Дыбыс деңгейі, Менің көлемімді қосыңыз. Дыбыс деңгейін жасау түймесін басыңыз. Осы батырманы басқаннан кейін сіз EBS дыбыс деңгейі тізіміне қайта бағытталасыз, сіз басқа жаңа жол пайда болатынын және күй болатынын көресіз Жасау. Біраз уақыт күтіп, Жаңарту түймесін басыңыз. Біраз уақыттан кейін күй қол жетімді болып өзгереді, яғни біздің EBS көлемі пайдалануға дайын және оны EC2 данасымен байланыстыруға болады. Енді жаңадан құрылған EBS көлемін біздің EC2 данасына байланыстырайық. Мұны істеу үшін, EBS дыбыс деңгейі тізімінде біз “Менің көлемім” деген атпен дыбыс деңгейін таңдауымыз керек. Содан кейін Әрекеттер ашылмалы мәзіріндегі Дыбыс деңгейін тіркеу пәрменін таңдаңыз. Қосымша терезе ашылады және сіз Instance өрісінде Lab атты біздің дананы таңдауыңыз керек. Құрылғы өрісі /dev/sdf күйіне орнатылғанын ескеріңіз. Бұл біздің көлемімізді орнатудың жүйелік жолы, оны келесі міндеттерімізде қажет етеді. Енді EC2 данасына сілтеме жасау үшін дыбыс деңгейін бекіту түймесін басайық. Оны басқаннан кейін, сіз бұл көлемнің күйін In-пайдалану ретінде көресіз, яғни. EC2 даналарының біріне байланысты.
Жақсы, сіз және мен оны зертханалық жұмысымыздың үш бөлігіне айналдырдық. Бұл жерде біз EC2 данасына қосылуымыз керек. Егер сізде Windows амалдық жүйесі орнатылған болса, сіз қазір өтетін нұсқауларды орындауыңыз керек. Төменде біз Mac OS немесе Linux операциялық жүйелері бар пайдаланушыларға арналған нұсқауларды қарастырамыз. Біріншіден, біз зертханалық мәзірдегі Мәліметтер түймесін басыңыз. Ашылмалы мәзір ашылып, “Көрсету” түймесін басыңыз. Бұл сізге біз үшін уақытша жасаған AWS тіркелгісіне қосылу үшін барлық тіркелгі деректерін және қажетті деректерді көрсетеді. Енді біз PPK жүктеу түймесін басып, Labuser.ppk файлын компьютерде сақтауымыз керек. Labuser.ppk файлы - бұл SSH арқылы біздің EC2 данасына қауіпсіз қосылуға мүмкіндік беретін арнайы файл. AWS жағында, Lab атты дананы жасаған кезде, labuser.ppk бұл файл емес, SSH кілті ретінде көрсетілген, бірақ сол жеке кілтпен байланыстырылған ашық кілт. Сондықтан сіз labuser.ppk-тен осы данаға тікелей қосылғанда, ол бізге қол жеткізуге мүмкіндік береді және бізді жүйеге қояды.
SSH арқылы қосылу үшін бізге тиісті бағдарлама қажет. Ең танымал бағдарлама - Putty. Егер сізде ол орнатылмаған болса, мен сізге сілтеме бойынша өтіп, осы бағдарламаны орнатуды ұсынамын. Бағдарламаны орнатқаннан кейін, оны іске қосу және тиісті деректерді енгізуді бастау керек, атап айтқанда, Қосылым қойындысында сіз Keepalives өрісіндегі секундтарда 30-ды көрсетуіңіз керек. Бұл біздің сессиямызды ұзақ сақтайды.
Әрі қарай, біз EC2 данасының жалпы IPv4 мекенжайын хост атауы немесе IP мекенжайы өрісіндегі Сессия қойындысына енгізуіміз керек. Әрі қарай, біз SSH-ді қойындылар тізімінде кеңейтуіміз керек, содан кейін Auth қойындысын таңдаңыз, яғни Авторизация және ашылатын терезеде біздің кілтті таңдау үшін Шолу түймесін басыңыз. Сіз оны басасыз, файлдарды іздеу ашылады және сіз өзіңіздің файлыңызды сақтаған тиісті жолға өтіп, labuser.ppk файлын таңдаңыз. Сіз оны таңдағаннан кейін, Ашу түймесін басып, таңдауыңызды сақтап, содан кейін жол бағдарламасының негізгі терезесінде Ашу түймесін қайтадан басыңыз. Ол біздің EC2 данасына қосылуды инициализациялайды және бұған дейін біз осы хостқа шынымен қосылғымыз келетінін көру үшін терезе пайда болады. Ия, біз Иә түймесін басамыз.
Сіз оны басқаннан кейін пәрмен жолы ашылады, ал сізден бірінші кезекте сіз қосылатын пайдаланушының пайдаланушы аты. AWS ішінде жасалған Linux EC2 даналары үшін әдепкі пайдаланушы аты болып табылатын ec2-пайдаланушыны енгізу керек.
Енді Mac OS немесе Linux жергілікті компьютерде немесе ноутбукта орнатылған болса, нұсқауларды қарастырайық. Бірінші қадам - Мәліметтер ашылмалы мәзірін ашу, содан кейін “Көрсету” түймесін басып, кілтімізді жүктеңіз. Біздің жағдайда біз Labsuser.pem файлын жүктеуіміз керек.
Әрі қарай, терминалды ашып, біздің PEM файлы сақталған жолға өтіңіз. Ол әдетте Жүктеулер қалтасында сақталады, сондықтан CD енгізіңіз, яғни каталогты және Жүктеулер қалтасына жолды өзгертіңіз. Әрі қарай, біз жаңа файлға тиісті файлдық жүйенің құқықтарын беруіміз керек, атап айтқанда chmod 400 labsuser.pem. Енді біз AWS басқару консоліне, біздің EC2 данасына өтіп, оның жалпы IPv4 мекен-жайы қандай екенін көруіміз керек.
Біз оған қарағаннан кейін, біз бұл мәнді 28-қадамда көрсетілген пәрменге енгізуіміз керек, атап айтқанда ssh-i labsuser.pem, яғни бұл біздің кілтімізді қамтитын файл. Әрі қарай, ec2-user@ кеңістігін және біздің IP мекенжайымызды бөліңіз. Мұнда біз бірден алдын-ала айтамыз, біз ec2-пайдаланушы пайдаланушысы ретінде қосыламыз. Осы жолды дайындағаннан кейін Enter пернесін басыңыз, сонымен қатар сіз осы серверге шынымен қосылғымыз және сенгіміз келетіні туралы хабарлама аласыз. Иә түймесін басыңыз, содан кейін біз осы серверге жіберіліп, тиісті пәрмен жолы ашылады.
Келесі міндет EC2 данасы жағында жаңа қатты дискінің конфигурациясын аяқтау болып табылады. Мұны істеу үшін, біз EC2 данасына қосылғаннан кейін df -h пәрменін іске қосуымыз керек. Мұнда біз барлық қол жетімді файлдық жүйелерді көре аламыз. Сондай-ақ, бізде/dev/xvda1 астында 8 ГБ түбірлік қатты диск бар екенін көруге болады. Естеріңізге сала кетейік, біз 1 ГБ қатты дискіні құрдық және ол дәл қазір бұл тізімде жоқ. Біз не істеуіміз керек? Бұл қатты дискіні қол жетімді ету үшін бірнеше командалар жиынтығын іске қосу керек. Қатты дискіні AWS Management Console жағына байланыстырғаннан кейін қатты диск EC2 данасының жағында пайда болмады деп ойлайсыз ба? Ия, бұл жақсы сұрақ. Мұны түсіндіріп берейін. Қатты дискіні AWS Management Console жағында байланыстырғаннан кейін, оны сұрау жіберу ретінде ойлауға болады және қатты диск EC2 данасына қосылу үшін қол жетімді. Қосылғаннан кейін және оны сәйкесінше теңшегеннен кейін, сіз бұл сұранысты қабылдаған сияқтысыз, атап айтқанда, сіз қол жетімді қатты дискіні файлдық жүйеге байланыстырасыз және ол жұмыс үшін қол жетімді болады. Біріншіден, біз қатты диск бетінде есте сақтаған мәндерді алуымыз керек, бұл/dev/sdf және оны 31-қадамдағы пәрменге қойыңыз. Бұл жерде біз жаңа файлдық жүйемізді көрінетін етіп жасаймыз және бар файлдық жүйелерге қосыламыз.
Әрі қарай, біз қатты диск орнатылатын қалтаны жасауымыз керек. Мұны істеу үшін 32-қадамда қалтаны жасаңыз және 33-қадамда амалдық жүйе қабылдаған қол жетімді қатты дискіні біз оны орнатқымыз келетін қалтаға байланыстыруымыз керек. Мұны істеу үшін 33-қадамда бірінші пәрменді іске қосыңыз. Әрі қарай, егер біз Linux EC2 Instance бағдарламасын қайта жүктесек, барлық қосымша қатты дискілер қалпына келтіріледі. Егер біз дананы іске қосқан кезде қосымша қатты дискілерді автоматты түрде байланыстырғымыз келсе, 33-қадамда екінші пәрменді іске қосуымыз керек. Бұл команданың идеясы - бұл пәрменді автоматты жүктеу файлында байланыстыру және сақтау үшін пәрменді енгіземіз. Бұл/etc/fstab. Бұл сіз қайта жүктеген кезде және жүйе басталған кезде іске қосылатын барлық пәрмендерді сақтайтын файл.
Бұл файлдың мазмұнын 34-қадамдағы пәрменмен көруге болады, яғни cat /etc/fstab. Біз не істеуіміз керек? Енді df -h енгізсек, жаңа жазбаны көреміз және файлдық жүйе тізімінде жаңа 1 Гб қатты дискіні көреміз. Ол/dev/xvdf деп аталады.
Енді тәжірибе жасап, жаңа қайталама қатты дискіде файл жасайық. Мұны істеу үшін 36-қадамдағы пәрменді іске қосыңыз және қосымша осы жаңадан жасалған файлдың мазмұнын 37-қадамдағы пәрменмен шығаруға тырысыңыз. Оны іске қосқаннан кейін сіз 36-қадамда көрсетілген мазмұнды көресіз. Егер бәрі дұрыс жұмыс істесе, бұл біз бәрін дұрыс жасадық және біздің жаңа Деректер көлемі сәтті байланыстырылған және біздің EC2 данасына толығымен конфигурацияланған дегенді білдіреді.
Біз суретті жасау болып табылатын келесі тапсырмаға көшеміз. Мұны істеу үшін біз AWS басқару консолінде EC2-ге көшуіміз керек. Бұл қызметте сол жақ шарлау мәзірінен Көлемдер мәзірін таңдаңыз. Сіз біздің уақытша AWS шотындағы барлық қатты дискілердің тізімін көресіз. Біз бұрын жасалған EBS дыбыс деңгейін таңдауымыз керек, ол менің көлемім деп аталады. Бұл қатты дискіде тек бір файл бар екенін бәріміз есімізде сақтаймыз. Осы көлемді таңдағаннан кейін Әрекеттер түймесін басып, ашылмалы мәзірдегі Суретті жасау түймесін басыңыз.
Қосымша терезе біздің суреттерімізді енгізу керек жерде ашылады. Менің суретім мәнімен тег атауын қосып, Суретті жасау түймесін басыңыз. Сіз EBS томдарын тізімдеу алдыңғы бетке қайта бағытталасыз. Енді сол жақ шарлау мәзіріндегі Суреттер мәзірінің элементін басу керек. Және осы AWS есептік жазбасында суреттер тізімі көрсетіледі. Сіз біздің сурет мәртебесі Күтудегі ретінде тізімделгенін көресіз. Бұл біздің суретіміз жасалып жатқанын көрсетеді. Егер біраз уақыттан кейін бетті жаңартатын болсақ, онда күй Аяқталды деп өзгергенін көреміз. Бұл біздің суретіміз сәтті жасалғанын және сіз осы суреттен қалпына келтіре аласыз дегенді білдіреді.
Енді келесідей жалғастырайық. Біздің EC2 данасына ашық SSH сессиясында біз құрылған txt файлын жоямыз. Әрі қарай, біз чек жасаймыз. /mnt/деректер дүкені/жолының мазмұнын көрейік. Мұнда біз қатты дискідегі барлық файлдар мен қалталардың тізімін көрсетеміз. Сіз бос тізімді көруіңіз керек, яғни бұл EC2 данасы, атап айтқанда, біз жасаған дыбыс деңгейі, ешқандай файлдар жоқ. Біз жасаған файлды біздің суретімізде сақтадық. Енді біз келесі тапсырмада суретімізді қалпына келтіруге тырысамыз және суреттегі бұл файлдың жаңадан жасалған қатты дискіде пайда болғанына көз жеткізіңіз.
Біз зертханада соңғы тапсырмаға қозғалады. Бұл жерде біз жаңадан жасалған суретті қалпына келтіреміз. Мұны істеу үшін сіз AWS басқару консолінде EC2-ге көшуіңіз керек. EC2 қызметінде сол жақ шарлау мәзірінде Суреттер мәзірінің элементіне өтіңіз. Суреттер тізімінен Менің суреттерімді таңдаңыз.
Содан кейін, Әрекеттер мәзірінің элементінде ашылмалы мәзірде “Суреттен дыбыс деңгейін жасау” түймесін таңдаңыз. Тиісті терезе көрсетіледі. Сіз дұрыс қол жетімділік аймағын енгізіп, тег атауын көрсетуіңіз керек. Сонымен бірге, Мән болады Қалпына келтірілген көлем, осылайша біз көлемдерімізді ажырата аламыз. Суреттен жаңа қатты дискіні жасаған кезде оның параметрлерін өзгертуге болады. Атап айтқанда, сіз қатты дискінің түрін өзгерте аласыз, оның өлшемін өзгерте аласыз және оны аймағыңыздағы жаңа, әр түрлі қол жетімділік аймағында жасай аласыз.
Жаңа томды жасағаннан кейін, сол жақ шарлау мәзіріндегі Көлемдер тармағына өтіп, Қалпына келтірілген көлем деп аталатын жаңа дыбыс жасағанымызды көреміз. Енді біз оны таңдауымыз керек, содан кейін Әрекеттер ашылмалы мәзірін нұқыңыз, содан кейін Дыбыс деңгейін тіркеу опциясын таңдаңыз. Яғни, біз қалпына келтірілген қатты дискіні Lab деп аталатын данаға байланыстырамыз. Назар аударыңыз, байланыстыру кезінде біздің қатты дискінің жүйелік жолы көрсетілген, атап айтқанда /dev/sdg. Дыбыс деңгейін бекіту түймесін басыңыз. Әрі қарай, біз өз көлеміміздің қол жетімдіден қолданысқа өтуін күтуіміз керек, яғни ол EC2 данасына байланысты. Енді біз қатты дискімен басында жасаған барлық қадамдарды жасауымыз керек және жаңа қатты дискіні /mnt/data-store2/path-ге орнатуымыз керек. Аяқтағаннан кейін, осы қалтаның мазмұнын көрсетейік. Сіз бұл пәрменді 55-қадамда көресіз. Бұл ls /mnt/деректер қоймасы2/. Осы пәрменді іске қосқаннан кейін файлдар мен қалталардың тізімін көресіз. Біздің жағдайда file.txt деп аталатын бір файлды көруіміз керек. Олай болса, біз сәтті конфигурацияладық, қалпына келтірілген қатты дискімізді EC2 данасымен байланыстырдық және сол қатты дискінің мазмұнын көрсете алдық.
Бұл бізді зертханалық жұмысымыздың соңына дейін жеткізеді. Біз барлық ең танымал Amazon EBS іс-шараларын жасадық. Енді біз зертханалық жұмысымызды AWS Академиясының жағында дұрыс аяқтауымыз керек, End Lab түймесін басып, зертханалық жұмысымызды аяқтағанымызды растап, “DELETE басталды... Сіз бұл хабарлама жолағын қазір жабуыңыз мүмкін”. Бұл сіз үшін жасаған AWS есептік жазбасын тазарту процесі басталғанын білдіреді және сіз осы терезені жауып, AWS академиясынан шыға аласыз. Міне, біз не істейміз. Сіз қалқымалы терезені жауып, AWS академиясының бетін жаба аласыз.
Мұнда біз Amazon EBS-ті жақынырақ қарастырдық. Сізге бұл қызмет туралы жақсы түсінік бар деп үміттенемін. Назарларыңызға рахмет. Сізді келесі іс-шараларымызда көреміз.
