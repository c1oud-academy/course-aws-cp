WEBVTT

00:00:00.000 --> 00:00:03.000
Добрый день, уважаемые студенты!

00:00:03.000 --> 00:00:06.480
Я рад вас всех видеть на очередной сессии обзора

00:00:06.480 --> 00:00:08.420
лабораторной работы.

00:00:08.420 --> 00:00:11.860
Сегодня мы с вами чуть ближе познакомимся с сервисом

00:00:11.860 --> 00:00:12.860
EBS.

00:00:12.860 --> 00:00:15.080
Окей, давайте начнем.

00:00:15.080 --> 00:00:21.040
Для того, чтобы добраться до соответствующей лабораторной

00:00:21.040 --> 00:00:24.840
работы, нам необходимо открыть AWS Academy, главную страницу

00:00:24.840 --> 00:00:29.600
и курс Academy Cloud Foundations.

00:00:29.600 --> 00:00:34.640
Далее в левом навигационном меню нажимаем modules.

00:00:34.640 --> 00:00:39.640
В списке модулей необходимо прокрутить до 7-го модуля

00:00:39.640 --> 00:00:45.760
storage и открыть активность lab4 working with EBS.

00:00:45.760 --> 00:00:48.480
Как только вы переходите по ссылке, открывается основная

00:00:48.480 --> 00:00:50.360
страница лабораторной работы.

00:00:50.360 --> 00:00:55.920
Вы это можете увидеть в самом верху страницы.

00:00:55.920 --> 00:01:00.940
Вы можете также запустить инициализирование аккаунта

00:01:00.940 --> 00:01:03.480
для вас, нажав кнопку start lab.

00:01:03.480 --> 00:01:07.760
А также для того, чтобы удобнее читать задания

00:01:07.760 --> 00:01:11.560
лабораторной работы, давайте скроем окно терминал и,

00:01:11.560 --> 00:01:14.400
соответственно, оставим окно с readme.

00:01:14.400 --> 00:01:20.360
В этой лабораторной работе мы подробнее познакомимся

00:01:20.360 --> 00:01:22.520
с сервисом Amazon EBS.

00:01:22.520 --> 00:01:26.920
В рамках лабораторной работы проделаем вместе с вами

00:01:26.920 --> 00:01:31.000
самые основные действия при работе с этим сервисом,

00:01:31.000 --> 00:01:37.820
а именно научимся создавать EBS volume, далее научимся

00:01:37.820 --> 00:01:41.840
привязывать этот volume к EC2 instance.

00:01:41.840 --> 00:01:46.700
Далее посмотрим, как создается снапшоты от наших volume и

00:01:46.700 --> 00:01:50.160
рассмотрим, как происходит процесс восстановления

00:01:50.160 --> 00:01:54.720
из снапшота, а именно создание нового volume из снапшота

00:01:54.720 --> 00:01:59.840
и привязка этого volume к EC2 instance.

00:01:59.840 --> 00:02:02.480
Для того, чтобы успешно завершить эту лабораторную

00:02:02.480 --> 00:02:05.600
работу, ожидается от вас базовое понимание работы

00:02:05.600 --> 00:02:07.960
сервиса Amazon EC2.

00:02:07.960 --> 00:02:10.820
Так как с сервисом EC2 мы познакомились с вами на

00:02:10.820 --> 00:02:15.440
предыдущих лабораторных работах и лекциях, то прийти

00:02:15.440 --> 00:02:20.840
к этой лабораторной работе вам не составит труда.

00:02:20.840 --> 00:02:24.200
Всего на эту лабораторную работу рекомендуется выделить

00:02:24.200 --> 00:02:25.760
30 минут.

00:02:25.760 --> 00:02:29.480
Вы помните, что если вам нужно больше времени, вы

00:02:29.480 --> 00:02:33.200
всегда можете обновить счетчик и получить дополнительные

00:02:33.200 --> 00:02:37.080
30 минут.

00:02:37.080 --> 00:02:40.680
Также напоминаю, что мы работаем в песочнице AWS,

00:02:40.680 --> 00:02:43.480
который специально для нашей сессии временно была

00:02:43.480 --> 00:02:44.480
создана.

00:02:44.480 --> 00:02:49.520
Это говорит о том, что оно ограничено и не все сервисы

00:02:49.520 --> 00:02:53.760
доступны в рамках этой песочницы.

00:02:53.760 --> 00:02:57.840
Вы можете обратиться только к тем сервисам и к тому

00:02:57.840 --> 00:03:02.800
функционалу внутри этих сервисов, которые ожидается

00:03:02.800 --> 00:03:07.960
использовать в рамках лабораторной работы.

00:03:07.960 --> 00:03:10.300
Перед тем как мы перейдем к заданию лабораторной

00:03:10.300 --> 00:03:13.600
работы, давайте освежим в памяти, что же такое сервис

00:03:13.600 --> 00:03:16.200
Amazon Elastic Block Store.

00:03:16.200 --> 00:03:21.120
По-другому и чаще ее называют Amazon EBS.

00:03:21.120 --> 00:03:24.400
Это тот сервис, который предоставляет вам жесткие

00:03:24.400 --> 00:03:28.120
диски для последующей привязки к EC2-инстансам.

00:03:28.120 --> 00:03:34.800
Выступают в роли root volume, то есть это те жесткие диски,

00:03:34.800 --> 00:03:38.120
на которых вы можете установить операционную систему.

00:03:38.120 --> 00:03:41.680
Также EBS может выступать как Data volume, то есть отдельно

00:03:41.680 --> 00:03:46.140
настоящий, независящий от root volume жесткий диск,

00:03:46.140 --> 00:03:48.920
на котором вы можете хранить данные ваших приложений.

00:03:48.920 --> 00:03:53.680
EBS предоставляет нам встроенную надежность.

00:03:53.680 --> 00:03:57.720
Идея в том, что в рамках той availability зоны, где наш

00:03:57.720 --> 00:04:01.200
жесткий диск был создан, данные реплицируются.

00:04:01.200 --> 00:04:05.160
Таким образом, проблемы на уровне железа, они обходят

00:04:05.160 --> 00:04:08.960
нас стороной и прозрачно для нас заменяются на стороне

00:04:08.960 --> 00:04:09.960
AWS.

00:04:09.960 --> 00:04:17.440
Мы можем также создавать снапшоты, то есть копии

00:04:17.440 --> 00:04:20.520
состояния наших жестких дисков и сохранять сервисы

00:04:20.520 --> 00:04:21.520
Amazon S3.

00:04:21.520 --> 00:04:27.620
Как мы с вами помним, S3 еще более надежный и высоко

00:04:27.620 --> 00:04:28.620
доступный сервис.

00:04:28.620 --> 00:04:31.360
Почему?

00:04:31.360 --> 00:04:34.600
Потому что на стороне S3 происходит репликация на

00:04:34.600 --> 00:04:37.680
несколько availability zone.

00:04:37.680 --> 00:04:41.000
Таким образом, вы можете надежно и доступно хранить

00:04:41.000 --> 00:04:47.280
ваши данные в жестких дисках.

00:04:47.280 --> 00:04:51.080
Другой функционал – это с тех же копии снапшотов

00:04:51.080 --> 00:04:55.680
в жестких дисках вы достаточно легко можете восстановить

00:04:55.680 --> 00:04:58.720
и создать новый жесткий диск и дальше ее привязать

00:04:58.720 --> 00:05:01.240
к новому EC2 инстенсу.

00:05:01.240 --> 00:05:06.480
� азмеры жестких дисков могут быть от 1 ГБ до 16

00:05:06.480 --> 00:05:08.440
ГБ.

00:05:08.440 --> 00:05:14.480
EBS volume – это достаточно удобный сервис для работы

00:05:14.480 --> 00:05:15.560
с жесткими дисками.

00:05:15.560 --> 00:05:20.000
Вы создаете, привязываете к EC2 инстенсам, делаете

00:05:20.000 --> 00:05:22.200
бэкапы, восстанавливаете, удаляете.

00:05:22.200 --> 00:05:29.240
Также можете изменять ее размеры по необходимости.

00:05:29.240 --> 00:05:33.040
Самым первым делом нам необходимо добраться до

00:05:33.040 --> 00:05:35.280
AWS Management консоли.

00:05:35.280 --> 00:05:38.280
Нам необходимо нажать на кнопку Start Lab.

00:05:38.280 --> 00:05:41.640
После того, как вы увидите сообщение Lab Status Ready, вы

00:05:41.640 --> 00:05:45.000
можете закрыть всплывающее окно и нажать на кнопку

00:05:45.000 --> 00:05:46.360
AWS.

00:05:46.360 --> 00:05:50.320
Как только вы на нее нажимаете, вас перенаправляет на временно

00:05:50.320 --> 00:05:55.960
созданный AWS Account и вы попадаете на главную страницу AWS Management

00:05:55.960 --> 00:05:56.960
консоли.

00:05:56.960 --> 00:06:04.040
Первое задание нам необходимо создать новый EBS volume.

00:06:04.040 --> 00:06:07.400
Для этого в строке поиска сервисов давайте начнем

00:06:07.400 --> 00:06:10.720
вводить EC2.

00:06:10.720 --> 00:06:14.360
Далее мы увидим ссылку на соответствующий сервис

00:06:14.360 --> 00:06:15.360
и перейдем туда.

00:06:15.360 --> 00:06:20.840
В левом навигационном меню нажмем на Instances, чтобы отобразить

00:06:20.840 --> 00:06:26.480
список существующих инстанцев на нашем временном AWS Account.

00:06:26.480 --> 00:06:28.920
Обратите внимание, что регион должен быть нож

00:06:28.920 --> 00:06:34.000
свержения и там вы увидите как минимум 1 EC2 instance, который

00:06:34.000 --> 00:06:37.000
называется Lab.

00:06:37.000 --> 00:06:44.000
Давайте посмотрим на метаданные этого EC2 instance и убедимся,

00:06:44.000 --> 00:06:52.000
что availability зона этого instance она US East 1A.

00:06:52.000 --> 00:06:56.000
Availability зона она для вас может отличаться, что важно

00:06:56.000 --> 00:07:00.000
вам необходимо запомнить эту availability зону, чтобы

00:07:00.000 --> 00:07:05.000
при создании новой EBS volume мы создали в той же availability

00:07:05.000 --> 00:07:06.000
зоне.

00:07:06.000 --> 00:07:10.000
Как только мы это сделаем, нам необходимо в левом

00:07:10.000 --> 00:07:13.000
навигационном меню выбрать volumes.

00:07:13.000 --> 00:07:19.000
В открывшемся списке мы увидим все доступные жесткие

00:07:19.000 --> 00:07:24.000
диски на нашем AWS Account и соответствующем регионе.

00:07:24.000 --> 00:07:31.000
Вы увидите, что есть volume размера 8 ГБ, который привязан

00:07:31.000 --> 00:07:34.000
к instance с названием Lab.

00:07:34.000 --> 00:07:39.000
Мы сейчас будем создавать новый EBS volume с размером

00:07:39.000 --> 00:07:40.000
1 ГБ.

00:07:40.000 --> 00:07:43.000
Для этого нам необходимо нажать на кнопку Create volume.

00:07:43.000 --> 00:07:48.000
Далее как volume type нам необходимо выбрать General Purpose SSD или

00:07:48.000 --> 00:07:49.000
GP2.

00:07:49.000 --> 00:07:54.000
Как размер необходимо выбрать 1 ГБ и как availability зона

00:07:54.000 --> 00:08:00.000
выбрать ту availability зону, где находится наш EC2 instance.

00:08:00.000 --> 00:08:05.000
Давайте добавим также теги, как t добавим name и как volume

00:08:05.000 --> 00:08:07.000
добавим my volume.

00:08:07.000 --> 00:08:09.000
Нажмем на кнопку Create volume.

00:08:09.000 --> 00:08:13.000
После того, как вы нажмете на эту кнопку, вас перенаправят

00:08:13.000 --> 00:08:18.000
на страницу со списком EBS volume, вы увидите, что появится

00:08:18.000 --> 00:08:21.000
еще одна новая строчка и статус будет creating.

00:08:21.000 --> 00:08:24.000
Давайте подождем некоторое время и нажмем на кнопку

00:08:24.000 --> 00:08:25.000
refresh.

00:08:25.000 --> 00:08:30.000
Через некоторое время статус сменится на available, что говорит

00:08:30.000 --> 00:08:35.000
о том, что наш EBS volume готов к работе и может быть привязан

00:08:35.000 --> 00:08:36.000
к EC2 instance.

00:08:36.000 --> 00:08:43.000
Теперь давайте привяжем новый созданный EBS volume к

00:08:43.000 --> 00:08:45.000
нашему EC2 instance.

00:08:45.000 --> 00:08:49.000
Для этого в списке EBS volume нам необходимо выбрать

00:08:49.000 --> 00:08:53.000
volume с названием my volume.

00:08:53.000 --> 00:09:00.000
Далее в выпадающем меню actions необходимо нажать

00:09:00.000 --> 00:09:03.000
на пункт attach volume.

00:09:03.000 --> 00:09:08.000
Откроется дополнительное окно и в нем необходимо

00:09:08.000 --> 00:09:12.000
в поле instance выбрать наш instance с названием lab.

00:09:12.000 --> 00:09:16.000
Обратите внимание, что в поле device стоит значение

00:09:16.000 --> 00:09:18.000
slash def slash sdf.

00:09:18.000 --> 00:09:23.000
Это системный путь монтирования нашего volume, который нам

00:09:23.000 --> 00:09:29.000
понадобится в следующих наших задачах.

00:09:29.000 --> 00:09:31.000
Теперь давайте нажмем на кнопку attach volume для того,

00:09:31.000 --> 00:09:34.000
чтобы привязать к нашему EC2 instance.

00:09:34.000 --> 00:09:37.000
Как только вы ее нажмете, вы увидите статус у этого

00:09:37.000 --> 00:09:39.000
volume как in use.

00:09:39.000 --> 00:09:45.000
То есть привязан к одному из EC2 instance.

00:09:45.000 --> 00:09:49.000
Отлично, мы с вами добрались до третьей части нашей

00:09:49.000 --> 00:09:50.000
лаборторной работы.

00:09:50.000 --> 00:09:56.000
Здесь нам необходимо подключиться к нашему EC2 instance.

00:09:56.000 --> 00:10:00.000
Если у вас установлена операционная система Windows,

00:10:00.000 --> 00:10:02.000
то вам необходимо следовать инструкциям, которые мы

00:10:02.000 --> 00:10:04.000
пройдем сейчас.

00:10:04.000 --> 00:10:07.000
Чуть ниже мы также рассмотрим инструкции, предназначенные

00:10:07.000 --> 00:10:13.000
для пользователей с операционной системой Mac OS или Linux.

00:10:13.000 --> 00:10:21.000
Самым первым делом нам необходимо в меню нашей

00:10:21.000 --> 00:10:25.000
лаборторной работы нажать на кнопку details.

00:10:25.000 --> 00:10:29.000
� аскроется выпадающее меню и там необходимо нажать

00:10:29.000 --> 00:10:31.000
на кнопку show.

00:10:31.000 --> 00:10:34.000
Здесь отобразятся все credentials и необходимые данные для

00:10:34.000 --> 00:10:40.000
подключения к временно созданному для нас AWS аккаунту.

00:10:40.000 --> 00:10:45.000
Нам необходимо сейчас нажать на кнопку download PPK и сохранить

00:10:45.000 --> 00:10:51.000
labuser.ppk file где-нибудь на компьютере.

00:10:51.000 --> 00:10:55.000
Labuser.ppk file это специальный файл, который позволяет

00:10:55.000 --> 00:11:01.000
нам безопасно подключаться по SSH к нашему EC2 instance.

00:11:01.000 --> 00:11:09.000
В стороне AWS при создании инстанца с названием lab указывался

00:11:09.000 --> 00:11:16.000
как SSH ключ именно labuser.ppk, а именно не этот файл,

00:11:16.000 --> 00:11:20.000
а публичный ключ привязанный к этому private ключу.

00:11:20.000 --> 00:11:23.000
Таким образом, когда вы подключаетесь напрямую

00:11:23.000 --> 00:11:28.000
к этому инстанцу с labuser.ppk, он дает доступ и запускает

00:11:28.000 --> 00:11:30.000
нас в систему.

00:11:30.000 --> 00:11:33.000
Для того, чтобы подключаться по SSH, нам необходима

00:11:33.000 --> 00:11:35.000
соответствующая программа.

00:11:35.000 --> 00:11:38.000
Самая популярная программа это PUTTI.

00:11:38.000 --> 00:11:41.000
Если она у вас не установлена, то рекомендую вам перейти

00:11:41.000 --> 00:11:45.000
по ссылке и установить эту программу.

00:11:45.000 --> 00:11:48.000
Как только вы установили программу, необходимо ее

00:11:48.000 --> 00:11:53.000
запустить и начать вводить соответствующие данные,

00:11:53.000 --> 00:11:58.000
а именно во вкладке connection необходимо в поле seconds

00:11:58.000 --> 00:12:01.000
between keepalives указать как 30.

00:12:01.000 --> 00:12:06.000
Это позволит держать нашу сессию открытой дольше.

00:12:06.000 --> 00:12:11.000
Далее нам необходимо во вкладке session в поле hostname

00:12:11.000 --> 00:12:22.000
или IP-адрес ввести публичный IPv4 адрес нашего EC2 инстанца.

00:12:22.000 --> 00:12:32.000
Далее нам необходимо в списке вкладок раскрыть SSH,

00:12:32.000 --> 00:12:37.000
далее там выбрать под вкладку auth, то есть authorization,

00:12:37.000 --> 00:12:41.000
и в открывшемся окне необходимо нажать на кнопку browse для

00:12:41.000 --> 00:12:43.000
того, чтобы выбрать наш ключ.

00:12:43.000 --> 00:12:50.000
Вы ее нажимаете, открывается поиск файлов, и вы по соответствующему

00:12:50.000 --> 00:12:55.000
пути, куда вы сохранили ваш файл, добираетесь и выбираете

00:12:55.000 --> 00:12:58.000
labuser.ppk file.

00:12:58.000 --> 00:13:02.000
Как только вы ее выбрали, необходимо нажать на кнопку

00:13:02.000 --> 00:13:06.000
open и сохранить ваш выбор, и далее нажать на кнопку

00:13:06.000 --> 00:13:10.000
open еще раз уже на основном окне программы пути.

00:13:10.000 --> 00:13:15.000
Оно инициализирует подключение к нашему EC2 инстанцу, и перед

00:13:15.000 --> 00:13:18.000
этим выйдет соответствующее окно, действительно ли

00:13:18.000 --> 00:13:20.000
мы хотим подключиться к этому хосту.

00:13:20.000 --> 00:13:22.000
Да, мы нажимаем на кнопку yes.

00:13:22.000 --> 00:13:26.000
Как только вы на нее нажимаете, открывается командная строка,

00:13:26.000 --> 00:13:31.000
и первым делом запросят у вас логин пользователя,

00:13:31.000 --> 00:13:33.000
к которому вы подключаетесь.

00:13:33.000 --> 00:13:37.000
Необходимо ввести EC2-User, это название пользователя

00:13:37.000 --> 00:13:42.000
по умолчанию в линуксовых EC2 инстанциях, созданных

00:13:42.000 --> 00:13:43.000
внутри AWS.

00:13:43.000 --> 00:13:50.000
Давайте теперь рассмотрим инструкции в случае, если

00:13:50.000 --> 00:13:53.000
на вашем локальном компьютере либо ноутбуке установлена

00:13:53.000 --> 00:13:56.000
операционная система macOS либо Linux.

00:13:56.000 --> 00:14:01.000
Первым делом необходимо раскрыть выпадающее меню

00:14:01.000 --> 00:14:06.000
details, далее нажать на кнопку show и скачать наш ключ.

00:14:06.000 --> 00:14:11.000
В нашем случае необходимо скачать labuser.pem файл.

00:14:11.000 --> 00:14:20.000
Далее открыть терминал и перейти по тому пути, где

00:14:20.000 --> 00:14:22.000
сохранен наш pem файл.

00:14:22.000 --> 00:14:25.000
Обычно сохраняется в папке downloads, поэтому достаточно

00:14:25.000 --> 00:14:31.000
ввести CD, то есть change директория и путь до папки downloads.

00:14:31.000 --> 00:14:36.000
Далее нам необходимо выдать соответствующие права

00:14:36.000 --> 00:14:42.000
файловой системе нашему новому файлу, а именно chmod 400

00:14:42.000 --> 00:14:44.000
labuser.pem.

00:14:44.000 --> 00:14:48.000
Теперь нам необходимо перейти в AWS Management консоль,

00:14:48.000 --> 00:14:52.000
а именно на наш EC2 инстанс и посмотреть, какой же у

00:14:52.000 --> 00:14:54.000
него публичный IPv4 адрес.

00:14:54.000 --> 00:14:57.000
Как только мы ее посмотрели, нам необходимо это значение

00:14:57.000 --> 00:15:05.000
вставить в команду, указанную на 28-м шаге, а именно ssh-i

00:15:05.000 --> 00:15:09.000
labuser.pem, то есть это файл, который содержит наш ключ.

00:15:09.000 --> 00:15:14.000
Далее через пробел EC2 user собачка и наш IP адрес.

00:15:14.000 --> 00:15:18.000
EC2 user, здесь мы сразу заранее говорим, что мы подключаемся

00:15:18.000 --> 00:15:21.000
под пользователем EC2-user.

00:15:21.000 --> 00:15:24.000
Как только вы подготовили эту строчку, нажимаем на

00:15:24.000 --> 00:15:28.000
Enter, выйдет также сообщение о том, действительно ли мы

00:15:28.000 --> 00:15:31.000
хотим подключиться и доверяем этому серверу.

00:15:31.000 --> 00:15:36.000
Нажимаем на кнопку Да, после чего нас перебрасывает

00:15:36.000 --> 00:15:43.000
на этот сервер и открывается соответствующая командная

00:15:43.000 --> 00:15:46.000
строка.

00:15:46.000 --> 00:15:50.000
Следующее задание, нам необходимо завершить конфигурацию

00:15:50.000 --> 00:15:55.000
нового жесткого диска на стороне EC2-инстанса.

00:15:55.000 --> 00:15:59.000
Для этого, после того, как мы подключаемся к нашему

00:15:59.000 --> 00:16:03.000
EC2-инстанцу, необходимо запустить команду df-h.

00:16:03.000 --> 00:16:07.000
Здесь мы видим все доступные файловые системы.

00:16:07.000 --> 00:16:18.000
Также вы можете видеть, что у нас под //dev//xvda1 находится

00:16:18.000 --> 00:16:23.000
корневой жесткий диск размером 8 ГБ.

00:16:23.000 --> 00:16:27.000
Как вы помните, мы создавали жесткий диск размером 1 ГБ

00:16:27.000 --> 00:16:30.000
и он сейчас не присутствует в этом списке.

00:16:30.000 --> 00:16:32.000
Что нам необходимо сделать?

00:16:32.000 --> 00:16:36.000
Нам необходимо запустить набор из нескольких команд

00:16:36.000 --> 00:16:40.000
для того, чтобы сделать этот жесткий диск доступным.

00:16:40.000 --> 00:16:44.000
У вас, возможно, возникнет вопрос, почему после привязки

00:16:44.000 --> 00:16:48.000
жесткого диска на стороне AWS Management Console этот жесткий

00:16:48.000 --> 00:16:52.000
диск не появился на стороне EC2-инстанца?

00:16:52.000 --> 00:16:54.000
Да, это хороший вопрос.

00:16:54.000 --> 00:16:56.000
Давайте поясню.

00:16:56.000 --> 00:17:00.000
Как только вы делаете привязку жесткого диска на стороне

00:17:00.000 --> 00:17:05.000
AWS Management Console, вы можете представить это как отправка запроса,

00:17:05.000 --> 00:17:10.000
после чего этот жесткий диск становится доступным

00:17:10.000 --> 00:17:14.000
для подключения к EC2-инстанцу.

00:17:14.000 --> 00:17:18.000
После того, как вы подключаетесь и проводите соответствующую

00:17:18.000 --> 00:17:25.000
настройку, вы как бы принимаете этот запрос, а именно доступный

00:17:25.000 --> 00:17:29.000
жесткий диск привязываете к вашей файловой системе

00:17:29.000 --> 00:17:34.000
и оно становится доступным для работы.

00:17:34.000 --> 00:17:41.000
Самым первым делом нам необходимо взять значения,

00:17:41.000 --> 00:17:46.000
которые мы запомнили на странице с жестким диском,

00:17:46.000 --> 00:17:54.000
это slash def slash sdf и вставить в команду в шаге 31.

00:17:54.000 --> 00:18:06.000
Здесь мы делаем видимым и подключаем к существующим

00:18:06.000 --> 00:18:10.000
файловым системам нашу новую файловую систему.

00:18:10.000 --> 00:18:15.000
Далее нам необходимо создать папку, к которой будет

00:18:15.000 --> 00:18:18.000
монтироваться наш жесткий диск.

00:18:18.000 --> 00:18:23.000
Для этого создаем папку в шаге 32 и в шаге 33 нам необходимо

00:18:23.000 --> 00:18:26.000
наш доступный жесткий диск принятой системой,

00:18:26.000 --> 00:18:30.000
операционной системой привязать к той папке, куда мы хотим

00:18:30.000 --> 00:18:32.000
ее смонтировать.

00:18:32.000 --> 00:18:37.000
Для этого запускаем команду, первую команду в шаге 33.

00:18:37.000 --> 00:18:44.000
Далее, если мы перезагружаем наш Linux EC2-Instance, то все

00:18:44.000 --> 00:18:48.000
дополнительные жесткие диски они сбрасываются.

00:18:48.000 --> 00:18:56.000
Если мы хотим при автозапуске, при запуске инстанца автоматически

00:18:56.000 --> 00:18:59.000
привязывать дополнительные жесткие диски, нам необходимо

00:18:59.000 --> 00:19:02.000
запустить вторую команду в шаге 33.

00:19:02.000 --> 00:19:08.000
Идея этой команды в том, что мы вводим команду для привязки

00:19:08.000 --> 00:19:14.000
и сохраняем эту команду в файле с автозагрузкой.

00:19:14.000 --> 00:19:19.000
Это slash etc, slash fstab. Это тот файл, в котором хранятся все команды,

00:19:19.000 --> 00:19:24.000
которые запускаются при перезагрузке и когда система

00:19:24.000 --> 00:19:32.000
стартует. Вы можете посмотреть содержимое этого файла с командой

00:19:32.000 --> 00:19:37.000
в шаге 34, то есть cat, slash etc, slash fstab.

00:19:37.000 --> 00:19:42.000
Что нам необходимо сделать? Теперь, если мы введем df-h,

00:19:42.000 --> 00:19:48.000
мы увидим новую запись и увидим новый жесткий диск

00:19:48.000 --> 00:19:51.000
размером 1 гигабайт в списке файловых систем.

00:19:51.000 --> 00:19:56.000
Называться он будет slash def, slash xvdf.

00:19:59.000 --> 00:20:05.000
Теперь давайте поэкспериментируем и создадим файл в нашем

00:20:05.000 --> 00:20:08.000
новом дополнительном жестком диске.

00:20:08.000 --> 00:20:13.000
Для этого запустим команду в шаге 36 и дополнительно

00:20:13.000 --> 00:20:17.000
попробуем вывести содержание этого нового созданного

00:20:17.000 --> 00:20:22.000
файла с командой в шаге 37. Как только вы ее запустите,

00:20:22.000 --> 00:20:27.000
вы увидите тоже содержание, что вы указали в шаге 36.

00:20:27.000 --> 00:20:31.000
Если все сработало правильно, значит мы все действия

00:20:31.000 --> 00:20:40.000
произвели корректно и наш новый data volume успешно был

00:20:40.000 --> 00:20:45.000
привязан и полностью настроен с нашими sudo-instances.

00:20:48.000 --> 00:20:51.000
Мы с вами переходим к следующему заданию, а именно

00:20:51.000 --> 00:20:53.000
создание снапшота.

00:20:55.000 --> 00:21:00.000
Для этого нам необходимо в AWS Management Console

00:21:00.000 --> 00:21:03.000
перейти на сервис EC2.

00:21:03.000 --> 00:21:07.000
В этом сервисе в левом навигационном меню выбрать

00:21:07.000 --> 00:21:12.000
меню volumes. Вы увидите список всех жестких дисков на

00:21:12.000 --> 00:21:14.000
нашем временном AWS аккаунте.

00:21:14.000 --> 00:21:19.000
Нам необходимо выбрать нами ранее созданный EBS volume,

00:21:19.000 --> 00:21:21.000
который называется my volume.

00:21:21.000 --> 00:21:26.000
Мы с вами помним, что в этом жестком диске есть

00:21:26.000 --> 00:21:28.000
только один единственный файл.

00:21:28.000 --> 00:21:32.000
Как только вы выбрали этот volume, необходимо нажать

00:21:32.000 --> 00:21:36.000
на actions и в выпадающем меню нажать на кнопку create snapshot.

00:21:37.000 --> 00:21:41.000
Откроется дополнительное окно, где необходимо ввести

00:21:41.000 --> 00:21:44.000
данные нашего снапшота.

00:21:44.000 --> 00:21:48.000
Давайте добавим tag name со значением my snapshot и нажмем

00:21:48.000 --> 00:21:50.000
на кнопку create snapshot.

00:21:53.000 --> 00:21:56.000
Вы перейдете обратно на предыдущую страницу со

00:21:56.000 --> 00:21:58.000
списком EBS volumes.

00:21:58.000 --> 00:22:01.000
Теперь вам необходимо в левом навигационном меню

00:22:01.000 --> 00:22:04.000
нажать на пункт меню snapshots.

00:22:04.000 --> 00:22:08.000
И отобразится список снапшотов в этом AWS аккаунте.

00:22:08.000 --> 00:22:11.000
Вы увидите, что статус нашего снапшота указан как

00:22:11.000 --> 00:22:16.000
pending. Это говорит о том, что наш снапшот создается.

00:22:17.000 --> 00:22:20.000
Если через некоторое время мы обновим страницу, мы увидим,

00:22:20.000 --> 00:22:22.000
что статус поменялся на completed.

00:22:22.000 --> 00:22:25.000
Это говорит о том, что наш снапшот успешно создан

00:22:25.000 --> 00:22:29.000
и вы можете восстанавливаться с этого снапшота.

00:22:31.000 --> 00:22:34.000
Теперь давайте поступим следующим образом.

00:22:34.000 --> 00:22:42.000
В открытой SSH-сессии к нашему EC2-инстанцу удалим наш созданный

00:22:42.000 --> 00:22:44.000
файл, файл txt.

00:22:46.000 --> 00:22:49.000
Далее сделаем проверку.

00:22:49.000 --> 00:22:55.000
Посмотрим содержание пути slash mount slash datastore slash.

00:22:55.000 --> 00:23:00.000
Здесь мы отобразим список всех файлов и папок, которые

00:23:00.000 --> 00:23:03.000
есть в нашем жестком диске.

00:23:03.000 --> 00:23:07.000
Вы должны увидеть пустой список, что говорит о том,

00:23:07.000 --> 00:23:12.000
что на этом EC2-инстанце, на конкретно нашем созданном

00:23:12.000 --> 00:23:16.000
volume, нет никаких файлов.

00:23:16.000 --> 00:23:20.000
Тот файл, который мы создали, мы сохранили в нашем снапшоте.

00:23:20.000 --> 00:23:27.000
И теперь мы попробуем в следующем задании восстановить

00:23:27.000 --> 00:23:31.000
наш снапшот и убедиться, что этот файл в снапшоте

00:23:31.000 --> 00:23:36.000
отобразится в новом созданном жестком диске.

00:23:39.000 --> 00:23:43.000
Мы с вами переходим к последнему заданию в рамках лабораторной работы.

00:23:43.000 --> 00:23:48.000
И здесь мы будем восстанавливать наш новый созданный снапшот.

00:23:48.000 --> 00:23:53.000
Для этого в AWS Management Console необходимо перейти в сервис EC2.

00:23:53.000 --> 00:23:57.000
В сервисе EC2, в левом навигационном меню необходимо перейти

00:23:57.000 --> 00:23:59.000
на пункт меню Snapshots.

00:24:00.000 --> 00:24:04.000
В списке снапшотов выбрать My Snapshot.

00:24:04.000 --> 00:24:09.000
И далее в пункте меню Actions, выпадающем меню, выбрать

00:24:09.000 --> 00:24:12.000
кнопку Create Volume From Snapshot.

00:24:12.000 --> 00:24:17.000
Отобразится соответствующее окно.

00:24:17.000 --> 00:24:24.000
Необходимо ввести правильную availability зону и указать tag name.

00:24:24.000 --> 00:24:28.000
При этом значение будет restored volume, чтобы мы могли различать

00:24:28.000 --> 00:24:30.000
наши volume между собой.

00:24:30.000 --> 00:24:35.000
Обратите внимание, что при создании нового жесткого диска

00:24:35.000 --> 00:24:39.000
из снапшота вы можете менять его настройки.

00:24:39.000 --> 00:24:43.000
А именно, вы можете поменять тип жесткого диска, можете

00:24:43.000 --> 00:24:46.000
изменить его размер, а также создать его в новой, другой

00:24:46.000 --> 00:24:49.000
availability зоне в рамках вашего региона.

00:24:52.000 --> 00:24:58.000
Как только мы создали наш новый volume, давайте перейдем

00:24:58.000 --> 00:25:03.000
в левом навигационном меню, в пункт volumes, и мы увидим,

00:25:03.000 --> 00:25:09.000
что у нас создался новый volume с названием restored volume.

00:25:09.000 --> 00:25:13.000
Теперь нам необходимо его выбрать и далее нажать

00:25:13.000 --> 00:25:17.000
на кнопку, выпадающую меню Actions, далее выбрать опцию

00:25:17.000 --> 00:25:19.000
Attach volume.

00:25:19.000 --> 00:25:23.000
То есть мы привяжем наш восстановленный жесткий диск к нашему

00:25:23.000 --> 00:25:26.000
инстанцу с названием Lab.

00:25:26.000 --> 00:25:29.000
Обратите внимание, что во время привязки указывается

00:25:29.000 --> 00:25:36.000
системный путь нашего жесткого диска, а именно

00:25:36.000 --> 00:25:39.000
slash def, slash SDG.

00:25:39.000 --> 00:25:42.000
Нажимаем на кнопку Attach volume.

00:25:42.000 --> 00:25:48.000
Далее необходимо дождаться, что наш volume из состояния

00:25:48.000 --> 00:25:53.000
available перешел в состояние in use, то есть он привязан

00:25:53.000 --> 00:25:56.000
к истинцу.

00:25:56.000 --> 00:25:59.000
Теперь нам необходимо проделать все те действия, которые

00:25:59.000 --> 00:26:04.000
мы проделали в начале с нашим жестким диском, и

00:26:04.000 --> 00:26:11.000
примонтировать новый жесткий диск к пути slash mount, slash

00:26:11.000 --> 00:26:13.000
datastore2.

00:26:13.000 --> 00:26:19.000
Как только мы проделаем все действия, давайте отобразим

00:26:19.000 --> 00:26:21.000
содержание этой папки.

00:26:21.000 --> 00:26:26.000
Вы увидите эту команду в шаге 55.

00:26:26.000 --> 00:26:30.000
Это ls, пробел, slash mount, slash datastore2.

00:26:30.000 --> 00:26:33.000
Как только вы запустите эту команду, вы увидите

00:26:33.000 --> 00:26:36.000
список файлов и папок.

00:26:36.000 --> 00:26:41.000
В нашем случае мы должны увидеть один единственный

00:26:41.000 --> 00:26:43.000
файл с названием file.txt.

00:26:43.000 --> 00:26:49.000
Если это так, то мы успешно сконфигурировали, привязали

00:26:49.000 --> 00:26:53.000
наш восстановленный жесткий диск к нашему истинцу, и

00:26:53.000 --> 00:27:00.000
смогли отобразить содержание этого жесткого диска.

00:27:00.000 --> 00:27:03.000
На этом мы подошли к концу нашей лабораторной работы.

00:27:03.000 --> 00:27:06.000
Мы проделали все самые популярные действия, связанные

00:27:06.000 --> 00:27:10.000
с сервисом Amazon EBS.

00:27:10.000 --> 00:27:13.000
Теперь нам необходимо корректно завершить лабораторную

00:27:13.000 --> 00:27:17.000
работу на стороне AWS Academy, а именно нажать на кнопку

00:27:17.000 --> 00:27:20.000
end lab, подтвердить, что мы завершаем нашу лабораторную

00:27:20.000 --> 00:27:23.000
работу, и дождаться, что мы увидим сообщение,

00:27:23.000 --> 00:27:27.000
delete has been initiated, you may close this message box now.

00:27:27.000 --> 00:27:32.000
Это говорит о том, что процесс очистки созданного для

00:27:32.000 --> 00:27:38.000
вас AWS аккаунта начался, и вы можете закрывать это

00:27:38.000 --> 00:27:40.000
окно и выходить с AWS Academy.

00:27:40.000 --> 00:27:41.000
Так и сделаем.

00:27:41.000 --> 00:27:45.000
Вы можете закрыть всплывающее окно и закрывать страницу

00:27:45.000 --> 00:27:48.000
с AWS Academy.

00:27:48.000 --> 00:27:54.000
На этом мы подробнее познакомились с сервисом Amazon EBS.

00:27:54.000 --> 00:27:58.000
Я очень надеюсь, что вы получили более полное представление

00:27:58.000 --> 00:27:59.000
об этом сервисе.

00:27:59.000 --> 00:28:00.000
Спасибо за внимание.

00:28:00.000 --> 00:28:19.000
Увидимся с вами на следующих наших активностях.