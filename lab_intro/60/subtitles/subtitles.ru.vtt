WEBVTT

00:00:00.000 --> 00:00:10.120
Добрый день, уважаемые студенты! Я рад вас видеть
на очередной сессии «Введение в лабораторную работу».

00:00:10.120 --> 00:00:17.320
В сегодняшней лабораторной работе мы с
вами тесно поработаем с сервисом Amazon VPC.

00:00:17.320 --> 00:00:18.520
Итак, давайте начнем.

00:00:18.520 --> 00:00:26.560
Для того, чтобы начать выполнять лабораторную
работу, нам необходимо её предварительно открыть.

00:00:26.560 --> 00:00:31.550
Для того чтобы до него
добраться, давайте авторизуемся в

00:00:31.574 --> 00:00:37.200
AWS Academy, откроем
соответствующий курс Cloud Foundations.

00:00:37.200 --> 00:00:48.680
Далее, откроем в левом навигационном
меню курса вкладку Modules.

00:00:48.680 --> 00:00:54.080
Далее нам необходимо перейти на пятый модуль
- это Networking and Content Delivery.

00:00:54.080 --> 00:00:59.273
Если мы раскроем все активности пятого
модуля, то мы увидим в нижней части вторую

00:00:59.297 --> 00:01:04.880
лабораторную работу, которая называется
«Build your VPC and Launch your web server».

00:01:04.880 --> 00:01:11.980
Давайте нажмем на эту ссылку для того, чтобы
перейти на основную страницу лабораторной работы.

00:01:11.980 --> 00:01:15.480
Мы добрались до основной страницы
лабораторной работы.

00:01:15.480 --> 00:01:22.640
Опционально вы можете инициировать
создание AWS аккаунта для вашей сессии.

00:01:22.640 --> 00:01:25.880
Для этого необходимо
нажать на кнопку Start Lab.

00:01:25.880 --> 00:01:31.829
Также я рекомендую закрыть окно
Terminal для того, чтобы информация

00:01:31.853 --> 00:01:37.440
с заданием лабораторной работы
отобразилась на всю страницу.

00:01:37.440 --> 00:01:47.880
В этой лабораторной работе мы с вами
подробнее поработаем с сервисом Amazon VPC.

00:01:47.880 --> 00:01:54.092
Amazon VPC — это сервис, который
позволяет вам внутри облака AWS построить

00:01:54.116 --> 00:02:00.840
такую же сеть, которую мы строим в
традиционном дата-центре, только в облаке.

00:02:00.840 --> 00:02:05.200
Все необходимые компоненты
и настройки доступны.

00:02:05.200 --> 00:02:13.881
После выполнения этой лабораторной работы мы с
вами научимся создавать VPC, используя AWS Management

00:02:13.905 --> 00:02:23.200
Console, создавать subnets, конфигурировать Security
groups, а также запускать EC2 инстансы в наших VPC.

00:02:23.200 --> 00:02:30.960
В среднем выполнение этой
лабораторной работы занимает 30 минут.

00:02:30.960 --> 00:02:35.668
Если вам требуется больше времени,
никаких ограничений и проблем с этим нет,

00:02:35.692 --> 00:02:40.400
по умолчанию для выполнения этой
лабораторной работы уделяется полтора часа.

00:02:40.400 --> 00:02:46.149
Я вам напоминаю, что
специально для нашей сессии

00:02:46.173 --> 00:02:53.760
лабораторной работы создается
временный реальный AWS аккаунт.

00:02:53.760 --> 00:02:58.126
Он создается с некоторыми
ограничениями, поэтому при попытке

00:02:58.150 --> 00:03:02.517
открыть сервис, который не
предусмотрен лабораторной работой,

00:03:02.541 --> 00:03:06.984
либо использование функционала,
который также не предусмотрен

00:03:07.008 --> 00:03:11.080
лабораторной работой, вы
можете видеть ошибки доступа.

00:03:11.080 --> 00:03:18.848
Это нормально, следует ожидать, поэтому
рекомендуется сконцентрироваться на задаче, которая

00:03:18.872 --> 00:03:26.640
дана в рамках лабораторной работы, и для этих целей
все необходимые ресурсы активированы и доступны.

00:03:26.640 --> 00:03:30.481
На этой диаграмме вы можете
увидеть конечный результат

00:03:30.505 --> 00:03:35.000
после успешного выполнения
всех пунктов лабораторной работы.

00:03:35.000 --> 00:03:40.762
На первый взгляд может показаться
сложной, но ни в коем случае не следует

00:03:40.786 --> 00:03:46.548
переживать, потому как мы пройдемся
по каждому шагу, там где необходимы

00:03:46.572 --> 00:03:52.254
будут даны соответствующие
комментарии, и после совместного выполнения

00:03:52.278 --> 00:03:57.960
всех этих шагов мы сможем воссоздать
эту диаграмму внутри облака AWS.

00:03:57.960 --> 00:04:04.920
Самая первая задача, необходимо добраться
до основной страницы AWS Management Console.

00:04:04.920 --> 00:04:12.085
Для этого в основном меню лабораторной работы
необходимо нажать на кнопку Lab Start, появится

00:04:12.109 --> 00:04:19.040
всплывающее окно, в котором через некоторое
время появится сообщение Lab Status: Ready.

00:04:19.040 --> 00:04:23.999
Это говорит о том, что временный
AWS аккаунт успешно создан и вы можете

00:04:24.023 --> 00:04:29.480
закрывать это всплывающее окно, после
чего необходимо нажать на кнопку AWS.

00:04:29.480 --> 00:04:34.748
По нажатию этой кнопки вы
откроете AWS Management Console и в

00:04:34.772 --> 00:04:40.040
целом делаете все необходимое,
чтобы перейти к следующим шагам.

00:04:40.040 --> 00:04:45.440
Здесь одна рекомендация, для
того чтобы удобнее переключаться

00:04:45.464 --> 00:04:50.863
к заданию и обратно в AWS
Management Console есть возможность

00:04:50.887 --> 00:04:55.932
скопировать ссылку этой кнопки
и открыть AWS Management

00:04:55.956 --> 00:05:01.000
Console либо в инкогнито
режиме, либо в другом браузере.

00:05:01.000 --> 00:05:08.808
Как только мы перешли на главную страницу
AWS Management Console, в лабораторной

00:05:08.832 --> 00:05:16.640
работе рекомендуется сверху слева нажать
на кнопку Services и выбрать сервис VPC.

00:05:16.640 --> 00:05:21.779
Более быстрый вариант - это в
специальной строке для поиска сервисов

00:05:21.803 --> 00:05:27.480
ввести VPC и самая первая ссылка
будет ссылка на необходимый нам сервис.

00:05:27.480 --> 00:05:35.488
Давайте перейдем на сервис VPC. Как только
откроется основная страница сервиса Amazon VPC,

00:05:35.512 --> 00:05:43.520
нам необходимо в левом навигационном меню
убедиться, что включена опция New VPC Experience.

00:05:43.520 --> 00:05:48.588
Если она не включена, то
нажмите на переключатель, для того

00:05:48.612 --> 00:05:53.680
чтобы вы переключились на новый
интерфейс сервиса Amazon VPC.

00:05:53.680 --> 00:06:01.960
Далее, необходимо в левом навигационном
меню перейти на вкладку VPC Dashboard.

00:06:01.960 --> 00:06:07.948
В отобразившейся странице
необходимо нажать на кнопку Create

00:06:07.972 --> 00:06:13.960
VPC для того, чтобы начать
инициировать создание нового VPC.

00:06:13.960 --> 00:06:26.880
В новой открывшейся странице, в левом навигационном
меню VPC Settings, необходимо выбрать VPC and more.

00:06:26.880 --> 00:06:32.788
Далее в Name Tag необходимо
ввести значения вместо Project написать

00:06:32.812 --> 00:06:38.720
Lab, а также оставить включенную
опцию Auto-generate, то есть флажок.

00:06:38.720 --> 00:06:46.080
Если посмотреть чуть ниже, есть
возможность ввести наш IPv4 CIDR блок.

00:06:46.080 --> 00:06:56.600
Давайте введем значение 10.0.0.0/16.
Далее укажем, что у нас будет одна Availability зона.

00:06:56.600 --> 00:07:06.352
Также у нас будет по одному Public
Subnet и Private Subnet. Ниже есть секция

00:07:06.376 --> 00:07:11.056
Customize Subnets CIDR blocks,
необходимо ее развернуть для того,

00:07:11.080 --> 00:07:15.760
чтобы явно указать, какие CIDR
блоки относятся к нашим Subnet-ам.

00:07:15.760 --> 00:07:27.440
Для Public Subnet давайте укажем 10.0.0.0/24, 
для Private Subnet укажем 10.0.1.0/24.

00:07:27.440 --> 00:07:34.768
Это все в Availability зоне us-east-1a.
Далее мы укажем, что нам нужен

00:07:34.792 --> 00:07:42.120
NAT Gateway в одной Availability
зоне, поэтому выберем опцию In 1 AZ.

00:07:42.120 --> 00:07:46.568
Для VPC Endpoints выберем
вариант None, так как мы в этой

00:07:46.592 --> 00:07:51.040
лабораторной работе не будем
использовать VPC Endpoints.

00:07:51.040 --> 00:07:56.258
Еще ниже есть настройка DNS
hostnames и DNS Resolution, нам

00:07:56.282 --> 00:08:02.040
необходимо эти варианты оставить
включенными, то есть enabled.

00:08:02.040 --> 00:08:06.868
Вы можете увидеть с правой
стороны Preview и необходимо

00:08:06.892 --> 00:08:11.720
проверить, что все совпадает,
а именно VPC это lab-vpc.

00:08:11.720 --> 00:08:23.378
Далее Subnets у нас находятся в Availability
зоне us-east-1a. Название Public Subnet

00:08:23.402 --> 00:08:34.920
- lab-subnet-public1-us-east-1a, Private
Subnet - lab-subnet-private1-us-east-1a.

00:08:34.920 --> 00:08:43.560
Далее у нас есть два Route table, первый
lab-rtb-public, второй lab-rtb-private1-us-east-1a.

00:08:43.560 --> 00:08:50.360
То есть два Route table
на каждый из видов Subnet.

00:08:50.360 --> 00:08:58.428
Далее необходимо удостовериться, что наши Network
Connections это lab-igw, то есть Internet Gateway, а

00:08:58.452 --> 00:09:06.520
второй это lab-nat-public1-us-east-1a, то есть NAT
Gateway, который находится в Availability зоне 1a.

00:09:06.520 --> 00:09:16.300
Здесь все необходимые настройки совпадают, необходимо
в нижней части нажать на кнопку Create VPC.

00:09:16.300 --> 00:09:23.880
Вы перейдете на страницу со статусами создания
каждого из ресурсов внутри нашего VPC.

00:09:23.880 --> 00:09:30.532
Создание NAT Gateway потребует несколько
минут, поэтому нам необходимо подождать

00:09:30.556 --> 00:09:37.040
пока все ресурсы будут успешно созданы
и внизу отобразится кнопка View VPC.

00:09:37.040 --> 00:09:43.344
Как только отобразится и станет
доступна эта кнопка, нам необходимо

00:09:43.368 --> 00:09:49.480
на нее нажать, после чего мы
перейдем на страницу с нашим VPC.

00:09:49.480 --> 00:09:57.000
Таким образом, мы успешно создали VPC, в котором
есть два subnets, один Public, другой Private.

00:09:57.000 --> 00:10:06.200
Оба subnets находятся в одной Availability зоне и
для каждого subnet был создан отдельный route table.

00:10:06.200 --> 00:10:10.520
Помимо этих компонентов также были
созданы Internet Gateway и NAT Gateway.

00:10:10.520 --> 00:10:16.208
Для того, чтобы посмотреть
соответствующие компоненты, в левом

00:10:16.232 --> 00:10:21.920
навигационном меню вы можете
перейти на соответствующие вкладки.

00:10:21.920 --> 00:10:26.595
Например, Subnets для того, чтобы посмотреть
детали созданных из существующих subnets,

00:10:26.619 --> 00:10:31.680
либо Route tables для того, чтобы посмотреть
какие Route tables есть на этом AWS аккаунте.

00:10:31.680 --> 00:10:38.120
В этой диаграмме вы можете видеть ту часть,
которую мы на текущий момент создали.

00:10:38.120 --> 00:10:44.800
Оставшуюся часть мы будем создавать в AWS
Management Console в следующих наших задачах.

00:10:44.800 --> 00:10:53.268
Здесь хотелось бы обратить внимание и напомнить,
что Internet Gateway это тот ресурс в рамках VPC,

00:10:53.292 --> 00:11:01.760
который дает возможность EC2 инстансам выходить
в интернет, а также быть доступными из интернета.

00:11:01.760 --> 00:11:12.040
У нас есть public subnet, который
называется lab-subnet-public1-us-east-1a.

00:11:12.040 --> 00:11:27.880
У него CIDR блок 10.0.0.0/24. Это говорит о том,
что 24 бита среди 32 битов IP-адреса зафиксированы.

00:11:27.880 --> 00:11:36.162
Значит, 8 последних битов могут меняться.
Если мы говорим 8 битов, это значит 2 в степени

00:11:36.186 --> 00:11:44.280
8 = 256 уникальных IP-адресов, которые
начинаются с первого IP-адреса, это 10.0.0.0.

00:11:44.280 --> 00:11:55.120
И самое последнее значение, которое может
принимать этот CIDR блок, это 10.0.0.255.

00:11:55.120 --> 00:12:01.388
Таким образом, также для этого subnet
указывает следующую маску, это 10.0.0.x, который

00:12:01.412 --> 00:12:07.680
говорит о том, что для последнего блока
может приниматься любое возможное значение.

00:12:07.680 --> 00:12:20.465
А как мы с вами помним, каждый блок, часть
IPv4-адреса, это 8 битов, что равносильно

00:12:20.489 --> 00:12:32.040
уникальным 256 значениям. А это значит
значение от 0 до 255 включительно.

00:12:32.040 --> 00:12:40.012
Следующий компонент, который мы
создали в рамках VPC, это NAT Gateway,

00:12:40.036 --> 00:12:49.280
который позволяет для EC2 инстансов
внутри private subnet выходить в интернет.

00:12:49.280 --> 00:12:56.188
Но отличительная особенность NAT Gateway,
это то, что эти инстансы внутри private

00:12:56.212 --> 00:13:03.120
subnet недоступны из интернета. Таким 
образом, они защищены от прямого обращения.

00:13:03.120 --> 00:13:09.501
Если мы говорим про наш
private subnet, который называется

00:13:09.525 --> 00:13:19.720
lab-subnet-private1-us-east-1a, то у него
CIDR блок немножко отличается, это 10.0.1.0/24.

00:13:19.720 --> 00:13:32.588
/24 означает также, что в этом CIDR блоке у
нас есть 256 IP-адресов, которые начинаются

00:13:32.612 --> 00:13:45.480
с 10.0.1.0 и заканчивается 10.0.1.255.
Также этот CIDR блок обозначает как 10.0.1.x.

00:13:45.480 --> 00:13:55.480
Мы с вами добрались до второй задачи. Здесь мы будем
создавать дополнительные subnets внутри нашего VPC.

00:13:55.480 --> 00:13:59.680
Эти новые VPC будут находиться
во второй availability zone.

00:13:59.680 --> 00:14:06.708
Также здесь хотелось бы отметить, что если внутри VPC
у нас находится несколько availability zone, то мы

00:14:06.732 --> 00:14:13.760
говорим, что наше решение, инфраструктура - highly
available, что соответствует best practices AWS.

00:14:13.760 --> 00:14:21.658
Когда мы создаем VPC и ее компоненты,
используя помощник, как мы сделали ранее,

00:14:21.682 --> 00:14:25.307
то все те компоненты, которые
создались, они могут быть удалены,

00:14:25.331 --> 00:14:29.360
изменены, а также можем создавать
новые компоненты внутри этого VPC.

00:14:29.360 --> 00:14:36.288
Давайте создадим дополнительные subnets.
Для этого необходимо в левом навигационном

00:14:36.312 --> 00:14:43.240
меню перейти на вкладку Subnets.
Мы сейчас будем создавать второй public subnet.

00:14:43.240 --> 00:14:50.680
Необходимо на открывшейся странице со
списком subnets нажать на кнопку Create subnet.

00:14:50.680 --> 00:14:57.640
На открывшейся странице по созданию нового
subnet необходимо ввести следующие входные данные.

00:14:57.640 --> 00:15:04.760
Как VPC ID мы указываем lab-vpc,
выбираем из выпадающего меню.

00:15:04.760 --> 00:15:09.720
Далее как subnet name мы
указываем lab-subnet-public2.

00:15:09.720 --> 00:15:15.360
Как availability zone нам необходимо выбрать
отличную от предыдущей availability zone.

00:15:15.360 --> 00:15:19.640
Как пример давайте
выберем us-east-1b.

00:15:19.640 --> 00:15:29.800
Как CIDR block укажем не пересекающийся CIDR
block с предыдущими subnets, а именно 10.0.2.0/24.

00:15:29.800 --> 00:15:37.216
В этом CIDR block также присутствует 
256 IP адресов. В нижней части страницы

00:15:37.240 --> 00:15:44.160
необходимо нажать на кнопку Create
subnet для того чтобы ее создать.

00:15:44.160 --> 00:15:49.046
Давайте теперь создадим второй 
private subnet. Для этого также

00:15:49.070 --> 00:15:54.840
необходимо нажать на кнопку Create
subnet и ввести следующие значения.

00:15:54.840 --> 00:16:02.680
Как VPC ID необходимо в выпадающем
списке выбрать наш созданный VPC lab-vpc.

00:16:02.680 --> 00:16:08.522
Далее как subnet name указать 
lab-subnet-private2. Как availability zone

00:16:08.546 --> 00:16:14.920
необходимо выбрать вторую
availability зону, а именно us-east-1b.

00:16:14.920 --> 00:16:23.788
И как CIDR block необходимо
указать следующий доступный CIDR

00:16:23.812 --> 00:16:32.680
block следующий набор из 256
IP адресов, а именно 10.0.3.0/24.

00:16:32.680 --> 00:16:36.348
Как только мы это все заполняем
необходимо нажать на кнопку

00:16:36.372 --> 00:16:40.040
Create subnet для того чтобы
этот private subnet создался.

00:16:40.040 --> 00:16:48.175
Для того чтобы предоставить доступ в
интернет для инстансов внутри второго

00:16:48.199 --> 00:16:56.000
private subnet нам необходимо этот
трафик пустить через NAT gateway.

00:16:56.000 --> 00:17:02.280
NAT gateway, как мы с вами помним,
мы создавали в первой availability зоне.

00:17:02.280 --> 00:17:07.440
Для того чтобы этот трафик направить на
NAT gateway мы будем использовать Route table.

00:17:07.440 --> 00:17:16.898
Route table это некий набор правил
или так называемых routes, который

00:17:16.922 --> 00:17:26.240
определяет каким образом трафик
может двигаться внутри нашей VPC.

00:17:26.240 --> 00:17:33.560
Далее нам необходимо перейти на вкладку
Route tables в левом навигационном меню.

00:17:33.560 --> 00:17:37.520
На открывшейся странице необходимо выбрать 
Route table lab-rtb-private1-us-east-1a.

00:17:37.520 --> 00:17:45.680
Это тот Route table который
создался вместе с созданием VPC.

00:17:45.680 --> 00:17:49.348
Как только мы выбираем
этот Route table внизу выходит

00:17:49.372 --> 00:17:53.960
дополнительная информация и
необходимо нажать на вкладку Routes.

00:17:53.960 --> 00:17:59.728
В этой вкладке будет один
единственный Route, который как target

00:17:59.752 --> 00:18:05.520
указывает наш NAT gateway, а
как destination указывает интернет.

00:18:05.520 --> 00:18:10.848
Этот Route позволяет всем
private subnets, которые привязаны

00:18:10.872 --> 00:18:16.200
к этому Route table через NAT
gateway выходить в интернет.

00:18:16.200 --> 00:18:20.788
Таким образом, для всех инстансов
внутри private subnet становится доступным

00:18:20.812 --> 00:18:25.400
интернет, но из интернета и извне до
этих инстансов добраться невозможно.

00:18:25.400 --> 00:18:35.120
Что нам необходимо сделать: второй созданный
private subnet привязать к этому Route table.

00:18:35.120 --> 00:18:42.147
Для этого необходимо нажать
на вкладку Subnet associations и в

00:18:42.171 --> 00:18:51.160
отобразившейся вкладке необходимо
нажать на кнопку Edit subnet associations.

00:18:51.160 --> 00:18:59.760
Мы увидим список subnets, а также те subnets, которые
уже привязаны к этому Route table будут отмечены.

00:18:59.760 --> 00:19:04.466
В нашем случае, это первый
private subnet, который мы создавали

00:19:04.490 --> 00:19:09.880
вместе с VPC это lab-subnet-private1-us-east-1a.
Он уже будет выбран.

00:19:09.880 --> 00:19:16.080
Нам необходимо дополнительно выбрать
созданный нами subnet – lab-subnet-private2.

00:19:16.080 --> 00:19:25.480
Отмечаем ее галочкой и нажимаем
на кнопку Save associations.

00:19:25.480 --> 00:19:34.400
Теперь нам необходимо ко второму Route table
привязать второй созданный public subnet.

00:19:34.400 --> 00:19:40.080
Для этого выбираем
Route table – lab-rtb-public.

00:19:40.080 --> 00:19:46.132
Если открыть вкладку Routes, то мы
увидим там также один Route один путь,

00:19:46.156 --> 00:19:52.040
где как destination указан интернет
и как target - Internet gateway.

00:19:52.040 --> 00:19:59.680
Что нам необходимо сделать: второй public
subnet привязать к этому Route table.

00:19:59.680 --> 00:20:07.960
Для этого необходимо перейти на вкладку Subnet
associations и нажать на кнопку Edit subnet associations.

00:20:07.960 --> 00:20:14.485
Здесь вы увидите список существующих
subnets и те subnets, которые уже привязаны к

00:20:14.509 --> 00:20:21.680
этому Route table будут отмечены галочкой.
А именно, это lab-subnet-public1-us-east-1a.

00:20:21.680 --> 00:20:29.068
Нам дополнительно необходимо поставить
галочку возле второго созданного public subnet,

00:20:29.092 --> 00:20:36.480
который называется lab-subnet-public2.
После чего нажать на кнопку Save associations.

00:20:36.480 --> 00:20:41.548
Как только мы завершим все эти
действия, то все то, что мы создали

00:20:41.572 --> 00:20:46.640
внутри AWS аккаунта в диаграмме
можно отобразить следующим образом.

00:20:46.640 --> 00:20:52.708
Мы видим, что у нас появились два
дополнительных subnets, которые привязаны

00:20:52.732 --> 00:20:58.800
к соответствующим Route tables и
находятся в во второй availability зоне.

00:20:58.800 --> 00:21:06.000
Мы добрались до третьего задания и здесь нам
необходимо создать Security group внутри нашего VPC.

00:21:06.000 --> 00:21:14.302
Что такое Security group? Это тот ресурс, который
выступает как виртуальный firewall для EC2 инстансов

00:21:14.326 --> 00:21:23.400
и защищает от нежелательного интернет трафика
и разрешает только тот трафик, который разрешен.

00:21:23.400 --> 00:21:27.000
Для того чтобы создать
Security group, нам необходимо в

00:21:27.024 --> 00:21:31.160
левом навигационном меню
перейти на вкладку Security groups.

00:21:31.160 --> 00:21:38.920
В открывшейся странице необходимо
нажать на кнопку Create security group.

00:21:38.920 --> 00:21:43.800
Далее указать необходимые
данные для нашей новой security group.

00:21:43.800 --> 00:21:52.040
Как имя укажем Web Security Group.
Как description можем добавить Enable HTTP access.

00:21:52.040 --> 00:22:05.400
Как VPC необходимо убрать предложенный вариант и в
выпадающем меню выбрать наш созданный VPC – lab-vpc.

00:22:05.400 --> 00:22:13.440
Далее в Inbound rules необходимо нажать на
кнопку Add rule и добавить следующие значения.

00:22:13.440 --> 00:22:19.463
Как Type мы указываем HTTP, как
source указываем Anywhere-IPv4, то есть

00:22:19.487 --> 00:22:26.200
весь интернет и как description описание
можно написать Permit web requests.

00:22:26.200 --> 00:22:31.720
Необходимо прокрутить ниже и
нажать на кнопку Create security group.

00:22:31.720 --> 00:22:43.640
Таким образом, мы создали с вами security
group, которую привяжем к EC2 инстансу.

00:22:43.640 --> 00:22:50.960
Мы переходим к четвертому заданию, где
нам необходимо создать наш Web Server.

00:22:50.960 --> 00:23:01.920
Web Server - это EC2 инстанс и нам необходимо его
сконфигурировать, чтобы он выступал как веб-сервер.

00:23:01.920 --> 00:23:07.960
Для того чтобы создать EC2 инстанс необходимо перейти
на этот сервис. Для этого есть несколько путей.

00:23:07.960 --> 00:23:16.160
В лабораторной работе рекомендуется нажать
на кнопку Services и там найти сервис Amazon EC2.

00:23:16.160 --> 00:23:21.248
Более быстрый и простой вариант
- это в специальной строке поиска

00:23:21.272 --> 00:23:26.280
сервисов начать вводить нужный
нам сервис в нашем случае EC2.

00:23:26.280 --> 00:23:33.000
Как только вы начнете вводить, отобразится
ниже ссылка на соответствующие сервисы.

00:23:33.000 --> 00:23:39.560
И самая первая ссылка будет та ссылка,
которая нам нужна. Давайте на нее перейдем.

00:23:39.560 --> 00:23:43.068
Как только мы перейдем на основную
страницу сервиса Amazon EC2, нам

00:23:43.092 --> 00:23:47.080
необходимо нажать на кнопку Launch
instance, чтобы создать новый инстанс.

00:23:47.080 --> 00:23:51.840
В открывшейся странице давайте
введем как имя Web Server 1.

00:23:51.840 --> 00:23:57.824
Следует иметь в виду, также
что, то значение, которое мы сейчас

00:23:57.848 --> 00:24:04.508
ввели, оно будет значением для
тега с ключом name, то есть создается

00:24:04.532 --> 00:24:10.458
пара ключ значения внутри
тегов, как ключ выступает name, как

00:24:10.482 --> 00:24:17.200
value значение выступает то
значение, которое мы ввели в этом поле.

00:24:17.200 --> 00:24:19.480
Следующее, нам необходимо
определиться с AMI.

00:24:19.480 --> 00:24:24.074
AMI - это Amazon Machine Instance
и мы выбираем ее, для того чтобы

00:24:24.098 --> 00:24:29.400
понять какая операционная система
будет установлена в нашем EC2 инстансе.

00:24:29.400 --> 00:24:38.791
Давайте оставим все значения по
дефолту, а именно Amazon Linux и второе

00:24:38.815 --> 00:24:49.280
поле - это Amazon Linux 2 AMI (HVM).
Следующая настройка - это тип инстанса.

00:24:49.280 --> 00:24:56.087
Предлагается оставить дефолтовое значение t2.micro.
Когда мы выбираем значение instance

00:24:56.111 --> 00:25:02.760
type мы определяем какое железо какое
hardware будет подключено к нашему инстансу.

00:25:02.760 --> 00:25:10.200
Это может быть сильный мощный сервер,
либо какой-то слабый, но дешевый сервер.

00:25:10.200 --> 00:25:15.147
Далее необходимо выбрать
key pair, то есть ключи для того,

00:25:15.171 --> 00:25:20.640
чтобы иметь возможность
подключаться по SSH к нашему серверу.

00:25:20.640 --> 00:25:31.560
Давайте в выпадающем меню выберем vockey - это тот
SSH ключ, который предварительно был для нас создан.

00:25:31.560 --> 00:25:38.428
Далее мы переходим к настройкам сетей.
Для этого необходимо в секции Network

00:25:38.452 --> 00:25:45.320
settings нажать на кнопку Edit для того
чтобы ввести соответствующие правки.

00:25:45.320 --> 00:25:50.317
Как Network мы выбираем lab-vpc.
Далее как Subnet выбираем

00:25:50.341 --> 00:25:56.040
созданный нами вручную публичный
subnet это lab-subnet-public2.

00:25:56.040 --> 00:26:02.302
Далее в пункте Auto-assign public IP
выбираем Enable, для того чтобы для этого

00:26:02.326 --> 00:26:09.240
сервера выделился временный public IP, на
который мы сможем с интернета обращаться.

00:26:09.240 --> 00:26:13.802
Далее, есть настройки security
group, то есть нам необходимо

00:26:13.826 --> 00:26:18.388
в секции Firewall выбрать
Select an existing security group,

00:26:18.412 --> 00:26:22.974
то есть выбрать security group,
которая уже существует и для

00:26:22.998 --> 00:26:27.560
Common security groups отметить
галочкой Web security group.

00:26:27.560 --> 00:26:36.088
Это та security group, которую мы создавали
с вами ранее. После того как мы привяжем

00:26:36.112 --> 00:26:45.360
эту security group, то до этого EC2 инстанса
будет разрешен доступ по HTTP из интернета.

00:26:45.360 --> 00:26:52.640
Мы заканчиваем настройку сетей. Дальше 
мы переходим к настройкам жестких дисков.

00:26:52.640 --> 00:26:59.000
Здесь нет необходимости менять какие-либо
настройки, мы все оставляем по умолчанию.

00:26:59.000 --> 00:27:05.297
По умолчанию как root volume, то есть
корневой жесткий диск создается SSD

00:27:05.321 --> 00:27:12.320
жесткий диск общего назначения general
purpose и выделяется 8 гигабайт памяти.

00:27:12.320 --> 00:27:18.328
По необходимости вы можете добавлять
больше жестких дисков, также вы можете вместо 8

00:27:18.352 --> 00:27:24.360
гигабайт выбрать большее значение, но в
рамках лабораторной работы это не требуется.

00:27:24.360 --> 00:27:30.368
Чуть ниже у нас также есть
специальная настройка, которая

00:27:30.392 --> 00:27:36.400
находится в секции Advanced
details называется User data.

00:27:36.400 --> 00:27:43.728
User data - это специальное поле, куда
вы можете ввести ваши команды, скрипты,

00:27:43.752 --> 00:27:51.080
которые запустятся ровно один раз в
момент первого запуска вашего инстанса.

00:27:51.080 --> 00:28:00.926
Если мы скопируем и вставим следующий кусок 
кода, то есть набор команд, то мы в момент

00:28:00.950 --> 00:28:10.680
запуска нашего инстанса загрузим и
установим, а также запустим PHP веб-приложение.

00:28:10.680 --> 00:28:15.173
Как только мы закончили с
настройками User data, нам необходимо

00:28:15.197 --> 00:28:19.544
в правой части нажать на кнопку 
Launch instance. Вы увидите

00:28:19.568 --> 00:28:23.654
сообщение о том, что операция
была выполнена успешно и в

00:28:23.678 --> 00:28:28.360
новой странице необходимо
нажать на кнопку View all instances.

00:28:28.360 --> 00:28:35.640
Вас перенаправит на страницу со всеми инстансами
в этом AWS аккаунте и соответствующем регионе.

00:28:35.640 --> 00:28:45.600
В этом списке вы также увидите созданный нами
инстанс, который называется Web Server 1.

00:28:45.600 --> 00:28:51.254
Нам необходимо подождать несколько
минут до того момента как колонка

00:28:51.278 --> 00:28:57.440
Status check не будет заполнена
значением 2 из 2 все проверки пройдены.

00:28:57.440 --> 00:29:06.360
Для того чтобы обновлять состояние, вы можете
нажимать на соответствующую иконку обновления.

00:29:06.360 --> 00:29:15.268
Как только пройдет несколько минут и Status
check обновится, давайте выберем наш инстанс и как

00:29:15.292 --> 00:29:24.200
только мы это сделаем в нижней части отобразится
дополнительная информация об этом инстансе.

00:29:24.200 --> 00:29:34.768
Во вкладке Details нам необходимо будет скопировать
Public IPv4 DNS, далее скопированный IP-адрес

00:29:34.792 --> 00:29:45.360
необходимо в режиме инкогнито в браузере в
новом окне вставить в строку поиска и нажать Enter.

00:29:45.360 --> 00:29:52.218
Как только вы это нажмете, откроется созданная
нами страница, которая обслуживается нашим

00:29:52.242 --> 00:29:59.880
веб-сервером и вы должны увидеть логотип AWS и
также некоторую мета информацию о нашем инстансе.

00:29:59.880 --> 00:30:04.160
Если вы все это увидели, это говорит о
том, что вы все шаги выполнили верно.

00:30:04.160 --> 00:30:12.928
Я вас поздравляю с окончанием нашей
лабораторной работы. Ниже вы видите диаграмму, в

00:30:12.952 --> 00:30:21.720
которой указаны все компоненты, которые мы
создали в рамках нашей лабораторной работы.

00:30:21.720 --> 00:30:25.720
На этом еще раз поздравляю, мы
закончили лабораторную работу.

00:30:25.720 --> 00:30:31.800
Теперь нам необходимо безопасно закрыть
и завершить лабораторную работу.

00:30:31.800 --> 00:30:37.008
Для этого необходимо на странице
AWS Academy с лабораторной

00:30:37.032 --> 00:30:42.240
работой в верхней правой части
меню нажать на кнопку End lab.

00:30:42.240 --> 00:30:48.928
Выйдет всплывающее окно с
подтверждением необходимо нажать на Yes,

00:30:48.952 --> 00:30:55.640
после чего выйдет другое окно с
некоторой текстовой информацией.

00:30:55.640 --> 00:31:00.451
Как только вы там увидите
сообщение что “DELETE has been

00:31:00.475 --> 00:31:06.164
initiated... You may close this 
message box now”, то это говорит

00:31:06.188 --> 00:31:11.487
о том, что вы можете закрыть
эту страницу и можете закрывать

00:31:11.511 --> 00:31:16.360
в целом лабораторную работу
и выходить с AWS Academy.

00:31:16.360 --> 00:31:23.960
На этом мы завершили сессию введения
в лабораторную работу. Я вас поздравляю.

00:31:23.960 --> 00:31:39.040
А мы с вами увидимся на
следующих наших активностях.
