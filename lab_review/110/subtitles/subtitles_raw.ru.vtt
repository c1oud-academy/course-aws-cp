WEBVTT

00:00:00.000 --> 00:00:03.000
Добрый день, уважаемые студенты!

00:00:03.000 --> 00:00:06.640
Я рад вас всех видеть на очередной сессии разбора

00:00:06.640 --> 00:00:08.080
лабораторной работы.

00:00:08.080 --> 00:00:11.800
В этой лабораторной работе мы с вами подробнее познакомимся

00:00:11.800 --> 00:00:14.520
и поработаем с сервисом Amazon RDS.

00:00:14.520 --> 00:00:15.840
Итак, давайте начнем.

00:00:15.840 --> 00:00:24.240
Ожидается, что мы уже находимся на основной странице лабораторной

00:00:24.240 --> 00:00:26.080
работы в AWS Academy.

00:00:26.080 --> 00:00:30.160
Мы уже инициировали создание временного AWS аккаунта.

00:00:30.160 --> 00:00:33.320
Сейчас нам необходимо нажать на кнопку AWS в верхней правой

00:00:33.320 --> 00:00:38.320
части для того, чтобы перейти в AWS Management Console.

00:00:38.320 --> 00:00:41.520
Как только мы переходим в AWS Management Console, мы начинаем

00:00:41.520 --> 00:00:43.360
с первой задачи.

00:00:43.360 --> 00:00:47.680
Это создание Security группы для нашей базы данных.

00:00:47.680 --> 00:00:49.800
Почему мы ее создаем?

00:00:49.800 --> 00:00:54.840
Нам необходимо предоставить доступ к этой базе данных

00:00:54.840 --> 00:00:59.200
для всех инстанцев, которые находятся в Web Security группе.

00:00:59.200 --> 00:01:01.880
Для того, чтобы это сделать, необходимо в строке поиска

00:01:01.880 --> 00:01:04.080
сервисов начать вводить VPC.

00:01:04.080 --> 00:01:07.320
В выдаче мы увидим необходимую нам ссылку.

00:01:07.320 --> 00:01:08.840
Давайте по ней перейдем.

00:01:08.840 --> 00:01:12.120
И в левом навигационном меню необходимо найти пункт

00:01:12.120 --> 00:01:13.680
Security группы.

00:01:13.680 --> 00:01:17.440
Как только вы на нее нажмете, вы увидите все существующие

00:01:17.440 --> 00:01:23.960
Security группы в нашем AWS аккаунте, в том числе и Web Security групп.

00:01:23.960 --> 00:01:26.360
Нам необходимо нажать на кнопку Create Security групп в

00:01:26.360 --> 00:01:30.400
верхней правой части страницы.

00:01:30.400 --> 00:01:33.720
Как только вы на нее нажимаете, вы переходите на специальную

00:01:33.720 --> 00:01:36.840
страницу для ввода некоторых входных данных.

00:01:36.840 --> 00:01:40.360
Давайте как Security групп name укажем DB Security групп, как

00:01:40.360 --> 00:01:44.080
description Permit access from Web Security групп.

00:01:44.080 --> 00:01:47.680
Как VPC нам необходимо указать Lab VPC.

00:01:47.680 --> 00:01:50.400
Будет выпадающее меню и в этом списке необходимо

00:01:50.400 --> 00:01:53.120
выбрать нужную нам.

00:01:53.120 --> 00:01:55.660
Если мы прокрутим чуть ниже, мы увидим, что мы можем

00:01:55.660 --> 00:01:59.320
настроить Inbound и Outbound rules.

00:01:59.320 --> 00:02:05.040
Давайте нажмем на кнопку Add Rule в секции Inbound rules.

00:02:05.040 --> 00:02:09.400
Далее как Type укажем MySQL Aurora, как Source укажем Custom

00:02:09.400 --> 00:02:13.040
и в поле начнем вводить SG, то есть Security группа.

00:02:13.040 --> 00:02:17.440
Вы увидите в списке отобразятся все существующие Security

00:02:17.440 --> 00:02:18.760
группы.

00:02:18.760 --> 00:02:23.640
Давайте выберем Web Security групп.

00:02:23.640 --> 00:02:28.240
Вы видите, что после того как мы выбрали тип MySQL

00:02:28.240 --> 00:02:35.520
Aurora, поля протокол и портретч уже были автозаполнены.

00:02:35.520 --> 00:02:42.440
Это TCP и порт 3306, стандартный порт для базы данных MySQL.

00:02:42.440 --> 00:02:43.560
Отлично.

00:02:43.560 --> 00:02:46.080
Здесь мы ввели все необходимые настройки.

00:02:46.080 --> 00:02:49.560
Необходимо прокрутить в самый низ и нажать на кнопку

00:02:49.560 --> 00:02:52.640
Create Security групп.

00:02:52.640 --> 00:02:54.360
Мы переходим к следующему заданию.

00:02:54.360 --> 00:02:58.280
Это следующий ресурс, который необходимо создать до создания

00:02:58.280 --> 00:03:02.680
инстанца базы данных, а именно Subnet групп.

00:03:02.680 --> 00:03:05.800
Для этого необходимо в строке поиски сервисов начать

00:03:05.800 --> 00:03:07.440
вводить RDS.

00:03:07.440 --> 00:03:09.680
Вы увидите ссылку на сервис RDS.

00:03:09.680 --> 00:03:12.480
Давайте на нее нажмем, чтобы перейти на этот сервис.

00:03:12.480 --> 00:03:17.040
В левом навигационном меню есть пункт Subnet groups.

00:03:17.040 --> 00:03:18.840
Необходимо нажать на него.

00:03:18.840 --> 00:03:23.840
Вы видите, что в этом аккаунте не было создано Subnet групп.

00:03:23.840 --> 00:03:25.480
Мы сейчас создадим новую.

00:03:25.480 --> 00:03:28.800
Для этого необходимо нажать на кнопку Create DB Subnet групп

00:03:28.800 --> 00:03:31.600
в верхней правой части страницы.

00:03:31.600 --> 00:03:34.640
Как только вы на нее нажмете, вас направят на страницу

00:03:34.640 --> 00:03:37.520
для ввода необходимых входных данных.

00:03:37.520 --> 00:03:41.520
Как на им необходимо указать DB Subnet групп через тире.

00:03:41.520 --> 00:03:44.960
Далее как description указать DB Subnet групп.

00:03:44.960 --> 00:03:51.440
Как VPC необходимо из выпадающего списка выбрать Lab VPC.

00:03:51.440 --> 00:03:54.640
Далее необходимо прокрутить чуть ниже и указать информацию

00:03:54.640 --> 00:03:57.560
о наших Subnet.

00:03:57.560 --> 00:04:01.720
Первым делом как availability зоны давайте выберем US East

00:04:01.720 --> 00:04:04.640
1A и US East 1B.

00:04:04.640 --> 00:04:09.360
Далее в Subnet в выпадающем меню необходимо будет

00:04:09.360 --> 00:04:21.520
выбрать следующие Subnets это 10.0.1.0.0 и 2 это 10.0.3.0.24.

00:04:21.520 --> 00:04:25.840
Как только вы это сделаете необходимо нажать на кнопку

00:04:25.840 --> 00:04:29.400
Create в самой нижней части страницы.

00:04:29.400 --> 00:04:32.880
На этом мы создали Subnet группу.

00:04:32.880 --> 00:04:35.400
Вы увидите соответствующее сообщение.

00:04:35.400 --> 00:04:40.440
Теперь необходимо в левом на югационное меню нажать

00:04:40.440 --> 00:04:45.280
на пункт Databases и в открывшейся странице нажать на кнопку

00:04:45.280 --> 00:04:46.280
Create Database.

00:04:46.280 --> 00:04:50.840
Нас перенаправляет на отдельную страницу.

00:04:50.840 --> 00:04:53.960
Она достаточно длинная.

00:04:53.960 --> 00:04:57.080
Необходимо здесь ввести все необходимые для нас

00:04:57.080 --> 00:04:58.080
данные.

00:04:58.080 --> 00:05:02.120
Первым делом как creation метод выбираем стандарт Create.

00:05:02.120 --> 00:05:06.000
Как Engine Options необходимо выбрать MySQL.

00:05:06.000 --> 00:05:10.680
Чуть ниже нам необходимо ввести как DB Instance Identifier

00:05:10.680 --> 00:05:13.080
lab-db.

00:05:13.080 --> 00:05:15.320
Master username будет main.

00:05:15.320 --> 00:05:21.360
Master password будет рекомендованный пароль в вашей лабораторной

00:05:21.360 --> 00:05:22.360
работе.

00:05:22.360 --> 00:05:27.480
Необходимо его продублировать на следующее поле.

00:05:27.480 --> 00:05:32.680
Двигаемся дальше как instance type.

00:05:32.680 --> 00:05:34.600
Необходимо в первую очередь выбрать класс.

00:05:34.600 --> 00:05:35.600
Это burstable classes.

00:05:35.600 --> 00:05:37.680
То есть T-классы.

00:05:37.680 --> 00:05:41.920
Далее уже в выпадающем списке необходимо выбрать

00:05:41.920 --> 00:05:45.240
тип db, t3, micro.

00:05:45.240 --> 00:05:50.520
В этом типе у нас два виртуальных процессора и один гигабайт

00:05:50.520 --> 00:05:52.040
оперативной памяти.

00:05:52.040 --> 00:05:55.200
Что более чем достаточно в рамках нашей лабораторной

00:05:55.200 --> 00:05:56.200
работы.

00:05:56.200 --> 00:06:00.400
Следующая секция это информация о нашем хранилище.

00:06:00.400 --> 00:06:05.240
То есть мы выбираем тип General Purpose SSD и 20 гигабайтов

00:06:05.240 --> 00:06:06.240
выделенной памяти.

00:06:06.240 --> 00:06:10.760
Этого также более чем достаточно в рамках лабораторной

00:06:10.760 --> 00:06:11.760
работы.

00:06:11.760 --> 00:06:14.000
Поэтому вводим и двигаемся дальше.

00:06:14.000 --> 00:06:19.320
В разделе connectivity необходимо ввести информацию по сетям.

00:06:19.320 --> 00:06:21.640
Самое основное это VPC.

00:06:21.640 --> 00:06:25.120
В нашем случае это Lab VPC.

00:06:25.120 --> 00:06:29.280
Далее необходимо выбрать недавно созданную subnet

00:06:29.280 --> 00:06:30.280
группу.

00:06:30.280 --> 00:06:32.960
Это db subnet групп через Dash.

00:06:32.960 --> 00:06:33.960
Двигаемся дальше.

00:06:33.960 --> 00:06:41.600
VPC security group необходимо выбрать опцию choose existing и в выпадающем

00:06:41.600 --> 00:06:45.440
меню выбрать db security group.

00:06:45.440 --> 00:06:46.880
Прокручиваем чуть ниже.

00:06:46.880 --> 00:06:52.300
Там где секция monitoring необходимо флажок enable extended enhanced monitoring

00:06:52.300 --> 00:06:53.960
убрать галочку.

00:06:53.960 --> 00:06:58.320
Initial database name следующей секции вводим Lab.

00:06:58.320 --> 00:06:59.680
Прокручиваем чуть ниже.

00:06:59.680 --> 00:07:06.080
Там где enable automated backups и enable encryption необходимо

00:07:06.080 --> 00:07:07.360
галочки убрать.

00:07:07.360 --> 00:07:11.760
Мы все эти галочки убираем так как в рамках лабораторной

00:07:11.760 --> 00:07:14.040
работы это все не нужно.

00:07:14.040 --> 00:07:18.640
Таким образом мы ускоряем процесс создания инстенса

00:07:18.640 --> 00:07:19.640
баз данных.

00:07:19.640 --> 00:07:23.720
Когда вы будете работать с базы данных в production

00:07:23.720 --> 00:07:28.480
среде то с большой долей вероятностью все эти галочки

00:07:28.480 --> 00:07:31.840
должны быть включены.

00:07:31.840 --> 00:07:33.600
Прокручиваем в самый низ.

00:07:33.600 --> 00:07:37.240
Мы увидим секцию estimated monthly costs.

00:07:37.240 --> 00:07:40.900
На момент записи мы видим что все наши введенные

00:07:40.900 --> 00:07:48.080
входные данные они стоят в районе 30 долларов.

00:07:48.080 --> 00:07:52.800
db instance стоит сам по себе чуть больше чем 12 долларов.

00:07:52.800 --> 00:07:55.560
Мы видим такую же сумму в следующей строке это

00:07:55.560 --> 00:07:58.400
multi-AZ standby instance.

00:07:58.400 --> 00:08:00.960
То есть такой же инстенс создается в другой availability

00:08:00.960 --> 00:08:01.960
зоне.

00:08:01.960 --> 00:08:04.840
Поэтому за нее мы столько же оплачиваем как storage

00:08:04.840 --> 00:08:10.080
наши 20 гигабайт SSD для хранения будет стоить чуть менее

00:08:10.080 --> 00:08:14.160
5 долларов.

00:08:14.160 --> 00:08:17.320
Как только мы ввели все необходимые данные необходимо

00:08:17.320 --> 00:08:21.320
нажать на кнопку create database.

00:08:21.320 --> 00:08:24.600
Нас направят на страницу со списком баз данных.

00:08:24.600 --> 00:08:27.480
Единственная запись это баз данных которую мы только

00:08:27.480 --> 00:08:31.460
что создали и как статус вы видите creating.

00:08:31.460 --> 00:08:34.360
Необходимо подождать какое-то время как минимум это 5

00:08:34.360 --> 00:08:37.640
минут после чего мы можем либо обновить страницу

00:08:37.640 --> 00:08:41.980
либо нажать на соответствующую кнопку верхней части списка

00:08:41.980 --> 00:08:49.580
и статус должен поменяться на available.

00:08:49.580 --> 00:08:52.680
Как только наша база данных будет успешно создана вы

00:08:52.680 --> 00:08:58.000
можете нажать на ее identifier это lab-db активная ссылка

00:08:58.000 --> 00:09:02.800
по нажатию которой направляет на страницу со всей необходимой

00:09:02.800 --> 00:09:05.800
информацией о нашем инстенции.

00:09:05.800 --> 00:09:09.360
Вы видите что в нижней части информация сгруппирована

00:09:09.360 --> 00:09:13.800
по различным вкладкам точно так же как в EC2 instance.

00:09:13.800 --> 00:09:18.240
Давайте откроем самую первую вкладку это connectivity and security

00:09:18.240 --> 00:09:22.280
и нам необходимо скопировать endpoint.

00:09:22.280 --> 00:09:27.520
Теперь нам необходимо перейти в сервис EC2 через строку

00:09:27.520 --> 00:09:29.200
поиска сервисов.

00:09:29.200 --> 00:09:31.880
Как только вы переходите в левом навигационном меню

00:09:31.880 --> 00:09:36.280
вам необходимо нажать на instances и вы увидите как

00:09:36.280 --> 00:09:39.880
минимум два инстанца нас интересует instance web-сервер

00:09:39.880 --> 00:09:45.880
one давайте на нее нажмем и посмотрим ее публичный

00:09:45.880 --> 00:09:48.080
IP4 адрес.

00:09:48.080 --> 00:09:54.840
Для этого необходимо в отобразившихся данных о этом instance перейти

00:09:54.840 --> 00:09:59.080
на вкладку details и в самой первой строке вы увидите

00:09:59.080 --> 00:10:01.120
нужный нам IP адрес.

00:10:01.120 --> 00:10:04.120
Давайте перейдем по этой ссылке вы увидите что здесь

00:10:04.120 --> 00:10:10.400
у нас уже настроены приложения необходимо перейти во вкладку

00:10:10.400 --> 00:10:15.720
RDS и здесь необходимо ввести информацию необходимую

00:10:15.720 --> 00:10:20.640
для этого приложения необходимо ввести endpoint ранее скопированный

00:10:20.640 --> 00:10:25.960
далее database, lab, username, main и как паспорт тот паспорт

00:10:25.960 --> 00:10:28.760
который вы указали при создании баз данных и нажать

00:10:28.760 --> 00:10:30.400
на кнопку submit.

00:10:30.400 --> 00:10:34.200
Вы увидите что исполняется следующая команда для этого

00:10:34.200 --> 00:10:40.560
необходимо подождать некоторое время как только все успешно

00:10:40.560 --> 00:10:45.520
запустится то вас перенаправить на следующую страницу с

00:10:45.520 --> 00:10:47.320
информацией о контактах.

00:10:47.320 --> 00:10:54.040
Эти контакты данные которые есть в текущей базе данных

00:10:54.040 --> 00:10:58.240
вы можете эти данные контакты изменять также создавать

00:10:58.240 --> 00:11:01.480
и добавлять новые контакты если все это работает это

00:11:01.480 --> 00:11:06.040
говорит о том что мы успешно создали instance базы данных

00:11:06.040 --> 00:11:09.320
и привязали к нашему приложению и сейчас наше приложение

00:11:09.320 --> 00:11:10.320
корректно работает.

00:11:10.320 --> 00:11:14.200
Здесь бы я хотел особое внимание обратить что в будущем

00:11:14.200 --> 00:11:19.040
когда вы будете работать в продакшн среде с реальным

00:11:19.040 --> 00:11:25.040
приложением то подобного рода действия делать не

00:11:25.040 --> 00:11:29.380
придется это крайне не рекомендуется то есть мы ввели фактически

00:11:29.380 --> 00:11:33.920
логин пароль и местонахождение нашей базы данных через

00:11:33.920 --> 00:11:34.920
веб форму.

00:11:34.920 --> 00:11:38.080
Это не является популярной и лучшей практикой.

00:11:38.080 --> 00:11:42.440
Лучшая практика это ваши C2 инстанции через environment

00:11:42.440 --> 00:11:45.560
variables то есть переменные среды передать необходимые

00:11:45.560 --> 00:11:51.640
значения дальше уже не передавая это на frontend на стороне

00:11:51.640 --> 00:11:55.080
backend внутри кода обработать и настроить необходимый

00:11:55.080 --> 00:11:57.960
connection до базы данных и успешно подключиться далее

00:11:57.960 --> 00:12:01.320
с ним работать и на frontend уже передавать только те

00:12:01.320 --> 00:12:05.960
данные которые ваши потенциальные пользователи могут и должны

00:12:05.960 --> 00:12:06.960
видеть.

00:12:06.960 --> 00:12:11.800
На этом мы завершаем нашу лабораторную работу я вас

00:12:11.800 --> 00:12:13.240
с этим поздравляю.

00:12:13.240 --> 00:12:17.600
Теперь остается самый последний пункт необходимо корректно

00:12:17.600 --> 00:12:19.760
разлагиниться со всех наших систем.

00:12:19.760 --> 00:12:23.820
Первое это AWS Management консоль необходимо верхней правой

00:12:23.820 --> 00:12:28.880
части нажать на имя нашего пользователя в выпадающем

00:12:28.880 --> 00:12:32.760
меню нажать на кнопку sign out далее необходимо правильно

00:12:32.760 --> 00:12:37.640
разлагиниться с AWS Academy а именно правильно завершить

00:12:37.640 --> 00:12:38.960
лабораторную работу.

00:12:38.960 --> 00:12:42.760
Необходимо верхней правой части нажать на кнопку

00:12:42.760 --> 00:12:46.480
end lab выйдет сообщение о том что действительно

00:12:46.480 --> 00:12:49.600
ли вы хотите завершить лабораторную работу нажимаем

00:12:49.600 --> 00:12:53.400
да и необходимо дождаться сообщения you may close this message

00:12:53.400 --> 00:12:58.160
box now lab resources are terminating что говорит о том что процесс

00:12:58.160 --> 00:13:02.820
удаления всех созданных нами ресурсов он запустился

00:13:02.820 --> 00:13:07.480
и теперь мы можем закрывать эту страницу это окно и

00:13:07.480 --> 00:13:11.280
проходить с AWS Academy.

00:13:11.280 --> 00:13:13.800
На этом мы добрались до конца нашей сегодняшней

00:13:13.800 --> 00:13:20.400
сессии мы чуть подробнее познакомились с сервисом

00:13:20.400 --> 00:13:24.800
Amazon RDS я очень надеюсь что вы получили более полное

00:13:24.800 --> 00:13:29.480
представление спасибо вам за внимание увидимся

00:13:29.480 --> 00:13:38.760
с вами на следующих наших активностях.