	Добрый день, уважаемые студенты! Я рад вас всех видеть на очередной сессии разбора лабораторной работы. В этой лабораторной работе мы с вами подробнее познакомимся и поработаем с сервисом Amazon RDS. Итак, давайте начнем.
	Ожидается, что мы уже находимся на основной странице лабораторной работы в AWS Academy. Мы уже инициировали создание временного AWS аккаунта. Сейчас нам необходимо нажать на кнопку AWS в верхней правой части для того, чтобы перейти в AWS Management Console. Как только мы переходим в AWS Management Console, мы начинаем с первой задачи – это создание Security Group для нашей базы данных. Почему мы ее создаем? Нам необходимо предоставить доступ к этой базе данных для всех инстансов, которые находятся в Web Security Group. Для того, чтобы это сделать, необходимо в строке поиска сервисов начать вводить VPC. В выдаче мы увидим необходимую нам ссылку. Давайте по ней перейдем, и в левом навигационном меню необходимо найти пункт Security groups. Как только вы на нее нажмете, вы увидите все существующие Security Groups в нашем AWS аккаунте, в том числе и Web Security Group. Нам необходимо нажать на кнопку Create security group в верхней правой части страницы. Как только вы на нее нажимаете, вы переходите на специальную страницу для ввода некоторых входных данных. Давайте как Security group name укажем DB Security Group, как Description – Permit access from Web Security Group, как VPC нам необходимо указать Lab VPC. Будет выпадающее меню и в этом списке необходимо выбрать нужный нам пункт. Если мы прокрутим чуть ниже, мы увидим, что мы можем настроить Inbound и Outbound rules. Давайте нажмем на кнопку Add rule в секции Inbound rules. Далее как Type укажем MySQL/Aurora, как Source укажем Custom и в поле начнем вводить sg, т.е. Security Group. Вы увидите, что в списке отобразятся все существующие Security Groups. Давайте выберем Web Security Group. Вы видите, что после того как мы выбрали тип MySQL/Aurora, поля Protocol и Port range уже были автоматически заполнены. Это TCP и порт 3306, стандартный порт для базы данных MySQL. Отлично, здесь мы ввели все необходимые настройки. Необходимо прокрутить в самый низ и нажать на кнопку Create security group. 
	Мы переходим к следующему заданию. Это следующий ресурс, который необходимо создать до создания инстанса базы данных, а именно Subnet Group. Для этого необходимо в строке поиске сервисов начать вводить RDS. Вы увидите ссылку на сервис Amazon RDS. Давайте на нее нажмем, чтобы перейти на этот сервис. В левом навигационном меню есть пункт Subnet groups. Необходимо нажать на него. Вы видите, что в этом аккаунте не было создано Subnet Group. Мы сейчас создадим новую. Для этого необходимо нажать на кнопку Create DB subnet group в верхней правой части страницы. Как только вы на нее нажмете, вас направят на страницу для ввода необходимых входных данных. Как Name необходимо указать DB-Subnet-Group через дефис. Далее как Description указать DB Subnet Group, как VPC необходимо из выпадающего списка выбрать Lab VPC. Далее необходимо прокрутить чуть ниже и указать информацию о наших Subnets. Первым делом как Availability zone давайте выберем us-east-1a и us-east-1b. Далее в Subnets в выпадающем меню необходимо будет выбрать следующие Subnets, это 10.0.1.0/24 и второй - это 10.0.3.0/24. Как только вы это сделаете необходимо нажать на кнопку Create в самой нижней части страницы. На этом мы создали Subnet Group. Вы увидите соответствующее сообщение. Теперь необходимо в левом навигационном меню нажать на пункт Databases и в открывшейся странице нажать на кнопку Create database. Нас перенаправляет на отдельную страницу. Она достаточно длинная. Необходимо здесь ввести все необходимые для нас данные. Первым делом как Creation method выбираем Standard create. Как Engine options необходимо выбрать MySQL. Чуть ниже нам необходимо ввести как DB instance identifier – lab-db, Master username будет main, Master password будет рекомендованный пароль в вашей лабораторной работе. Необходимо его продублировать на следующее поле. Двигаемся дальше, как Instance type необходимо в первую очередь выбрать class - это Burstable classes, т.е. t classes. Далее уже в выпадающем списке необходимо выбрать тип db.t3.micro. В этом типе у нас два виртуальных процессора и 1 гигабайт оперативной памяти, что более чем достаточно в рамках нашей лабораторной работы. Следующая секция – это информация о нашем хранилище, т.е. мы выбираем тип General Purpose SSD и 20 гигабайтов выделенной памяти. Этого также более чем достаточно в рамках лабораторной работы, поэтому вводим и двигаемся дальше. В разделе Connectivity необходимо ввести информацию по сетям. Самое основное – это VPC, в нашем случае это – Lab VPC. Далее необходимо выбрать недавно созданную Subnet Group – это db-subnet-group через дефис. Двигаемся дальше. VPC security group необходимо выбрать опцию Choose existing и в выпадающем меню выбрать DB Security Group. Прокручиваем чуть ниже, там где секция Monitoring необходимо убрать галочку в пункте Enable Enhanced monitoring. В следующей секции Initial database name вводим lab. Прокручиваем чуть ниже, там где Enable automated backups и Enable encryption необходимо убрать галочки. Мы все эти галочки убираем так как в рамках лабораторной работы это все не нужно. Таким образом мы ускоряем процесс создания инстанса базы данных. Когда вы будете работать с базой данных в Production среде, то с большой долей вероятностью все эти галочки должны быть включены. Прокручиваем в самый низ, мы увидим секцию Estimated monthly costs. На момент записи мы видим, что все наши введенные входные данные стоят в районе 30 долларов. DB instance стоит сам по себе чуть больше чем 12 долларов. Мы видим такую же сумму в следующей строке – это Multi-AZ standby instance, т.е. такой же инстанс создается в другой availability zone, поэтому за нее мы столько же оплачиваем. Как Storage наши 20 гигабайт SSD для хранения будет стоить чуть менее 5 долларов. Как только мы ввели все необходимые данные необходимо нажать на кнопку Create database. Нас направит на страницу со списком базы данных. Единственная запись это база данных, которую мы только что создали и как статус вы видите Сreating. Необходимо подождать какое-то время как минимум это 5 минут, после чего мы можем либо обновить страницу, либо нажать на соответствующую кнопку верхней части списка и статус должен поменяться на Available. Как только наша база данных будет успешно создана вы можете нажать на ее identifier это lab-db активная ссылка, по нажатию которой направляет на страницу со всей необходимой информацией о нашем инстансе. Вы видите, что в нижней части информация сгруппирована по различным вкладкам точно так же как в Amazon EC2 instance. Давайте откроем самую первую вкладку – это Connectivity & security и нам необходимо скопировать Endpoint. Теперь нам необходимо перейти в сервис Amazon EC2 через строку поиска сервисов. Как только вы переходите в левом навигационном меню вам необходимо нажать на Instances и вы увидите как минимум два инстанса, нас интересует Instance Web Server 1, давайте на нее нажмем и посмотрим ее публичный IPv4-адрес. Для этого необходимо в отобразившихся данных об этом instance перейти на вкладку Details и в самой первой строке вы увидите нужный нам IP-адрес. Давайте перейдем по этой ссылке вы увидите, что здесь у нас уже настроены приложения, необходимо перейти во вкладку RDS и здесь необходимо ввести информацию необходимую для этого приложения. Необходимо ввести Endpoint ранее скопированный, далее Database – lab, Username – main и как Password тот password, который вы указали при создании базы данных и нажать на кнопку Submit. Вы увидите, что исполняется следующая команда, для этого необходимо подождать некоторое время, как только все успешно запустится, то вас перенаправят на следующую страницу с информацией о контактах. Эти контакты – данные, которые есть в текущей базе данных, вы можете эти контакты изменять, также создавать и добавлять новые контакты, если все это работает, это говорит о том, что мы успешно создали Instance базы данных и привязали к нашему приложению и сейчас наше приложение корректно работает. Здесь я бы хотел особое внимание обратить, что в будущем, когда вы будете работать в Production среде с реальным приложением, то подобного рода действия делать не придется, это крайне не рекомендуется, т.е. мы ввели фактически логин, пароль и местонахождение нашей базы данных через веб форму. Это не является популярной и лучшей практикой. Лучшая практика – это ваши Amazon EC2 инстансы через Environment Variables, т.е. переменные среды, передать необходимые значения дальше уже не передавая это на frontend, на стороне backend внутри кода обработать и настроить необходимый connection до базы данных и успешно подключиться, далее с ним работать, и на frontend уже передавать только те данные, которые ваши потенциальные пользователи могут и должны видеть. 
	На этом мы завершаем нашу лабораторную работу, я вас с этим поздравляю. Теперь остается самый последний пункт – необходимо корректно разлогиниться со всех наших систем. Первое – это AWS Management Console, необходимо в верхней правой части нажать на имя нашего пользователя. В выпадающем меню нажать на кнопку Sign out, далее необходимо правильно разлогиниться с AWS Academy, а именно правильно завершить лабораторную работу. Необходимо в верхней правой части нажать на кнопку End lab, выйдет сообщение о том, что действительно ли вы хотите завершить лабораторную работу, нажимаем "Yes" и необходимо дождаться сообщения "You may close this message box now. Lab resources are terminating...", что говорит о том, что процесс удаления всех созданных нами ресурсов запустился и теперь мы можем закрывать эту страницу/окно и выходить с AWS Academy. 
	На этом мы добрались до конца нашей сегодняшней сессии. Мы чуть подробнее познакомились с сервисом Amazon RDS. Я очень надеюсь, что вы получили более полное представление. Спасибо вам за внимание. Увидимся с вами на следующих наших активностях.
