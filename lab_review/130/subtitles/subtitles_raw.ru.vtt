WEBVTT

00:00:00.000 --> 00:00:07.000
Добрый день, уважаемые студенты! Я рад вас их видеть на очередной сессии разбора лабораторной работы.

00:00:07.000 --> 00:00:13.000
Тема сегодняшней лабораторной работы это Scale and Load Balance your architecture.

00:00:13.000 --> 00:00:21.000
Мы подробнее познакомимся с сервисами ELB, Elastic Load Balancer и Autoscaling.

00:00:21.000 --> 00:00:23.000
Итак, давайте начнем.

00:00:23.000 --> 00:00:33.000
Ожидается, что вы уже находитесь на странице лабораторной работы и инициировали создание временного AWS аккаунта.

00:00:33.000 --> 00:00:39.000
Сейчас нам необходимо нажать на кнопку AWS для того, чтобы перейти на AWS Management Console.

00:00:39.000 --> 00:00:43.000
В консоли первое задание, нам необходимо создать AMI.

00:00:43.000 --> 00:00:50.000
Для этого нам необходимо в строке поиска ввести EC2 и в выдаче вы видите нужную ссылку.

00:00:50.000 --> 00:00:54.000
Давайте на нее нажмем и перейдем на сервис EC2.

00:00:54.000 --> 00:00:59.000
Далее в левом навигационном меню необходимо выбрать пункт Instances.

00:00:59.000 --> 00:01:05.000
В отобразившемся списке инстанцев необходимо выбрать Web Server 1.

00:01:05.000 --> 00:01:13.000
Далее нажать на кнопку Actions и в выпадающем меню выбрать пункт Image and Templates.

00:01:13.000 --> 00:01:16.000
И нажать на кнопку Create Image.

00:01:16.000 --> 00:01:22.000
Как только вы на нее нажмете, вас перенаправят на новую страницу, в которую необходимо ввести некоторые данные.

00:01:22.000 --> 00:01:26.000
Первое это Image Name, нужно ввести Web Server AMI.

00:01:26.000 --> 00:01:31.000
Далее Image Description, давайте введем Lab AMI for Web Server.

00:01:31.000 --> 00:01:38.000
Прокрутим чуть ниже, все остальные настройки оставляем по умолчанию и нажимаем Create Image.

00:01:38.000 --> 00:01:51.000
Как только вы на нее нажмете, вас перенаправят на предыдущую страницу и вы увидите сообщение о том, что AMI Stack and ID был успешно создан.

00:01:51.000 --> 00:01:56.000
Давайте скопируем AMI, он возможно нам понадобится в следующих заданиях.

00:01:56.000 --> 00:01:59.000
Теперь нам необходимо создать Target группу.

00:01:59.000 --> 00:02:07.000
Таргет группу мы создаем предварительно и эту таргет группу будем использовать при создании Elastic Load Balancer.

00:02:07.000 --> 00:02:12.000
Итак, нам необходимо в левом навигационном меню выбрать пункт Target Groups.

00:02:12.000 --> 00:02:19.000
Как только вы на нее нажмете, отобразится список всех существующих Target Group в нашем временном AWS аккаунте.

00:02:19.000 --> 00:02:23.000
Нам необходимо нажать на кнопку Create Target Group.

00:02:23.000 --> 00:02:29.000
Откроется соответствующая страница для ввода некоторых данных.

00:02:29.000 --> 00:02:35.000
В самом начале как тип необходимо выбрать Instances, то есть мы работаем сервисами сету.

00:02:35.000 --> 00:02:42.000
Далее прокрутить необходимо быть чуть ниже и как Target Group Name нужно ввести Lab Group.

00:02:42.000 --> 00:02:48.000
Как в VPC выбираем Lab VPC, все остальные настройки остаются такими же.

00:02:48.000 --> 00:02:54.000
В самой нижней части страницы необходимо нажать на кнопку Next.

00:02:54.000 --> 00:03:01.000
Вас направят на второй шаг создания Target группы и здесь необходимо выбрать наши таргеты.

00:03:01.000 --> 00:03:09.000
Так как наши таргеты будут управляться авто скейлинг группой, то здесь нам не нужно выбирать инстанции.

00:03:09.000 --> 00:03:17.000
Достаточно прокрутить чуть ниже страницу и нажать на кнопку Create Target Group без привязанных таргетов.

00:03:17.000 --> 00:03:21.000
Следующий шаг. Нам необходимо создать сам Load Balancer.

00:03:21.000 --> 00:03:26.000
Для этого в левом навигационном меню необходимо выбрать опцию Load Balancer

00:03:26.000 --> 00:03:31.000
и в открывшейся странице нажать на кнопку Create Load Balancer.

00:03:31.000 --> 00:03:36.000
Мы знаем с вами, что у нас есть три вида Load Balancer.

00:03:36.000 --> 00:03:40.000
В нашем случае интересует первый, это Application Load Balancer.

00:03:40.000 --> 00:03:43.000
Давайте нажмем на кнопку Create под этой опцией.

00:03:43.000 --> 00:03:49.000
Как только вы на нее нажмете, вас перенаправят на страницу для ввода входных данных.

00:03:49.000 --> 00:03:53.000
Давайте как Load Balancer Name укажем Lab BLB.

00:03:53.000 --> 00:03:57.000
Далее необходимо указать VPC, это Lab VPC.

00:03:57.000 --> 00:04:06.000
В секции Mappings нам необходимо отметить те availability зоны, в которой ELB будет распределять трафик,

00:04:06.000 --> 00:04:11.000
а также для каждой availability зоны необходимо выбрать subnet.

00:04:11.000 --> 00:04:17.000
В выпадающем меню для US East 1A необходимо выбрать Public Subnet 1,

00:04:17.000 --> 00:04:22.000
для US East 1B необходимо выбрать Public Subnet 2.

00:04:22.000 --> 00:04:31.000
Если мы прокрутим чуть ниже, в секции Security Groups, в выпадающем меню нам необходимо выбрать Web Security Group.

00:04:31.000 --> 00:04:41.000
В следующей секции Listeners and Routing необходимо удостовериться, что протокол стоит HTTP, а порт 80.

00:04:41.000 --> 00:04:49.000
Как default action давайте выберем Forward to Lab Group из выпадающего списка.

00:04:49.000 --> 00:04:56.000
Теперь нам необходимо прокрутить в самый конец страницы и нажать на кнопку Create Load Balancer.

00:04:56.000 --> 00:05:03.000
Как только вы нажмете на Create Load Balancer, вас направит на страницу с еще одной кнопкой,

00:05:03.000 --> 00:05:09.000
и по нажатию которой вы можете перейти на непосредственно ваш Load Balancer.

00:05:09.000 --> 00:05:14.000
Вы можете перейти по ней и посмотреть все детали создания этого ресурса,

00:05:14.000 --> 00:05:19.000
а мы с вами переходим к следующему заданию, теперь мы будем создавать авто скейлинг группу.

00:05:19.000 --> 00:05:24.000
Для того, чтобы создать авто скейлинг группу, первым делом создается Launch Config.

00:05:24.000 --> 00:05:29.000
Для этого в левом навигационном меню необходимо выбрать опцию Launch Configurations,

00:05:29.000 --> 00:05:34.000
и в открывшейся странице нажать на кнопку Create Launch Configuration.

00:05:34.000 --> 00:05:40.000
Вас перенаправит на страницу ввода входных данных, как Name необходимо указать Lab Config,

00:05:40.000 --> 00:05:44.000
как AMI выбрать веб-сервер AMI, который мы создавали ранее,

00:05:44.000 --> 00:05:50.000
как Instance Type необходимо выбрать C3-MICRO, если этот вариант недоступен,

00:05:50.000 --> 00:05:54.000
здесь вы можете выбрать T2-MICRO, либо любой другой.

00:05:54.000 --> 00:05:58.000
В рамках лабораторной работы разницы никакой нет.

00:05:58.000 --> 00:06:05.000
Прокручиваем чуть ниже, в секции Additional Configuration и в подсекции Monitoring,

00:06:05.000 --> 00:06:11.000
нам необходимо поставить галочку для того, чтобы активировать Detailed Monitoring.

00:06:11.000 --> 00:06:17.000
Это когда в CloudWatch отправляются метрики чаще, чем обычно.

00:06:19.000 --> 00:06:24.000
В секции Security Groups необходимо выбрать опцию Select an existing security group,

00:06:24.000 --> 00:06:28.000
то есть мы выбираем среди существующих security group, новую создавать не нужно.

00:06:28.000 --> 00:06:34.000
Для нас есть уже предварительно созданная security группа, она называется Web Security Group.

00:06:34.000 --> 00:06:38.000
Необходимо ее выбрать и мы двигаемся к следующей секции.

00:06:38.000 --> 00:06:44.000
Самая последняя секция это Key Pair, то есть мы здесь указываем ключ,

00:06:44.000 --> 00:06:49.000
по которому можно подключиться к нашим situinstance через SSH.

00:06:49.000 --> 00:06:53.000
В рамках лабораторной работы мы по SSH подключаться не будем,

00:06:53.000 --> 00:06:58.000
но как best practice мы укажем этот ключ.

00:06:58.000 --> 00:07:03.000
Необходимо Key Pair Options выбрать опцию Chosen existing key pair

00:07:03.000 --> 00:07:07.000
и далее выбрать существующий ключ в OK.

00:07:07.000 --> 00:07:11.000
Также необходимо поставить галочку о том, что мы подтверждаем,

00:07:11.000 --> 00:07:16.000
что мы будем подключаться к situinstance с использованием этого ключа.

00:07:18.000 --> 00:07:23.000
Это была последняя секция, теперь необходимо нажать в нижней части страницы

00:07:23.000 --> 00:07:26.000
на кнопку Create Launch Configuration.

00:07:26.000 --> 00:07:32.000
Как только она создастся, мы можем переходить к созданию автоскейлинг группы.

00:07:32.000 --> 00:07:39.000
Для этого в списке Launch Configuration необходимо выбрать ранее созданный LabConfig,

00:07:39.000 --> 00:07:45.000
далее нажать на кнопку Actions и в выпадающем меню выбрать опцию Create Auto Scaling Group.

00:07:45.000 --> 00:07:51.000
Вас перенаправит на страницу ввода входных данных.

00:07:51.000 --> 00:07:59.000
Давайте для поля Auto Scaling Group Name введем Lab Auto Scaling Group и нажмем на кнопку Next.

00:07:59.000 --> 00:08:03.000
На следующей странице необходимо ввести параметры Network,

00:08:03.000 --> 00:08:07.000
то есть эти. Самым первым делом необходимо указать VPC,

00:08:07.000 --> 00:08:12.000
в нашем случае это Lab VPC, мы можем его найти в выпадающем списке.

00:08:12.000 --> 00:08:15.000
Далее нам необходимо указать Availability Zones и Subnets.

00:08:15.000 --> 00:08:20.000
Здесь необходимо выбрать из выпадающего списка Private Subnet 1

00:08:20.000 --> 00:08:22.000
и Private Subnet 2.

00:08:22.000 --> 00:08:28.000
Почему мы выбираем именно Private Subnets я объяснял в предыдущем видео,

00:08:28.000 --> 00:08:31.000
когда мы делали обзор лабораторной работы.

00:08:31.000 --> 00:08:36.000
Как только мы выбираем необходимые Subnets, мы переходим к следующей части,

00:08:36.000 --> 00:08:41.000
к следующей странице настройки, нажимаем на кнопку Next.

00:08:41.000 --> 00:08:45.000
На следующей странице есть секция Load Balancing,

00:08:45.000 --> 00:08:50.000
здесь необходимо выбрать опцию Attach to an existing Load Balancer.

00:08:50.000 --> 00:08:58.000
В следующей секции необходимо выбрать Choose from your Load Balancer Target Groups

00:08:58.000 --> 00:09:04.000
и выбрать Load Balancer Lab Group из выпадающего списка.

00:09:04.000 --> 00:09:10.000
Необходимо прокрутить чуть ниже и в секции Additional Settings для мониторинга

00:09:10.000 --> 00:09:14.000
также отметить Enable Group Metrics Collection within CloudWatch.

00:09:14.000 --> 00:09:21.000
Это говорит о том, что мы и все метрики будем агрегировать в сервисе CloudWatch.

00:09:21.000 --> 00:09:27.000
На этой странице мы вывели все необходимые входные данные,

00:09:27.000 --> 00:09:30.000
теперь необходимо нажать на кнопку Next.

00:09:30.000 --> 00:09:38.000
Мы попадаем на страницу конфигурирования размеров группы и Scaling Policy.

00:09:38.000 --> 00:09:48.000
Первым делом мы заполняем Capacity, есть три опции, это Desired Capacity, Minimum Capacity и Maximum Capacity.

00:09:48.000 --> 00:09:58.000
Чем отличаются они друг от друга, мы также разбирали в предыдущей активности обзор лабораторной работы.

00:09:58.000 --> 00:10:03.000
Здесь нам необходимо ввести значение 2, 2 и 6 и мы двигаемся дальше.

00:10:03.000 --> 00:10:09.000
Следующая секция это Scaling Policies, здесь необходимо выбрать Target Tracking Scaling Policy.

00:10:09.000 --> 00:10:16.000
Это говорит о том, что авто скейлинг группа будет смотреть на некоторую метрику

00:10:16.000 --> 00:10:22.000
и в зависимости от этой метрики будет увеличиваться либо уменьшаться в своих размерах.

00:10:22.000 --> 00:10:32.000
Как Scaling Policy Name давайте введем Lab Scaling Policy и как Metric Type введем Average CPU Utilization.

00:10:32.000 --> 00:10:40.000
То есть мы смотрим на нагрузку на наши процессоры в EC2 Instance и как Target Value укажем 60.

00:10:44.000 --> 00:10:48.000
На этом мы ввели все необходимые настройки на этой странице.

00:10:48.000 --> 00:10:52.000
Давайте прокрутим вниз и нажмем на кнопку Next.

00:10:52.000 --> 00:10:57.000
На следующей странице предлагается ввести различные уведомления.

00:10:57.000 --> 00:11:03.000
Здесь мы в рамках лабораторной работы это настраивать не будем, двигаемся дальше.

00:11:05.000 --> 00:11:12.000
Следующий и последний шаг, где мы вводим некоторые входные данные это шаг с тегами.

00:11:12.000 --> 00:11:21.000
Давайте добавим Tag Name со значением Lab Instance и оставим галочку в поле Tag New Instances.

00:11:21.000 --> 00:11:31.000
Это говорит о том, что для всех инстанцев которые создаются под Auto Scaling группой будут передаваться теги такие же которые есть у Auto Scaling группы.

00:11:34.000 --> 00:11:40.000
Мы закончили на этой странице, давайте нажмем на кнопку Next для того, чтобы перейти на самую последнюю страницу.

00:11:40.000 --> 00:11:48.000
Здесь нет необходимости вводить какие-либо данные, а отображается все входные данные, которые мы ввели ранее.

00:11:48.000 --> 00:11:59.000
Если же некоторые данные неточные или вы хотите их изменить, то возле каждой секции есть кнопка Edit для того, чтобы быстро перейти на необходимую страницу.

00:11:59.000 --> 00:12:06.000
Если же все хорошо, вы можете прокрутить в самом низ страницы и нажать на кнопку Create Auto Scaling Group.

00:12:08.000 --> 00:12:17.000
Вас перенаправит на страницу со всеми Auto Scaling группами, вы увидите статус Updating Capacity и количество инстанцев на текущий момент 0.

00:12:17.000 --> 00:12:28.000
Если мы подождем некоторое время и обновим страницу еще раз, то количество инстанцев приравняется к количеству Desired Capacity, то есть два новых инстанца создастся и статус станет Ready.

00:12:29.000 --> 00:12:37.000
Вы можете это проделать самостоятельно, а сейчас мы двигаемся дальше, мы хотим проверить, что действительно инстанцы создаются.

00:12:37.000 --> 00:12:49.000
Для этого в левое наигационное меню нам необходимо нажать на пункт Instances и вы увидите список инстанцев в этом AWS аккаунте.

00:12:50.000 --> 00:12:59.000
Появилось два новых инстанца, оба называются Lab Instance и вы видите статус Initializing, то есть они только начали создаваться.

00:12:59.000 --> 00:13:14.000
Через некоторое время они также полностью поднимутся, настроятся и пройдут все проверки статуса и примут такое же значение как существующие инстанции.

00:13:14.000 --> 00:13:34.000
Давайте теперь в левом на вигационном меню в нижней части перейдем к вкладке Target Groups для того, чтобы посмотреть какие таргеты у нас есть в созданной нами Target группе.

00:13:34.000 --> 00:13:43.000
У нас единственная таргет группа, давайте ее выберем, отобразится в нижней части экрана дополнительные вкладки с более подробной информацией.

00:13:44.000 --> 00:13:52.000
Нам необходимо перейти на вкладку Target и вы увидите, что сейчас у нас как Registry Targets значатся два инстанца.

00:13:52.000 --> 00:14:07.000
Это те два инстанца, которые были созданы авто скейлинг группой и вы видите статус Healthy, что говорит о том, что Elastic Load Balancer уже готов направлять трафик, а эти инстанции готовы чтобы трафик принимать.

00:14:07.000 --> 00:14:26.000
Чтобы это проверить, что действительно связка Elastic Load Balancing, Auto Scaling и EC2 инстанции работает, мы можем перейти в наше приложение.

00:14:26.000 --> 00:14:43.000
Для этого необходимо в левом навигационном меню выбрать вкладку Lab Load Balancers и когда мы выберем единственный Load Balancer, который мы создали ранее, в нижней части экрана отобразятся дополнительные вкладки.

00:14:44.000 --> 00:14:54.000
В первой вкладке Description мы можем скопировать DNS Name и ввести это значение в новой вкладке в веб-браузере.

00:14:54.000 --> 00:15:02.000
Вы увидите, что отобразилась некоторая страница, это говорит о том, что ваш запрос был принят Load Balancer.

00:15:03.000 --> 00:15:12.000
Ваш запрос направил на веб-сервер, веб-сервер его обработал и вернул некоторый ответ.

00:15:13.000 --> 00:15:16.000
Этот ответ вам отображен в виде веб-страницы.

00:15:16.000 --> 00:15:30.000
Более того, вы видите информацию о том, какой инстанц обработал ваш запрос. Это тот инстанц, который находится на второй availability зоне, а именно US East 1B.

00:15:31.000 --> 00:15:40.000
Отлично, теперь нам необходимо проверить, что Auto Scaling группа работает корректно, что она скейлится, увеличивается и уменьшается в размерах.

00:15:40.000 --> 00:15:46.000
Для того, чтобы это проверить, первым делом необходимо перейти на сервис CloudWatch.

00:15:47.000 --> 00:15:56.000
Давайте начнем вводить CloudWatch, либо начнем вводить Watch в строке поиска сервисов и мы увидим нужную нам ссылку.

00:15:58.000 --> 00:16:05.000
Как только мы переходим к сервису CloudWatch, в левом навигационном меню необходимо выбрать опцию All Alarms.

00:16:05.000 --> 00:16:11.000
Отобразится список всех алармов, существующих на этом AWS аккаунте.

00:16:12.000 --> 00:16:18.000
В нашем случае будет два аларма. Первый в названии содержит Alarm High, второй содержит название Alarm Low.

00:16:18.000 --> 00:16:36.000
Это противоположные алармы. Идея в том, что Alarm High принимает значение in alarm в том случае, если CPU utilization превышает 60% для каждой минуты в течении 3 минут.

00:16:37.000 --> 00:16:45.000
То есть это 3 data points. Если мы говорим про Alarm Low, в этом случае он принимает значение in alarm.

00:16:45.000 --> 00:17:02.000
Если CPU utilization меньше 54% в течении 15 минут, то есть он 15 минут мониторит, если в течении 15 минут значение уменьшилось, то он переходит в состояние alarm.

00:17:02.000 --> 00:17:17.000
Оба аларма триггерят авто скейлинг группу в противоположных направлениях. В случае когда у нас срабатывает Alarm High, то авто скейлинг группа добавляет новый instance.

00:17:18.000 --> 00:17:24.000
В случае когда срабатывает Alarm Low, то авто скейлинг группа удаляет лишний instance.

00:17:24.000 --> 00:17:42.000
Если же эти алармы у вас не отображаются, то необходимо проделать следующее действие. Нам необходимо перейти в сервис EC2, далее в левом навигационном меню выбрать опцию Auto Scaling Groups, в списке выбрать Lab Auto Scaling.

00:17:42.000 --> 00:17:56.000
И в вкладках с информацией об этой авто скейлинг группе необходимо выбрать вкладку Auto Scaling, Automatic Scaling. Здесь отображаться все полиси, Scaling Policy.

00:17:57.000 --> 00:18:07.000
У нас одна единственная Scaling Policy, необходимо ее выбрать, далее нажать на кнопку Actions и в выпадающем меню нажать на кнопку Edit для того, чтобы ее отредактировать.

00:18:07.000 --> 00:18:17.000
Здесь для того, чтобы инициировать пересоздание алармов, вам достаточно поменять значение, рекомендуется поставить значение 50 и нажать на кнопку Update.

00:18:18.000 --> 00:18:27.000
Как только вы это сделаете, вы можете возвращаться обратно в сервис CloudWatch и вы должны увидеть создающуюся аларму.

00:18:27.000 --> 00:18:49.000
Давайте выберем Alarm High. Мы перейдем на следующую страницу, где посередине будет информация, список всех существующих алармов и в правой части экрана отображается более подробная информация выбранного аларма.

00:18:49.000 --> 00:19:08.000
В нашем случае это Alarm High, вы видите красную линию, то есть это Threshold 50% и видите текущее значение нагрузки на CPU. Это абсолютно минимальная нагрузка сейчас на наши инстанции. Это очевидно, потому что нагрузка сейчас не идет на наши инстанции.

00:19:08.000 --> 00:19:24.000
Теперь, что мы сделаем? Мы возвращаемся обратно на наше приложение и в верхней части вы видите, что есть кнопка Load Test. Давайте на нее нажмем. Как только мы на нее нажмем, у нас начнется генерация нагрузки на наши EC2 инстанции.

00:19:24.000 --> 00:19:42.000
Странница обновляется каждые 5 минут и отображает текущую нагрузку на процессоры на наших EC2 инстанциях. Эту страницу закрывать нельзя, если вы ее закроете, то скрипты перестанут работать и нагрузка упадет. Нужно держать эту вкладку открытой.

00:19:42.000 --> 00:20:02.000
Сейчас нам необходимо вернуться обратно и вы видите, что через некоторое время в течении 5 минут вы можете наблюдать как меняются графики и вы увидите, что Alarm High перешел в состояние In Alarm.

00:20:02.000 --> 00:20:25.000
Почему? Потому что нагрузка на наши EC2 инстанции превысила 50 или 60% в зависимости от того, что мы выбрали. А если мы говорим Alarm Low, то он ранее принимал значение In Sufficient Data либо In Alarm, сейчас он принял значение OK, то есть противоположное состояние.

00:20:25.000 --> 00:20:39.000
Теперь нам необходимо перейти в EC2 для того, чтобы удостовериться создала ли дополнительные инстанции наша автоскейлинг группа.

00:20:39.000 --> 00:20:54.000
Для этого необходимо в левом навигационном меню перейти на вкладку Instances и вы увидите 3 либо 4 инстанции, 2 из которых будет в состоянии инициации.

00:20:55.000 --> 00:21:07.000
Через какое-то время все 4 инстанции будут принимать трафик и обрабатывать все запросы, которые пришли от Load Balancer.

00:21:07.000 --> 00:21:20.000
На этом мы завершили все основные задания. Как дополнительный эксперимент я бы хотел вам посоветовать сделать следующее.

00:21:20.000 --> 00:21:41.000
Вы можете остановить нагрузку на ваши EC2 инстанции. Как только нагрузка спадет, через какое-то время в течении 15 минут автоскейлинг группа начнет терминатируется, то есть отключать инстанции в автоскейлинг группе.

00:21:41.000 --> 00:21:57.000
И придет в исходное состояние у нас будет 2 Lab Instance. Теперь что мы можем сделать? Мы можем оба либо один из Lab Instance вручную терминатировать и посмотреть что произойдет.

00:21:57.000 --> 00:22:14.000
А произойдет следующее. Как только вы удалите один из Instance, то общее количество таргетов, то есть Instance под автоскейлинг группой станет меньше чем минимальное значение.

00:22:14.000 --> 00:22:28.000
Как мы помним минимальное значение было 2. В этом случае автоскейлинг триггерится, видит что количество Instance по тем или иным причинам стало меньше чем минимальное и инициирует создание новых Instance.

00:22:29.000 --> 00:22:42.000
И через какое-то время оно создает необходимое количество новых Instance, чтобы количество Instance было равно минимальному количеству Instance в настройках автоскейлинг группы.

00:22:42.000 --> 00:22:55.000
Мы добрались до самого последнего задания. Оно достаточно простое, идея ее следующая.

00:22:55.000 --> 00:23:13.000
Мы ранее создавали AMI от Instance Web Server 1, который принимал нагрузку, принимал запросы и обслуживал наше приложение. Теперь оно нам не нужно, мы можем ее достаточно безопасно уничтожить, удалить.

00:23:13.000 --> 00:23:28.000
Для этого необходимо из списка выбрать Web Server 1, убедитесь что не выбраны другие Instance. Далее в верхней части необходимо нажать на кнопку Instance State и в выпадающем списке выбрать опцию Terminate Instance.

00:23:28.000 --> 00:23:49.000
Выйдет сообщение о том, что действительно ли вы хотите отключить ваш Instance, необходимо нажать на Terminate и подтвердить, что вы отключаете Instance. После того как Instance будет уничтожен, вы можете перепроверить действительно ли все работает и открыть страницу вашего приложения.

00:23:50.000 --> 00:23:56.000
Там стоит ссылка на Elastic Cloud Balancer и приложение будет также продолжать работать.

00:23:56.000 --> 00:24:16.000
На этом мы завершаем нашу лабораторную работу. Сейчас нам необходимо успешно разлагиниться со всех систем. Первое это AWS Management Console, необходимо в верхней правой части нажать на название пользователя, в выпадающем списке нажать на кнопку Sign Out.

00:24:16.000 --> 00:24:25.000
Далее необходимо корректно завершить лабораторную работу в AWS Academy, для этого необходимо нажать на кнопку End Lab.

00:24:25.000 --> 00:24:53.000
Нас попросят подтвердить, что мы действительно хотим завершить лабораторную работу, мы нажимаем Yes и в всплывающем окне мы должны дождаться сообщения, что мы можем закрывать это сообщение, удаление всех созданных ресурсов было инициировано. Вы можете закрывать это всплывающее окно, а также закрывать вкладку со страницей AWS Academy.

00:24:53.000 --> 00:25:22.000
На этом мы подошли к концу нашей лабораторной работы, мы ее разобрали и очень надеюсь, что вы получили более полное представление о сервисах Elastic Load Balancing и Autoscaling. Это те сервисы базовые, которые позволяют сделать нашу инфраструктуру неким абстрактным организмом, который в зависимости от нагрузки, от внешних факторов может изменяться в размерах, увеличиваться так и уменьшаться.

00:25:23.000 --> 00:25:41.000
Это дает большие возможности компании, в первую очередь это обработать все запросы ваших пользователей, пользователей ваших приложений и другой момент это то, что при уменьшении нагрузки на ваше приложение ее размеры автоматически уменьшаются для того, чтобы сократить ваши расходы, найти инфраструктуру.

00:25:41.000 --> 00:25:52.000
Я надеюсь, что разбор лабораторной работы был полезен для вас. Спасибо за внимание и увидимся с вами на следующих наших активностях.