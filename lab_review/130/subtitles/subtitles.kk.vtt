WEBVTT

00:00:00.000 --> 00:00:07.000
Қайырлы күн, құрметті студенттер! Сіздердің 
барлығыңызды келесі зертханалық жұмысқа  шолу

00:00:07.000 --> 00:00:13.000
сессиясында көргеніме қуаныштымын. Бүгінгі 
зертханалық жұмыстың тақырыбы - Scale & Load

00:00:13.000 --> 00:00:23.000
Balance your Architecture. Біз ELB - Elastic Load 
Balancer және Auto Scaling сервистерін толығырақ

00:00:23.000 --> 00:00:33.000
қарастырамыз. Сонымен, бастайық. Сіз қазір 
зертханалық жұмыс парақшасында тұрсыз және уақытша

00:00:33.000 --> 00:00:39.000
AWS аккаунтын құруды бастадыңыз. Енді AWS 
Management Console-ге өту үшін AWS батырмасын

00:00:39.000 --> 00:00:43.000
басу керек. Console-дегі бірінші 
тапсырма - AMI құруымыз керек.

00:00:43.000 --> 00:00:50.000
Мұны істеу үшін біз іздеу жолағына EC2 деп 
енгізуіміз керек және сіз қажетті сілтемені

00:00:50.000 --> 00:00:54.000
көресіз. Оны басып, Amazon 
EC2 сервисіне өтейік.

00:00:54.000 --> 00:00:59.000
Әрі қарай, сол жақ навигация мәзірінде 
Instances қойындысын таңдау керек.

00:00:59.000 --> 00:01:05.000
Көрсетілген инстанстар тізімінде 
Web Server 1-ді таңдау керек.

00:01:05.000 --> 00:01:13.000
Әрі қарай, Actions батырмасын басып, ашылмалы 
мәзірден Image and templates тармағын таңдап,

00:01:13.000 --> 00:01:16.000
Create image батырмасын 
басамыз. Оны басқаннан кейін

00:01:16.000 --> 00:01:22.000
сіз қосымша деректерді енгізу қажет 
жаңа парақшаға бағытталасыз.

00:01:22.000 --> 00:01:26.000
Біріншісі - Image name, сізге 
WebServerAMI енгізу керек.

00:01:26.000 --> 00:01:31.000
Әрі қарай, Image description өрісінде 
LabAMI for Web Server деп енгізейік.

00:01:31.000 --> 00:01:38.000
Кішкене төменге айналдырайық, барлық басқа 
параметрлерді әдепкі бойынша қалдырамыз және 

00:01:38.000 --> 00:01:44.000
Create image батырмасын басамыз. Сіз оны басқаннан
кейін сізді алдыңғы парақшаға бағыттайды

00:01:44.000 --> 00:01:51.000
және осындай ID бар AMI сәтті 
жасалғаны туралы хабарламаны көресіз.

00:01:51.000 --> 00:01:56.000
AMI-ді көшірейік, ол бізге келесі 
тапсырмаларда қажет болуы мүмкін.

00:01:56.000 --> 00:01:59.000
Енді біз Target group құруымыз 
керек. Target group-ты біз

00:01:59.000 --> 00:02:07.000
алдын ала жасаймыз және бұл target group-ты 
Elastic Load Balancer құруда қолданамыз.

00:02:07.000 --> 00:02:12.000
Сонымен, сол жақ навигациялық мәзірден 
Target Groups тармағын таңдау керек.

00:02:12.000 --> 00:02:18.000
Сіз оны басқаннан кейін біздің уақытша 
AWS аккаунтымыздағы барлық

00:02:18.000 --> 00:02:23.000
Target Group тізімі көрсетіледі. Біз Create 
target group батырмасын басуымыз керек.

00:02:23.000 --> 00:02:29.000
Қосымша деректерді енгізу үшін 
тиісті парақша ашылады.

00:02:29.000 --> 00:02:35.000
Ең басында Type ретінде Instances таңдау керек, 
яғни біз Amazon EC2 сервисімен жұмыс істейміз.

00:02:35.000 --> 00:02:42.000
Әрі қарай, сәл төмен жылжытып, Target 
group name ретінде LabGroup енгізу керек.

00:02:42.000 --> 00:02:48.000
VPC ретінде Lab VPC таңдаңыз, барлық 
басқа параметрлер солай болып қалады.

00:02:48.000 --> 00:02:54.000
Парақшаның төменгі жағында 
Next батырмасын басу керек.

00:02:54.000 --> 00:03:01.000
Сізді Target group құрудың екінші қадамына 
бағыттайды және мұнда біздің targets таңдау керек.

00:03:01.000 --> 00:03:08.000
Біздің targets Auto Scaling group-пен 
басқарылатындықтан, мұнда инстанстарды таңдаудың

00:03:08.000 --> 00:03:14.000
қажеті жоқ. Парақшаны сәл төмен айналдырып, 
Create target group батырмасын тіркелген

00:03:14.000 --> 00:03:21.000
таргеттерсіз бассаңыз жеткілікті. Келесі қадам – 
біз Load Balancer-дің өзін жасауымыз керек.

00:03:21.000 --> 00:03:26.000
Ол үшін сол жақ навигациялық мәзірде 
Load Balancers опциясын таңдап,

00:03:26.000 --> 00:03:31.000
ашылған парақшада Create Load 
Balancer батырмасын басамыз.

00:03:31.000 --> 00:03:36.000
Біз Load Balancers-тің үш 
түрі бар екенін білеміз.

00:03:36.000 --> 00:03:40.000
Біздің жағдайда біріншісі қызықтырады, 
бұл Application Load Balancer.

00:03:40.000 --> 00:03:43.000
Осы опцияның астындағы 
Create батырмасын басайық.

00:03:43.000 --> 00:03:49.000
Сіз оны басқаннан кейін, сізді кіріс деректерін 
енгізу үшін басқа парақшаға бағыттайды.

00:03:49.000 --> 00:03:57.000
Load balancer name ретінде LabELB көрсетейік. 
Әрі қарай, VPC көрсету керек - бұл Lab VPC.

00:03:57.000 --> 00:04:04.000
Mappings бөлімінде біз ELB трафикті тарататын 
availability zone белгілеп өтуіміз керек,

00:04:04.000 --> 00:04:11.000
сонымен қатар әрбір availability 
zone үшін subnet таңдау керек.

00:04:11.000 --> 00:04:22.000
Ашылмалы мәзірде us-east-1a үшін Public Subnet 1, 
us-east-1b үшін Public Subnet 2 таңдау керек.

00:04:22.000 --> 00:04:29.000
Егер біз төменге айналдырсақ, Security groups 
бөлімінде ашылмалы мәзірден Web Security Group

00:04:29.000 --> 00:04:37.000
таңдауымыз керек. Келесі Listeners and routing 
бөлімінде протокол HTTP, ал порттың 80

00:04:37.000 --> 00:04:47.000
екендігіне көз жеткізу керек. Default action 
ретінде ашылмалы тізімнен Forward to Lab

00:04:47.000 --> 00:04:53.000
Group таңдайық. Енді біз парақшаның ең 
соңына қарай жылжытып, Create load balancer

00:04:53.000 --> 00:05:01.000
батырмасын басуымыз керек. Create load balancer 
батырмасын басқаннан кейін, сізді тағы бір

00:05:01.000 --> 00:05:07.000
батырмасы бар парақшаға бағыттайды және 
оны басу арқылы тікелей Load Balancer-ге

00:05:07.000 --> 00:05:14.000
өтуге болады. Сіз оған өтіп, осы ресурсты 
құрудың барлық ақпараттарын көре аласыз,

00:05:14.000 --> 00:05:19.000
ал біз келесі тапсырмаға көшеміз, 
енді біз Auto Scaling group құрамыз.

00:05:19.000 --> 00:05:24.000
Auto Scaling group құру үшін бірінші 
кезекте Launch config құрылады.

00:05:24.000 --> 00:05:29.000
Ол үшін сол жақ навигациялық мәзірде 
Launch Configurations опциясын таңдап,

00:05:29.000 --> 00:05:34.000
ашылған парақшада Create launch 
configuration батырмасын басамыз.

00:05:34.000 --> 00:05:40.000
Сізді кіріс деректерін енгізу парақшасына 
бағыттайды, Name ретінде LabConfig-ті көрсету

00:05:40.000 --> 00:05:44.000
керек, AMI ретінде біз бұрын жасаған 
WebServerAMI-ді таңдауға болады,

00:05:44.000 --> 00:05:50.000
Instance type ретінде t3.micro таңдау 
керек, егер бұл нұсқа қол жетімді болмаса,

00:05:50.000 --> 00:05:54.000
мұнда t2.micro немесе кез келген 
басқасын таңдауыңызға болады.

00:05:54.000 --> 00:05:58.000
Зертханалық жұмыс аясында 
ешқандай айырмашылығы жоқ.

00:05:58.000 --> 00:06:05.000
Кішкене төмен айналдырамыз, Additional 
configuration бөлімінде және Monitoring

00:06:05.000 --> 00:06:11.000
бөлімшесінде, detailed monitoring-ті 
іске қосу үшін құсбелгі қою керек.

00:06:11.000 --> 00:06:17.000
Сонда метрикалар CloudWatch-қа 
әдеттегіден жиі жіберіледі.

00:06:19.000 --> 00:06:24.000
Security groups бөлімінде Select an existing 
security group опциясын таңдау керек,

00:06:24.000 --> 00:06:28.000
яғни біз қолданыстағы security group ішінен 
таңдаймыз, жаңасын құрудың қажеті жоқ.

00:06:28.000 --> 00:06:34.000
Біз үшін алдын ала құрылған security group 
бар, ол Web Security Group деп аталады.

00:06:34.000 --> 00:06:38.000
Оны таңдау керек және 
біз келесі бөлімге көшеміз.

00:06:38.000 --> 00:06:44.000
Ең соңғы бөлім - бұл Key pair, яғни 
біз мұнда Amazon EC2 инстанстарына

00:06:44.000 --> 00:06:49.000
SSH арқылы қосылуға 
болатын кілтті көрсетеміз.

00:06:49.000 --> 00:06:53.000
Зертханалық жұмыстың аясында 
біз SSH бойынша қосылмаймыз,

00:06:53.000 --> 00:06:58.000
бірақ best practice ретінде 
біз бұл кілтті көрсетеміз.

00:06:58.000 --> 00:07:03.000
Key pair options-та Choose an 
existing key pair опциясын таңдап,

00:07:03.000 --> 00:07:11.000
сосын қолданыстағы vockey кілтін таңдаймыз. 
Сондай-ақ, осы кілтті пайдаланып Amazon EC2

00:07:11.000 --> 00:07:16.000
инстанстарына қосылатынымызды 
растайтын құсбелгіні қою керек.

00:07:17.000 --> 00:07:23.000
Бұл соңғы бөлім болды, енді 
парақшаның төменгі жағындағы

00:07:23.000 --> 00:07:26.000
Create launch configuration 
батырмасын басу керек.

00:07:26.000 --> 00:07:32.000
Ол құрылғаннан кейін біз Auto 
Scaling group құруға өте аламыз.

00:07:32.000 --> 00:07:39.000
Ол үшін Launch configurations тізімінде 
бұрын жасалған LabConfig таңдау керек,

00:07:39.000 --> 00:07:45.000
содан кейін Actions батырмасын басып, ашылмалы 
мәзірден Create Auto Scaling group опциясын

00:07:45.000 --> 00:07:51.000
таңдаймыз. Сізді кіріс деректерін енгізу 
парақшасына қайта бағыттайды.

00:07:51.000 --> 00:07:59.000
Auto Scaling group name өрісі үшін Lab Auto 
Scaling Group деп теріп, Next батырмасын басайық.

00:07:59.000 --> 00:08:03.000
Келесі парақша Network, яғни 
желі параметрлерін енгізу керек.

00:08:03.000 --> 00:08:12.000
Ең алдымен, VPC көрсету керек, біздің жағдайда 
бұл LabVPC, біз оны ашылмалы тізімнен таба аламыз.

00:08:12.000 --> 00:08:15.000
Әрі қарай, біз Availability zones 
and subnets көрсетуіміз керек.

00:08:15.000 --> 00:08:22.000
Мұнда ашылмалы тізімінен Private Subnet 1 
және Private Subnet 2 таңдау керек.

00:08:22.000 --> 00:08:28.000
Неліктен біз Private Subnets 
таңдайтынымызды мен алдыңғы видеода

00:08:28.000 --> 00:08:31.000
зертханалық жұмыстарға шолу 
жасаған кезде түсіндірдім.

00:08:31.000 --> 00:08:36.000
Қажетті subnets таңдағаннан 
кейін біз келесі бөлімге,

00:08:36.000 --> 00:08:41.000
келесі параметрлер парақшасына 
өтеміз, Next батырмасын басамыз.

00:08:41.000 --> 00:08:45.000
Келесі парақшада Load 
balancing бөлімі бар,

00:08:45.000 --> 00:08:50.000
мұнда Attach to an existing load 
balancer опциясын таңдау керек.

00:08:50.000 --> 00:08:58.000
Келесі бөлімде Choose from your 
load balancer target groups және

00:08:58.000 --> 00:09:04.000
ашылмалы тізімнен Load 
Balancer LabGroup таңдау керек.

00:09:04.000 --> 00:09:10.000
Кішкене төмен жылжыту керек және Additional 
settings бөлімінде, сонымен қатар мониторинг үшін

00:09:10.000 --> 00:09:14.000
Enable group metrics collection 
within CloudWatch белгілеу керек.

00:09:14.000 --> 00:09:21.000
Бұл барлық метрикаларды CloudWatch 
сервисінде біріктіретінімізді көрсетеді.

00:09:21.000 --> 00:09:30.000
Бұл парақшада біз барлық қажетті кіріс деректерін 
шығардық, енді Next батырмасын басу керек.

00:09:30.000 --> 00:09:38.000
Біз группа өлшемдерін конфигурациялау 
және scaling policy парақшасына өтеміз.

00:09:38.000 --> 00:09:46.000
Біріншіден, біз capacity-ді толтырамыз, үш опциясы
бар - Desired capacity, Minimum capacity және

00:09:46.000 --> 00:09:56.000
Maximum capacity. Олардың да бір-бірінен 
айырмашылығын біз алдыңғы зертханалық жұмысты

00:09:56.000 --> 00:10:03.000
шолу белсенділігінде талдадық. Мұнда біз 2, 2 
және 6 мәнін енгізіп, әрі қарай жүруіміз керек.

00:10:03.000 --> 00:10:09.000
Келесі бөлім - Scaling policies, мұнда 
Target tracking scaling policy таңдау керек.

00:10:09.000 --> 00:10:16.000
Бұл Auto Scaling group кейбір 
метрикаға қарайтынын және

00:10:16.000 --> 00:10:22.000
осы метрикаға байланысты өзінің өлшемдерінде 
ұлғаятынын немесе кішірейетінін көрсетеді.

00:10:22.000 --> 00:10:31.000
Scaling policy name ретінде LabScalingPolicy және
Metric type ретінде Average CPU utilization

00:10:31.000 --> 00:10:37.000
енгізейік, яғни біз Amazon EC2 инстанстарындағы 
процессорларымыздың жүктемесіне қараймыз және

00:10:37.000 --> 00:10:48.000
Target value ретінде 60 көрсетеміз. Осымен біз осы 
парақшада барлық қажетті параметрлерді енгіздік.

00:10:48.000 --> 00:10:52.000
Төмен жылжытып, Next 
батырмасын басайық.

00:10:52.000 --> 00:10:57.000
Келесі парақшада әртүрлі 
хабарландыруларды енгізу ұсынылады.

00:10:57.000 --> 00:11:03.000
Мұнда біз зертханалық жұмыс аясында 
мұны реттемейміз, әрі қарай жүреміз.

00:11:05.000 --> 00:11:12.000
Кіріс деректерін енгізетін келесі және 
соңғы қадам - бұл тегтер енгізетін қадам.

00:11:12.000 --> 00:11:21.000
Lab Instance мәні бар Tag Name қосайық және 
Tag new instances өрісінде құсбелгі қалдырайық.

00:11:21.000 --> 00:11:25.000
Бұл Auto Scaling group атынан 
жасалған барлық инстанстар үшін

00:11:25.000 --> 00:11:31.000
Auto Scaling group-та бар 
тегтер берілетінін көрсетеді.

00:11:34.000 --> 00:11:39.000
Біз осы парақшаны баптауды аяқтадық, 
ең соңғы парақшаға өту үшін Next

00:11:39.000 --> 00:11:45.000
батырмасын басайық. Мұнда ешқандай деректерді 
енгізудің қажеті жоқ, біз бұрын енгізген барлық

00:11:45.000 --> 00:11:53.000
кіріс деректері көрсетіледі. Егер кейбір деректер 
дәл болмаса немесе оларды өзгерткіңіз келсе,

00:11:53.000 --> 00:11:58.000
онда әр бөлімнің жанында қажетті парақшаға 
жылдам өту үшін Edit батырмасы бар.

00:11:58.000 --> 00:12:03.000
Егер бәрі жақсы болса, сіз 
парақшаның төменгі жағына жылжып,

00:12:03.000 --> 00:12:10.000
Create Auto Scaling group батырмасын басуыңызға 
болады. Сізді барлық Auto Scaling groups бар

00:12:10.000 --> 00:12:17.000
парақшаға бағыттайды, сіз Updating capacity күйін 
және осы сәтте Instances саны 0 екенін көресіз.

00:12:17.000 --> 00:12:22.000
Егер біз біраз уақыт күтіп, парақшаны тағы бір 
рет жаңартатын болсақ, онда инстанстар саны

00:12:22.000 --> 00:12:27.000
Desired capacity санына теңеседі, яғни 
екі жаңа инстанс құрылады және күйі

00:12:27.000 --> 00:12:33.000
Ready болады. Сіз мұны өзіңіз жасай 
аласыз, ал қазір біз әрі қарай жылжимыз,

00:12:33.000 --> 00:12:40.000
біз инстанстар шынымен жасалып жатқанын 
тексергіміз келеді. Ол үшін сол жақ навигациялық 

00:12:40.000 --> 00:12:49.000
мәзірде біз Instances тармағын басуымыз керек және
сіз осы AWS аккаунтында инстанстар тізімін көресіз.

00:12:49.000 --> 00:12:58.000
Екі жаңа инстанс пайда болды, екеуі де Lab 
Instance деп аталады және сіз Initializing күйін

00:12:58.000 --> 00:13:04.000
көресіз, яғни олар енді ғана құрыла бастады. 
Біраз уақыттан кейін олар да толығымен бапталып,

00:13:04.000 --> 00:13:14.000
реттеліп, барлық статус тексерілуінен өтіп, 
қолданыстағы инстанстармен бірдей мәнді қабылдайды.

00:13:14.000 --> 00:13:26.000
Енді төменгі жағындағы сол жақ навигация 
мәзірінде біз жасаған Target group-та

00:13:26.000 --> 00:13:35.000
қандай таргеттер бар екенін көру үшін Target 
Groups қойындысына өтейік. Бізде жалғыз

00:13:35.000 --> 00:13:42.000
Target group бар, оны таңдайық, экранның 
төменгі жағында толық мәліметтер бар қосымша

00:13:42.000 --> 00:13:48.000
қойындылар пайда болады. Біз Targets 
қойындысына өтуіміз керек және қазір бізде

00:13:48.000 --> 00:13:55.000
Registered targets ретінде екі инстанс бар
екенін көресіз. Бұл Auto Scaling group жасаған

00:13:55.000 --> 00:14:01.000
екі инстанс және сіз healthy күйін көресіз, бұл 
Elastic Load Balancer трафикті бағыттауға дайын

00:14:01.000 --> 00:14:12.000
екенін және бұл инстанстар бұл трафикті қабылдауға
дайын екенін көрсетеді. Elastic Load Balancing,

00:14:12.000 --> 00:14:22.000
Auto Scaling және Amazon EC2 инстанстары байланысы
шынымен жұмыс істеп тұрғанын тексеру үшін

00:14:22.000 --> 00:14:32.000
біз қосымшамызға кіре аламыз. Ол үшін сол жақ 
навигациялық мәзірден Load Balancers қойындысын

00:14:32.000 --> 00:14:39.000
таңдау керек және біз бұрын жасаған 
жалғыз Load Balancer таңдағанда

00:14:39.000 --> 00:14:45.000
экранның төменгі жағында қосымша қойындылар 
пайда болады. Бірінші Description қойындысында

00:14:45.000 --> 00:14:55.000
біз DNS name мәнін көшіре аламыз және бұл мәнді 
веб-браузердегі жаңа қойындыға енгізе аламыз.

00:14:55.000 --> 00:15:01.000
Сіз қандай да бір парақшаның көрсетілгенін 
көресіз, бұл сіздің сұрауыңызды Load Balancer

00:15:01.000 --> 00:15:12.000
қабылдағанын көрсетеді. Load Balancer сіздің 
сұрауыңызды веб-серверге жіберді, веб-сервер оны

00:15:12.000 --> 00:15:16.000
өңдеді және қандай да бір жауапты қайтарды. 
Бұл жауап сізге веб-парақша ретінде көрсетіледі.

00:15:16.000 --> 00:15:25.000
Сонымен қатар, сіз сұрауыңызды қандай инстанс 
өңдегені туралы ақпаратты көресіз. Бұл

00:15:25.000 --> 00:15:30.000
екінші availability zone-дағы, 
атап айтқанда us-east-1b инстансы.

00:15:31.000 --> 00:15:36.000
Жақсы, енді біз Auto Scaling group 
дұрыс жұмыс істеп тұрғанын,

00:15:36.000 --> 00:15:40.000
оның масштабталып, үлкейіп, кішірейіп 
жатқанын тексеруіміз керек.

00:15:40.000 --> 00:15:47.000
Мұны тексеру үшін алдымен 
CloudWatch сервисіне өту керек.

00:15:47.000 --> 00:15:53.000
CloudWatch деп теруді бастайық 
немесе сервистерді іздеу жолағына

00:15:53.000 --> 00:15:58.000
Watch деп теруді бастайық, 
біз қажетті сілтемені көреміз.

00:15:58.000 --> 00:16:02.000
CloudWatch сервисіне 
өткеннен кейін сол жақ

00:16:02.000 --> 00:16:05.000
навигация мәзірінде All alarms 
опциясын таңдау керек.

00:16:05.000 --> 00:16:12.000
Осы AWS аккаунтында бар 
барлық alarms тізімі көрсетіледі.

00:16:12.000 --> 00:16:15.000
Біздің жағдайда екі alarms 
болады. Біріншісінде AlarmHigh

00:16:15.000 --> 00:16:18.000
атауы, екіншісінде 
AlarmLow атауы бар.

00:16:18.000 --> 00:16:27.000
Бұл қарама-қарсы alarms. Идея мынада, егер 
CPU utilization 3 минут ішінде әр минут үшін

00:16:27.000 --> 00:16:38.000
60%-дан асатын болса, AlarmHigh in alarm 
мәнін қабылдайды, яғни бұл 3 datapoints.

00:16:38.000 --> 00:16:44.000
Егер біз AlarmLow туралы айтатын болсақ, егер 
CPU utilization 15 минут ішінде 54%-дан аз болса,

00:16:45.000 --> 00:16:55.000
бұл жағдайда ол in alarm мәнін 
қабылдайды, яғни ол 15 минут бақылайды,

00:16:55.000 --> 00:17:02.000
егер 15 минут ішінде мән 
азайса, ол alarm күйіне өтеді.

00:17:02.000 --> 00:17:11.000
Екі alarms та Auto Scaling group-ты қарама-қарсы 
бағытта іске қосады. Бізде AlarmHigh

00:17:11.000 --> 00:17:17.000
іске қосылған жағдайда, Auto 
Scaling group жаңа инстансты қосады.

00:17:18.000 --> 00:17:25.000
Alarm Low іске қосылған жағдайда, 
Auto Scaling group артық инстансты жояды.

00:17:25.000 --> 00:17:31.000
Егер сізде бұл alarms көрсетілмесе, 
онда келесі әрекетті орындау қажет.

00:17:31.000 --> 00:17:35.000
Біз Amazon EC2 сервисіне өтуіміз керек, 
содан кейін сол жақ навигациялық мәзірде

00:17:35.000 --> 00:17:42.000
Auto Scaling Group опциясын таңдаймыз, 
тізімнен Lab Auto Scaling таңдаймыз.

00:17:42.000 --> 00:17:49.000
Осы Auto Scaling group туралы ақпарат бар 
қойындыларда Automatic scaling қойындысын

00:17:49.000 --> 00:17:56.000
таңдау керек. Мұнда барлық 
scaling policy көрсетіледі.

00:17:56.000 --> 00:18:02.000
Бізде жалғыз scaling policy бар, оны таңдау 
керек, содан кейін Actions батырмасын

00:18:02.000 --> 00:18:07.000
басып, ашылмалы мәзірде оны 
өңдеу үшін Edit батырмасын басамыз.

00:18:07.000 --> 00:18:13.000
Мұнда alarms қайта құруды бастау 
үшін мәнді өзгерту жеткілікті,

00:18:13.000 --> 00:18:17.000
50 мәнін қойып, Update 
батырмасын басу ұсынылады.

00:18:17.000 --> 00:18:20.000
Мұны жасағаннан кейін CloudWatch 
сервисіне қайта оралуға болады

00:18:20.000 --> 00:18:34.000
және сіз жасалып жатқан alarm-ды 
көруіңіз керек. AlarmHigh таңдайық.

00:18:34.000 --> 00:18:41.000
Біз келесі парақшаға өтеміз, оның 
ортасында барлық бар alarms

00:18:41.000 --> 00:18:50.000
тізімі болады және экранның оң жағында таңдалған 
alarm туралы толығырақ ақпарат көрсетіледі.

00:18:50.000 --> 00:18:55.000
Біздің жағдайда бұл AlarmHigh, сіз қызыл 
сызықты көресіз, яғни бұл threshold 50%

00:18:55.000 --> 00:19:03.000
және CPU-дағы ағымдағы жүктеме мәнін 
көресіз. Бұл қазір біздің инстанстарымызға

00:19:03.000 --> 00:19:09.000
ең аз жүктеме. Бұл анық, өйткені жүктеме 
қазір біздің инстанстарымызға түспейді.

00:19:09.000 --> 00:19:14.000
Енді біз не істейміз? Біз қосымшаға қайта 
ораламыз және жоғарғы жағында

00:19:14.000 --> 00:19:18.000
Load Test батырмасы бар екенін көресіз. 
Оны басайық. Біз оны басқаннан кейін

00:19:18.000 --> 00:19:25.000
Amazon EC2 инстанстарына жүктеме 
генерациясын жасай бастаймыз. Парақша

00:19:25.000 --> 00:19:32.000
әр 5 минут сайын жаңартылып отырады және біздің 
Amazon EC2 инстанстарындағы процессорлардағы

00:19:32.000 --> 00:19:38.000
ағымдағы жүктемені көрсетеді. Бұл парақшаны 
жабуға болмайды, егер сіз оны жапсаңыз, скрипттер

00:19:38.000 --> 00:19:43.000
жұмысын тоқтатады және жүктеме төмендейді. 
Бұл қойындыны ашық ұстау керек.

00:19:43.000 --> 00:19:53.000
Енді біз қайтып оралуымыз 
керек және сіз біраз

00:19:53.000 --> 00:19:56.000
уақыттан кейін 5 минут ішінде графиктердің 
қалай өзгеретінін бақылай аласыз

00:19:56.000 --> 00:20:02.000
және AlarmHigh in alarm 
күйіне ауысқанын көресіз. 

00:20:02.000 --> 00:20:10.000
Неліктен? Себебі біздің Amazon EC2 инстанстарына 
жүктеме біз таңдаған әрекетке байланысты

00:20:10.000 --> 00:20:15.000
50 немесе 60%-дан асты. Ал егер бұрын In 
Sufficient Data немесе In alarm мәнін қабылдаған

00:20:15.000 --> 00:20:25.000
AlarmLow-ды айтатын болсақ, ол қазір OK 
мәнін, яғни қарама-қарсы күйді қабылдады.

00:20:25.000 --> 00:20:35.000
Енді біздің Auto Scaling group 
қосымша инстанстарды

00:20:35.000 --> 00:20:39.000
жасағанына көз жеткізу 
үшін EC2-ге өтуіміз керек.

00:20:39.000 --> 00:20:45.000
Ол үшін сол жақ навигациялық мәзірде 
Instances қойындысына өту керек және сіз

00:20:45.000 --> 00:20:55.000
3 немесе 4 инстансты көресіз, 
оның 2-і Initializing күйінде болады.

00:20:55.000 --> 00:21:03.000
Біраз уақыттан кейін барлық 4 инстанс 
трафикті қабылдайтын болады

00:21:03.000 --> 00:21:07.000
және Load Balancer-ден келген 
барлық сұрауларды өңдейді.

00:21:07.000 --> 00:21:14.000
Осымен біз барлық негізгі 
тапсырмаларды аяқтадық.

00:21:14.000 --> 00:21:21.000
Қосымша эксперимент ретінде мен сізге келесі 
әрекеттерді орындауға кеңес бергім келеді.

00:21:21.000 --> 00:21:29.000
Сіз өзіңіздің Amazon EC2 инстанстарыңызға 
жүктемені тоқтата аласыз. Жүктеме азайғаннан

00:21:29.000 --> 00:21:34.000
кейін, біраз уақыттан кейін 15 минут 
ішінде Auto Scaling group инстанстарды

00:21:34.000 --> 00:21:42.000
жоюды бастайды, яғни Auto Scaling 
group-тағы инстанстарды өшіріп,

00:21:42.000 --> 00:21:49.000
бастапқы күйіне келеді, бізде 2 Lab Instance 
болады. Енді біз не істей аламыз? Біз

00:21:49.000 --> 00:21:58.000
екеуін де немесе Lab Instance-тың біреуін 
қолмен жойып не болатынын көре аламыз.

00:21:58.000 --> 00:22:09.000
Сонымен келесі жағдай орын алады. Инстанстардың 
бірін өшіріп тастағаннан кейін, жалпы таргеттер

00:22:09.000 --> 00:22:14.000
саны, яғни Auto Scaling group атындағы 
инстанстар минималды мәннен аз болады.

00:22:14.000 --> 00:22:20.000
Естеріңізде болса, минималды мән 2 болды. 
Бұл жағдайда Auto Scaling іске қосылады,

00:22:20.000 --> 00:22:24.000
қандай да бір себептермен 
инстанстар саны минимумнан

00:22:24.000 --> 00:22:28.000
аз болғанын көреді және жаңа 
инстанстар құруды бастайды.

00:22:28.000 --> 00:22:35.000
Біраз уақыттан кейін инстанстар саны 
Auto Scaling groups параметрлеріндегі

00:22:35.000 --> 00:22:42.000
инстанстардың ең аз санына тең болуы үшін ол 
жаңа инстанстардың қажетті санын жасайды.

00:22:42.000 --> 00:22:56.000
Біз соңғы тапсырмаға жеттік. Бұл өте 
қарапайым, оның идеясы келесідей.

00:22:56.000 --> 00:23:02.000
Біз бұрын жүктемені, сұраныстарды 
қабылдайтын және біздің қосымшамызға

00:23:02.000 --> 00:23:08.000
қызмет көрсететін Web server 1 инстансынан 
AMI құрдық. Енді ол бізге қажет емес,

00:23:08.000 --> 00:23:13.000
біз оны қауіпсіз түрде 
жоя аламыз, өшіре аламыз.

00:23:13.000 --> 00:23:18.000
Ол үшін тізімнен Web Server 1 таңдау керек, 
басқа инстанстар таңдалмағанына

00:23:18.000 --> 00:23:23.000
көз жеткізіңіз. Әрі қарай, жоғарғы бөлігінде 
Instance state батырмасын басып,

00:23:23.000 --> 00:23:28.000
ашылмалы тізімнен Terminate 
instance опциясын таңдау керек.

00:23:28.000 --> 00:23:36.000
Сіз өзіңіздің инстансыңызды шынымен өшіргіңіз 
келетіндігі туралы хабарлама шығады, Terminate-ті

00:23:36.000 --> 00:23:42.000
басып, инстансты өшіріп жатқаныңызды 
растауыңыз керек. Инстанс жойылғаннан кейін,

00:23:42.000 --> 00:23:50.000
бәрі шынымен жұмыс істейтінін қайта тексеріп, 
қосымшаның парақшасын ашуға болады.

00:23:50.000 --> 00:23:56.000
Онда Elastic Load Balancer-ге сілтеме тұрады 
және қосымша да жұмысын жалғастырады.

00:23:56.000 --> 00:24:06.000
Осымен біз зертханалық жұмысымызды 
аяқтаймыз. Енді біз барлық жүйелерден сәтті

00:24:06.000 --> 00:24:11.000
шығуымыз керек. Біріншісі - AWS 
Management Console, жоғарғы оң жақта

00:24:11.000 --> 00:24:17.000
пайдаланушы атын басу керек, ашылмалы тізімде 
Sign out батырмасын басамыз. Әрі қарай,

00:24:17.000 --> 00:24:24.000
AWS Academy-де зертханалық жұмысты 
дұрыс аяқтау керек, ол үшін End Lab батырмасын

00:24:24.000 --> 00:24:31.000
басу керек. Бізден зертханалық жұмысты 
шынымен аяқтағымыз келетінін растау сұралады,

00:24:31.000 --> 00:24:40.000
біз "Yes" батырмасын басамыз және қалқымалы 
терезеде біз осы хабарламаны жаба аламыз деген

00:24:40.000 --> 00:24:47.000
хабарламаны күтуіміз керек, барлық жасалған 
ресурстарды жою басталды. Сіз бұл қалқымалы

00:24:47.000 --> 00:24:53.000
терезені жаба аласыз, сонымен қатар AWS 
Academy парақша қойындысын жаба аласыз.

00:24:53.000 --> 00:25:00.000
Осымен біз зертханалық жұмыстың соңына жеттік, 
сіз Elastic Load Balancing және Auto Scaling

00:25:00.000 --> 00:25:07.000
сервистері туралы толық түсінік 
алдыңыз деп үміттенемін. Бұл біздің

00:25:07.000 --> 00:25:15.000
инфрақұрылымды жүктемеге, сыртқы 
факторларға байланысты мөлшері өзгеруі,

00:25:15.000 --> 00:25:21.000
ұлғаюы және азаюы мүмкін, абстрактты
организмге айналдыруға мүмкіндік беретін

00:25:21.000 --> 00:25:26.000
негізгі сервистер. Бұл компанияға үлкен 
мүмкіндіктер береді, ең алдымен,

00:25:26.000 --> 00:25:32.000
бұл сіздің қосымшаңызды пайдаланушыларының 
барлық сұрауларын өңдеу және келесі,

00:25:32.000 --> 00:25:36.000
сіздің қосымшаңыздағы жүктеме азайған кезде 
оның өлшемдері де автоматты түрде азаяды,

00:25:36.000 --> 00:25:41.000
осылайша IT-инфрақұрылымының 
шығындарын азайту үшін қолданылады.

00:25:41.000 --> 00:25:47.000
Зертханалық жұмысты талдау сізге 
пайдалы болды деп үміттенемін.

00:25:47.000 --> 00:25:52.000
Назар аударғаныңыз үшін рахмет және 
келесі белсенділіктерімізде кездескенше.