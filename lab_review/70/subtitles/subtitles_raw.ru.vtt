WEBVTT

00:00:00.000 --> 00:00:02.520
Добрый день, уважаемые студенты!

00:00:02.520 --> 00:00:06.120
Я рад вас всех видеть на очередной сессии разбора

00:00:06.120 --> 00:00:08.000
лабораторной работы.

00:00:08.000 --> 00:00:11.080
Тема лабораторной работы – введение в сервис Амазон

00:00:11.080 --> 00:00:12.080
Иссито.

00:00:12.080 --> 00:00:16.640
Итак, давайте начнем.

00:00:16.640 --> 00:00:20.040
Мы начинаем нашу сессию с главной страницы лабораторной

00:00:20.040 --> 00:00:21.040
работы.

00:00:21.040 --> 00:00:25.280
Вам необходимо убедиться, что вы находитесь в правильной

00:00:25.280 --> 00:00:29.960
странице внутри AWS Академии, а также необходимо предварительно

00:00:29.960 --> 00:00:34.920
запустить лабораторную работу путем нажатия на

00:00:34.920 --> 00:00:36.280
кнопку Start Lab.

00:00:36.280 --> 00:00:39.400
Как только все будет готово, мы можем нажимать на кнопку

00:00:39.400 --> 00:00:44.040
AWS для того, чтобы перейти на главную страницу AWS Management

00:00:44.040 --> 00:00:46.640
Console.

00:00:46.640 --> 00:00:50.000
Как только мы перейдем на AWS Management Console, мы увидим

00:00:50.000 --> 00:00:54.400
вверху справа, что для нас был создан специальный

00:00:54.400 --> 00:00:57.520
временный аккаунт, и мы сидим здесь под специальным

00:00:57.520 --> 00:01:00.880
пользователем Test Student.

00:01:00.880 --> 00:01:05.760
В самом первом задании нам необходимо создать новый

00:01:05.760 --> 00:01:06.760
ИСИТУ инстанс.

00:01:06.760 --> 00:01:11.640
Для этого нам необходимо перейти на сервис ИСИТУ.

00:01:11.640 --> 00:01:15.280
Как мы с вами помним, нам достаточно в строке поиска

00:01:15.280 --> 00:01:20.520
сервисов AWS начать вводить часть сервиса, и в нашем

00:01:20.520 --> 00:01:22.000
случае это ИСИТУ.

00:01:22.000 --> 00:01:24.360
Вы увидите в выдаче, что первая ссылка – это та

00:01:24.360 --> 00:01:26.000
ссылка, которая нам нужна.

00:01:26.000 --> 00:01:27.200
Давайте на нее нажмем.

00:01:27.200 --> 00:01:31.040
Нажмем для того, чтобы перейти на основную страницу сервиса

00:01:31.040 --> 00:01:32.800
Amazon ИСИТУ.

00:01:32.800 --> 00:01:37.200
Вам необходимо убедиться, что вверху справа вы находитесь

00:01:37.200 --> 00:01:39.200
в регионе Норс-Верженье.

00:01:39.200 --> 00:01:42.900
Далее вам необходимо также убедиться в левом навигационном

00:01:42.900 --> 00:01:49.320
меню сверху, что включена опция New ISE Experience, и уже

00:01:49.320 --> 00:01:52.560
на основной странице чуть ниже необходимо нажать

00:01:52.560 --> 00:01:55.360
на кнопку Launch Instance.

00:01:55.360 --> 00:02:01.000
Мы попадаем в помощник создания нового ИСИТУ инстенса.

00:02:01.000 --> 00:02:05.400
Давайте как название ИСИТУ инстенса введем веб-сервер.

00:02:05.400 --> 00:02:10.880
Нам необходимо будет прокрутить чуть ниже и остановиться

00:02:10.880 --> 00:02:16.160
на секции Application and OS Images либо Amazon Machine Images.

00:02:16.160 --> 00:02:19.760
То есть мы выбираем образ нашего инстенса.

00:02:19.760 --> 00:02:22.480
Здесь нам необходимо оставить все значения по умолчанию,

00:02:22.480 --> 00:02:27.520
то есть Amazon Linux, а также внутри Amazon Linux именно AMI,

00:02:27.520 --> 00:02:32.680
который называется Amazon Linux Tool AMI, в скобках HVM.

00:02:32.680 --> 00:02:33.960
Мы двигаемся дальше.

00:02:33.960 --> 00:02:37.080
Чуть ниже есть секция, где мы указываем тип нашего

00:02:37.080 --> 00:02:38.080
инстенса.

00:02:38.080 --> 00:02:41.040
Давайте здесь также оставим по умолчанию и будет у нас

00:02:41.040 --> 00:02:43.040
значение t2.micro.

00:02:43.040 --> 00:02:48.080
В этом типе инстенса для нас доступно одно ядро

00:02:48.080 --> 00:02:53.160
процессора и один гигабайт оперативной памяти.

00:02:53.160 --> 00:02:57.480
Если мы посмотрим чуть ниже, у нас есть секция для выбора

00:02:57.480 --> 00:02:58.480
SSH ключей.

00:02:58.480 --> 00:03:05.400
Для нас в рамках нашей лабораторной работы был создан SSH ключ,

00:03:05.400 --> 00:03:07.400
который называется VOK.

00:03:07.400 --> 00:03:10.480
Приватный ключ вы можете скачать на основной странице

00:03:10.480 --> 00:03:11.480
лабораторной работы.

00:03:11.480 --> 00:03:19.220
Здесь же мы указываем, что как SSH ключ, паблик ключ,

00:03:19.220 --> 00:03:22.680
мы используем VOK.

00:03:22.680 --> 00:03:30.440
Этот ключ, публичный ключ Amazon передаст EC2 инстанцу

00:03:30.440 --> 00:03:33.960
и в момент, когда мы с приватным SSH ключом будем подключаться

00:03:33.960 --> 00:03:39.400
к этому инстанцу, он будет сверяться с публичным ключом.

00:03:39.400 --> 00:03:43.480
Как только произойдет совпадение, мы сможем авторизоваться

00:03:43.480 --> 00:03:46.360
в нашем инстенсе.

00:03:46.360 --> 00:03:50.160
Двигаемся чуть ниже, вы увидите большую секцию

00:03:50.160 --> 00:03:52.360
по настройке сетей.

00:03:52.360 --> 00:03:55.600
Здесь нам необходимо в правой части секции нажать на

00:03:55.600 --> 00:03:59.200
кнопку Edit для того, чтобы поля стали доступными.

00:03:59.200 --> 00:04:02.240
Как только вы это сделаете, нам сразу необходимо поменять

00:04:02.240 --> 00:04:03.240
VPC.

00:04:03.240 --> 00:04:07.600
Как VPC мы выбираем не дефолтовый, а специально созданный VPC

00:04:07.600 --> 00:04:10.760
для нас, LabVPC.

00:04:10.760 --> 00:04:15.880
Далее нам необходимо чуть ниже, под секции Firewall

00:04:15.880 --> 00:04:19.440
Security Groups, выбрать опцию Create Security Group, то есть

00:04:19.440 --> 00:04:21.680
мы создаем новую Security Group.

00:04:21.680 --> 00:04:25.720
Как группу вписываем Web Server Security Group.

00:04:25.720 --> 00:04:32.440
Далее как description прописываем Security Group for my web server.

00:04:32.440 --> 00:04:36.080
Хорошо, если мы прокрутим чуть ниже, мы для этой

00:04:36.080 --> 00:04:39.680
Security можем настроить inbound рулы.

00:04:39.680 --> 00:04:45.000
Как мы видим уже есть дефолтовый рул, это доступ по 22 порту

00:04:45.000 --> 00:04:46.000
через интернет.

00:04:46.000 --> 00:04:48.880
То есть мы через интернет можем таким образом подключаться

00:04:48.880 --> 00:04:50.180
к нашему инстанцу.

00:04:50.180 --> 00:04:53.560
Давайте нажмем на кнопку Remove для того, чтобы удалить

00:04:53.560 --> 00:04:54.560
этот рул.

00:04:54.560 --> 00:05:00.000
Таким образом у нас не будет ни одного inbound рула.

00:05:00.000 --> 00:05:03.680
Security группы мы будем с вами редактировать чуть позже.

00:05:03.680 --> 00:05:04.840
Двигаемся дальше.

00:05:04.840 --> 00:05:10.280
Следующая секция это настройка хранилища, то есть жестких

00:05:10.280 --> 00:05:12.040
дисков.

00:05:12.040 --> 00:05:15.120
Нам рекомендуется создать один жесткий диск как root

00:05:15.120 --> 00:05:18.280
volume, на котором будет установлена операционная система.

00:05:18.280 --> 00:05:26.600
Всего предлагается сделать размер 8 ГБ и тип EBS volume,

00:05:26.600 --> 00:05:28.480
выбрать GP2.

00:05:28.480 --> 00:05:35.960
Пока не обращайте внимание, почему такой тип мы выбрали,

00:05:35.960 --> 00:05:40.880
более подробно мы разберем с вами тип EBS volume на следующих

00:05:40.880 --> 00:05:41.880
наших лекциях.

00:05:41.880 --> 00:05:48.160
Далее нам необходимо прокрутить чуть ниже до самого конца

00:05:48.160 --> 00:05:51.080
и раскрыть секцию Advanced details.

00:05:51.080 --> 00:05:54.280
В этой секции нам необходимо будет внести некоторые

00:05:54.280 --> 00:05:55.280
правки.

00:05:55.280 --> 00:05:58.240
Давайте прокрутим чуть ниже и найдем поле, которое

00:05:58.240 --> 00:06:00.640
называется termination protection.

00:06:00.640 --> 00:06:03.240
Нам необходимо установить значение enable, то есть мы

00:06:03.240 --> 00:06:07.000
termination protection включаем для этого инстенса.

00:06:07.000 --> 00:06:10.520
Далее если мы прокрутим еще ниже до самого конца,

00:06:10.520 --> 00:06:12.640
мы увидим, что есть поле user data.

00:06:12.640 --> 00:06:15.200
Что такое user data мы с вами проговаривали несколько

00:06:15.200 --> 00:06:16.200
раз.

00:06:16.200 --> 00:06:21.500
Сейчас нам необходимо команды, которые даны на странице

00:06:21.500 --> 00:06:25.040
лабораторной работы скопировать и вставить в это поле.

00:06:25.040 --> 00:06:28.800
После чего нам необходимо нажать на кнопку launch instance,

00:06:28.800 --> 00:06:33.040
чтобы запустить процесс создания нашего инстенса.

00:06:33.040 --> 00:06:36.840
Как только вы нажмете на эту кнопку, вы увидите зеленое

00:06:36.840 --> 00:06:39.680
уведомление, которое говорит о том, что процесс успешно

00:06:39.680 --> 00:06:44.000
инициирован вашему инстанцу присвоен следующий ID.

00:06:44.000 --> 00:06:47.120
Внизу вы увидите кнопку view all instances, давайте на

00:06:47.120 --> 00:06:53.600
нее нажмем, чтобы перейти на страницу со всеми инстанциями.

00:06:53.600 --> 00:06:56.380
Как только мы нажали на кнопку view all instances, нас

00:06:56.380 --> 00:06:59.460
перенаправит на страницу со списком всех инстанций

00:06:59.460 --> 00:07:02.360
в этом регионе, в этом AWS аккаунте.

00:07:02.360 --> 00:07:05.480
Вы видите, что появился новый инстанс, который

00:07:05.480 --> 00:07:07.920
называется веб сервер.

00:07:07.920 --> 00:07:10.320
Также видите, что через какое-то время instant state

00:07:10.320 --> 00:07:13.780
становится running, но при этом еще какое-то время

00:07:13.780 --> 00:07:17.080
нам необходимо подождать, чтобы в колонке status check

00:07:17.080 --> 00:07:21.160
значение initializing поменялось и стало два из двух checks

00:07:21.160 --> 00:07:24.320
passed.

00:07:24.320 --> 00:07:27.120
Для того, чтобы обновлять страницу, вы можете не

00:07:27.120 --> 00:07:30.440
только нажимать F5, вы можете обновить частично, а именно

00:07:30.440 --> 00:07:35.820
список инстансов путем нажатия на иконку обновить

00:07:35.820 --> 00:07:38.640
верхней части страницы.

00:07:38.640 --> 00:07:41.400
Как только мы дождались, что все проверки пройдены,

00:07:41.400 --> 00:07:45.320
вы увидите соответствующий текст, теперь нам необходимо

00:07:45.320 --> 00:07:51.120
выбрать этот инстанс и вы увидите, что в нижней части

00:07:51.120 --> 00:07:54.500
отобразится вся необходимая информация касательно этого

00:07:54.500 --> 00:07:57.480
инстанца в нескольких различных вкладках.

00:07:57.480 --> 00:08:00.920
Первая вкладка details, здесь самая основная информация,

00:08:00.920 --> 00:08:03.940
в том числе вы можете найти публичный IP адрес нашего

00:08:03.940 --> 00:08:04.940
инстанца.

00:08:04.940 --> 00:08:10.760
Также у вас может возникнуть вопрос, что за две проверки,

00:08:10.760 --> 00:08:14.200
которые отображаются в списке в колонке status check.

00:08:14.200 --> 00:08:17.720
Это две проверки, которые самые основные, это system

00:08:17.720 --> 00:08:20.200
status check и instance status check.

00:08:20.200 --> 00:08:23.840
Таким образом, происходит проверка, что у нас инстанс

00:08:23.840 --> 00:08:27.400
был успешно поднят и он доступен для подключения

00:08:27.400 --> 00:08:28.720
нами по сети.

00:08:28.720 --> 00:08:33.200
Хорошо, как только эти проверки пройдены, это говорит о

00:08:33.200 --> 00:08:36.960
том, что сервер готов.

00:08:36.960 --> 00:08:41.320
Теперь давайте посмотрим, какими инструментами и

00:08:41.320 --> 00:08:44.400
фичерами мы можем воспользоваться, чтобы проверять в каком

00:08:44.400 --> 00:08:48.240
состоянии находится наш инстанс.

00:08:48.240 --> 00:08:50.040
Давайте перейдем на вкладку monitoring.

00:08:50.040 --> 00:08:54.520
Здесь вы видите различные графики.

00:08:54.520 --> 00:08:57.940
Сейчас графики не нарисованы, так как сервер был относительно

00:08:57.940 --> 00:09:00.660
недавно запущен, но тем не менее, давайте выберем

00:09:00.660 --> 00:09:05.360
самый первый график, это нагрузка процессора, нажмем

00:09:05.360 --> 00:09:08.360
на три кнопки и нажмем на кнопку enlarge для того,

00:09:08.360 --> 00:09:10.280
чтобы увеличить этот график.

00:09:10.280 --> 00:09:14.200
Он отобразится в всплывающее окно, где вы увидите, что

00:09:14.200 --> 00:09:19.320
мы лучше можем посмотреть все метрики.

00:09:19.320 --> 00:09:22.040
Каждая метрика отображается как точка.

00:09:22.040 --> 00:09:27.180
Далее, если у нас несколько метрик всего, они соединяются

00:09:27.180 --> 00:09:30.120
между собой линиями и мы увидим график.

00:09:30.120 --> 00:09:33.600
На текущий момент мы видим, что у нас одна единственная

00:09:33.600 --> 00:09:36.800
метрика, которая говорит о том, что нагрузка на процессор

00:09:36.800 --> 00:09:40.080
было 14,5%.

00:09:40.080 --> 00:09:46.760
Также на этой странице вы видите, что мы можем настраивать

00:09:46.760 --> 00:09:50.520
различные периоды, то есть от одного часа до целого

00:09:50.520 --> 00:09:51.520
года.

00:09:51.520 --> 00:09:56.080
Также мы можем группировать наши метрики по пяти минутам

00:09:56.080 --> 00:09:57.080
и выше.

00:09:57.080 --> 00:09:59.880
Более того, во время группировки мы можем применить некую

00:09:59.880 --> 00:10:00.880
операцию.

00:10:00.880 --> 00:10:03.240
Это может быть среднее значение, максимальное, минимальное,

00:10:03.240 --> 00:10:04.240
и так далее.

00:10:04.240 --> 00:10:08.880
Хорошо, давайте закроем эту страницу и посмотрим,

00:10:08.880 --> 00:10:14.240
еще у нас есть варианты пути проверки состояния

00:10:14.240 --> 00:10:17.520
нашего инстанца внутри AWS Management консоли.

00:10:17.520 --> 00:10:21.880
Что нам необходимо сделать?

00:10:21.880 --> 00:10:25.520
Это из списка инстанцев выбрать наш веб-сервер.

00:10:25.520 --> 00:10:31.320
Далее, вверху справа нажать на выпадающий список actions.

00:10:31.320 --> 00:10:34.980
Далее выбрать опцию Monitor and Troubleshoot и в выпадающем

00:10:34.980 --> 00:10:38.240
списке выбрать опцию Get System Lock.

00:10:38.240 --> 00:10:42.280
Сейчас перенаправить на страницу с логами всех

00:10:42.280 --> 00:10:44.960
команд, которые были запущены на этом инстанце.

00:10:44.960 --> 00:10:52.400
Это та информация, которая для вас доступна для любого

00:10:52.400 --> 00:10:53.400
инстанца.

00:10:53.400 --> 00:10:56.600
В случае, если у вас некие проблемы с этим инстанцем,

00:10:56.600 --> 00:10:59.520
либо по тем или иным причинам вы не можете подключиться

00:10:59.520 --> 00:11:03.120
к этому инстанцу, вы можете всегда открыть эту страницу

00:11:03.120 --> 00:11:06.400
и посмотреть, как отработали команды, запущенные на

00:11:06.400 --> 00:11:07.400
этом инстанце.

00:11:07.400 --> 00:11:11.120
Вы можете также в режиме реального времени видеть

00:11:11.120 --> 00:11:15.560
какие логи, все новые логи, которые появляются здесь

00:11:15.560 --> 00:11:17.640
путем нажатия на иконку обновления.

00:11:17.640 --> 00:11:22.480
Также вы можете скопировать эти логи, либо загрузить

00:11:22.480 --> 00:11:23.480
в виде файла.

00:11:23.480 --> 00:11:28.520
Хорошо, давайте нажмем на кнопку Cancel и посмотрим

00:11:28.520 --> 00:11:31.520
еще одну опцию, которая для нас доступна.

00:11:31.520 --> 00:11:34.120
Для этого также нам необходимо выбрать наш веб-сервер

00:11:34.120 --> 00:11:40.280
в выпадающем меню Actions, выбрать опцию Monitor and Troubleshoot и

00:11:40.280 --> 00:11:44.880
выбрать вторую опцию, которая называется Get Instance Screenshot.

00:11:44.880 --> 00:11:50.520
Как только вы ее нажмете, в консоли EC2-инстанца в

00:11:50.520 --> 00:11:53.680
командной строке сделается ее скриншот и отправится

00:11:53.680 --> 00:11:55.240
отобразиться вам здесь.

00:11:55.240 --> 00:11:59.080
Вы увидите этот скриншот и, опять же, если у вас проблемы

00:11:59.080 --> 00:12:01.640
с подключением к вашему инстанцу, таким образом

00:12:01.640 --> 00:12:06.920
вы можете увидеть текущее состояние консоли и предпринять

00:12:06.920 --> 00:12:07.920
какие-либо меры.

00:12:07.920 --> 00:12:11.840
Даже если эта информация не даст вам однозначного

00:12:11.840 --> 00:12:15.080
ответа, то в целом это также является положительной

00:12:15.080 --> 00:12:20.160
информацией, которая поможет найти проблемное место.

00:12:20.160 --> 00:12:26.120
Хорошо, давайте закроем это окно, нажмем на кнопку

00:12:26.120 --> 00:12:29.460
Cancel и посмотрим, что же у нас еще есть, что еще мы

00:12:29.460 --> 00:12:34.840
можем сделать в рамках сервиса Amazon EC2.

00:12:34.840 --> 00:12:39.500
Мы с вами помним, что мы запускали веб-сервер на

00:12:39.500 --> 00:12:42.840
нашем EC2-инстанце, также мы создавали простеющую

00:12:42.840 --> 00:12:46.640
веб-страницу, которая должна быть для нас доступна.

00:12:46.640 --> 00:12:50.520
Для этого давайте в левом навигационном меню откроем

00:12:50.520 --> 00:12:55.520
вкладку Instances и в списке инстанцев выберем наш инстанс,

00:12:55.520 --> 00:12:57.360
он называется веб-сервер.

00:12:57.360 --> 00:13:01.380
Внизу в отобразившихся вкладках выберем вкладку

00:13:01.380 --> 00:13:09.060
Details и вы сразу увидите, что вам отобразится public IPv4-адрес

00:13:09.060 --> 00:13:11.040
нашего веб-сервера.

00:13:11.040 --> 00:13:17.040
Давайте ее скопируем и откроем на отдельной странице.

00:13:17.040 --> 00:13:21.320
Вы увидите, что мы не можем подключиться к этому инстанцу,

00:13:21.320 --> 00:13:25.220
почему это происходит, мы разобрали в сессии разбора

00:13:25.220 --> 00:13:27.520
лабораторной работы.

00:13:27.520 --> 00:13:33.520
Хорошо, проблема была в том, что мы убрали все inbound-рулы

00:13:33.520 --> 00:13:37.320
в Security Group, а эта Security Group была привязана к нашему

00:13:37.320 --> 00:13:38.320
инстанцу.

00:13:38.320 --> 00:13:42.260
Таким образом, к этому инстанцу никак извне подключиться

00:13:42.260 --> 00:13:44.280
нельзя.

00:13:44.280 --> 00:13:47.400
Давайте теперь модифицируем нашу Security Group для того,

00:13:47.400 --> 00:13:51.400
чтобы мы могли с интернета обращаться к нашему веб-серверу.

00:13:51.400 --> 00:13:55.360
Для этого нам необходимо в левом навигационном меню

00:13:55.360 --> 00:13:58.360
выбрать вкладку Security Groups.

00:13:58.360 --> 00:14:01.480
Отобразится список Security Group, которые созданы в этом

00:14:01.480 --> 00:14:02.940
AWS-аккаунте.

00:14:02.940 --> 00:14:05.960
Нам необходимо выбрать Security Group, которая называется

00:14:05.960 --> 00:14:08.040
веб-сервер Security Group.

00:14:08.040 --> 00:14:11.540
Как только вы ее выберете, в нижней части экрана отобразится

00:14:11.540 --> 00:14:12.760
несколько вкладок.

00:14:12.760 --> 00:14:17.180
Нам необходимо перейти на вкладку Inbound Rules.

00:14:17.180 --> 00:14:21.680
Вы увидите, что на текущий момент у нас нет inbound-рулов.

00:14:21.680 --> 00:14:23.840
Это нормально и это ожидаемо.

00:14:23.840 --> 00:14:25.640
Теперь нам необходимо создать рулы.

00:14:25.640 --> 00:14:29.720
Для этого необходимо нажать в правой части на кнопку

00:14:29.720 --> 00:14:32.360
Edit inbound rules.

00:14:32.360 --> 00:14:34.820
Как только вы на нее нажмете, вас направят на страницу

00:14:34.820 --> 00:14:38.760
редактирования существующих inbound-рулов.

00:14:38.760 --> 00:14:42.320
Так как у нас нет влов, нам необходимо нажать на кнопку

00:14:42.320 --> 00:14:44.840
Add Rule и появится новая строчка.

00:14:44.840 --> 00:14:50.320
В этой строчке как Type выбираем HTTP, автоматически заполнится

00:14:50.320 --> 00:14:53.680
столбцы Protocol и Port Range с соответствующими значениями.

00:14:53.680 --> 00:14:56.900
Это Protocol TCP и Port 80.

00:14:56.900 --> 00:15:02.200
Как Source нам необходимо выбрать Anywhere IPv4 и вы увидите,

00:15:02.200 --> 00:15:09.860
что с правой стороны в соседнем столбце вставится CIDR-блок

00:15:09.860 --> 00:15:11.640
со всеми нулями.

00:15:11.640 --> 00:15:15.040
Это как раз таки CIDR-блок всего нашего интернета.

00:15:15.040 --> 00:15:19.280
Хорошо, мы закончили настройку inbound-рулов.

00:15:19.280 --> 00:15:21.720
Нам необходимо в нижней части страницы нажать на

00:15:21.720 --> 00:15:23.520
кнопку Save Rules.

00:15:23.520 --> 00:15:26.760
Как только мы на нее нажмем, все изменения сразу же

00:15:26.760 --> 00:15:28.480
вступят в силу.

00:15:28.480 --> 00:15:32.440
Хорошо, мы увидим с вами на следующей странице соответствующее

00:15:32.440 --> 00:15:36.080
сообщение, зеленое уведомление о том, что Security группа была

00:15:36.080 --> 00:15:37.240
успешно обновлена.

00:15:37.240 --> 00:15:44.040
Если мы еще раз откроем, либо обновим эту страницу,

00:15:44.040 --> 00:15:46.720
если вы его не закрывали, то мы увидим сообщение

00:15:46.720 --> 00:15:49.120
Hello from your web-сервер.

00:15:49.120 --> 00:15:51.140
Отлично, я вас поздравляю.

00:15:51.140 --> 00:15:54.620
Мы настроили правильно Security группу, так чтобы мы

00:15:54.620 --> 00:15:58.560
могли из интернета добираться до нашего веб-сервера и

00:15:58.560 --> 00:16:01.840
получать от него ответ.

00:16:01.840 --> 00:16:05.960
Теперь представим ситуацию, когда вы работаете облачным

00:16:05.960 --> 00:16:10.900
инженером и вас попросили увеличить либо уменьшить

00:16:10.900 --> 00:16:13.680
размер виситого инстенса.

00:16:13.680 --> 00:16:17.200
Также необходимо увеличить размер жестких дисков для

00:16:17.200 --> 00:16:19.840
того, чтобы оставить больше места для данных.

00:16:19.840 --> 00:16:25.960
В AWS это очень легко делается, буквально пару кликов внутри

00:16:25.960 --> 00:16:27.680
AWS Management консоли.

00:16:27.680 --> 00:16:30.200
Давайте попробуем это сделать.

00:16:30.200 --> 00:16:32.700
Нам необходимо в левом навигационном меню нажать

00:16:32.700 --> 00:16:34.840
на вкладку Instances.

00:16:34.840 --> 00:16:37.760
Нам отобразится список всех существующих инстенсов,

00:16:37.760 --> 00:16:40.840
нам необходимо выбрать наш инстенс, который называется

00:16:40.840 --> 00:16:42.600
веб-сервер.

00:16:42.600 --> 00:16:46.040
Как только мы ее выберем, нам необходимо вверху справа

00:16:46.040 --> 00:16:50.160
нажать на выпадающий список Instance type и остановить этот

00:16:50.160 --> 00:16:51.160
инстенс.

00:16:51.160 --> 00:16:52.800
Почему мы его останавливаем?

00:16:52.800 --> 00:16:57.100
Тип инстенса и размер жестких дисков могут быть изменены

00:16:57.100 --> 00:16:59.120
только тогда, когда инстенс остановлен.

00:16:59.120 --> 00:17:05.240
В отображающемся окошке нам необходимо подтвердить,

00:17:05.240 --> 00:17:08.560
что мы останавливаем наш инстенс и нажимаем на кнопку

00:17:08.560 --> 00:17:10.600
Stop.

00:17:10.600 --> 00:17:14.200
Вы увидите, что процесс остановки запустился и

00:17:14.200 --> 00:17:17.480
Instance state отображается как stopping, то есть в процессе

00:17:17.480 --> 00:17:18.480
остановки.

00:17:18.480 --> 00:17:21.320
Через некоторое время, если мы обновим список инстенсов,

00:17:21.320 --> 00:17:24.800
мы увидим, что состояние поменялось со stopping на

00:17:24.800 --> 00:17:27.680
stopped, то есть окончательно остановилось.

00:17:27.680 --> 00:17:31.280
Теперь мы можем переходить к изменению типа инстенса.

00:17:31.280 --> 00:17:34.160
Для этого нам необходимо выбрать наш инстенс.

00:17:34.160 --> 00:17:39.560
Далее в выпадающем меню Actions выбрать Instance settings.

00:17:39.560 --> 00:17:42.920
Здесь также отобразится несколько опций и необходимо

00:17:42.920 --> 00:17:45.200
выбрать Change instance type.

00:17:45.200 --> 00:17:48.600
Как только вы на нее нажмете, вы будете перенаправлены

00:17:48.600 --> 00:17:50.800
на другую страницу.

00:17:50.800 --> 00:17:55.060
Здесь вы видите текущее значение типа инстенса,

00:17:55.060 --> 00:17:57.760
а также вы можете ввести новое значение.

00:17:57.760 --> 00:18:00.640
Давайте выберем t2small.

00:18:00.640 --> 00:18:03.680
Это следующий размер инстенса, который в два раза больше,

00:18:03.680 --> 00:18:07.320
то есть у нас два раза больше количество ядер, также

00:18:07.320 --> 00:18:09.680
в два раза больше оперативной памяти.

00:18:09.680 --> 00:18:12.720
Хорошо, мы закончили все необходимые настройки на

00:18:12.720 --> 00:18:13.720
этой странице.

00:18:13.720 --> 00:18:18.240
Давайте нажмем внизу страницы на кнопку Apply.

00:18:18.240 --> 00:18:20.120
Отлично.

00:18:20.120 --> 00:18:24.160
Теперь нам необходимо изменить размер жестких дисков.

00:18:24.160 --> 00:18:27.780
Для этого нам необходимо опять же выбрать наш веб-сервер

00:18:27.780 --> 00:18:31.080
и перейти на вкладку Storage.

00:18:31.080 --> 00:18:34.200
Если мы прокрутим чуть ниже, мы увидим единственный

00:18:34.200 --> 00:18:36.760
жесткий диск, основной жесткий диск, на котором

00:18:36.760 --> 00:18:38.800
установлена операционная система.

00:18:38.800 --> 00:18:42.080
Если мы нажмем на ссылку, то есть ID-шник жесткого

00:18:42.080 --> 00:18:47.720
диска, мы перейдем на соответствующую страницу со всеми жесткими

00:18:47.720 --> 00:18:51.200
дисками, при этом нужный жесткий диск уже будет

00:18:51.200 --> 00:18:52.440
отфильтрован.

00:18:52.440 --> 00:18:56.920
Давайте мы ее выберем, вверху справа выберем Actions и нажмем

00:18:56.920 --> 00:18:59.760
на опцию Modify volume.

00:18:59.760 --> 00:19:04.500
Нас также перенаправят на новую страницу, и здесь

00:19:04.500 --> 00:19:09.960
нам необходимо увеличить размер с 8 до 10 ГБ.

00:19:09.960 --> 00:19:10.960
Отлично.

00:19:10.960 --> 00:19:16.520
Давайте нажмем на кнопку Modify и в всплывающем окне

00:19:16.520 --> 00:19:19.400
также подтвердим, что мы изменяем размер жесткого

00:19:19.400 --> 00:19:20.400
диска.

00:19:20.400 --> 00:19:25.040
Отлично, мы проделали все необходимые изменения,

00:19:25.040 --> 00:19:27.120
теперь мы можем включать наш веб-сервер.

00:19:27.120 --> 00:19:30.600
Для этого в левом навигационном меню необходимо выбрать

00:19:30.600 --> 00:19:34.460
вкладку Instances и отобразиться список всех существующих

00:19:34.460 --> 00:19:35.840
инстенсов.

00:19:35.840 --> 00:19:41.760
Нам необходимо выбрать наш AC2Instance с name web-сервер

00:19:41.760 --> 00:19:49.160
и далее в выпадающем меню Instanced state выбрать опцию

00:19:49.160 --> 00:20:00.080
Start instance.

00:20:00.080 --> 00:20:03.600
Сейчас я рекомендую вам остановить видео и самостоятельно

00:20:03.600 --> 00:20:07.880
убедиться, что наши изменения типа инстанца, а также размера

00:20:07.880 --> 00:20:11.560
жесткого диска вступили в силу и сервер при этом

00:20:11.560 --> 00:20:12.560
также доступен.

00:20:12.560 --> 00:20:20.040
Наша веб-страница также работает.

00:20:20.040 --> 00:20:24.120
Отлично, я думаю у вас не возникло проблем с проверкой.

00:20:24.120 --> 00:20:26.000
Мы двигаемся дальше.

00:20:26.000 --> 00:20:29.160
Следующее задание это проверить какие лимиты

00:20:29.160 --> 00:20:32.680
есть у нас в рамках сервиса Amazon и Cetu.

00:20:32.680 --> 00:20:35.680
Для этого в левом навигационном меню нам необходимо выбрать

00:20:35.680 --> 00:20:37.400
вкладку Limits.

00:20:37.400 --> 00:20:40.620
Как только вы перейдете на эту страницу вы увидите

00:20:40.620 --> 00:20:44.520
много красных уведомлений с ошибкой.

00:20:44.520 --> 00:20:47.480
Не обращайте на них внимания, вы можете эти сообщения

00:20:47.480 --> 00:20:48.600
сейчас закрыть.

00:20:48.600 --> 00:20:53.620
Когда вы будете работать в своем личном AWS аккаунте

00:20:53.620 --> 00:20:58.280
либо корпоративном и будете сидеть под пользователем,

00:20:58.280 --> 00:21:01.600
root пользователем, то подобные сообщения отображаться

00:21:01.600 --> 00:21:02.600
не будут.

00:21:02.600 --> 00:21:07.900
Хорошо, мы закроем все эти ошибки и попробуем отфильтровать

00:21:07.900 --> 00:21:13.160
наши лимиты и отобразим Running Instances.

00:21:13.160 --> 00:21:17.840
Вы увидите какое количество инстенсов доступно для

00:21:17.840 --> 00:21:24.360
нас в рамках определенных семейств типов инстенсов.

00:21:24.360 --> 00:21:29.620
Если мы посмотрим на значение Running On Demand All Standard, куда

00:21:29.620 --> 00:21:34.680
в том числе входит семейство T, мы увидим, что для нас

00:21:34.680 --> 00:21:52.320
доступно 32 ядра процессора для запуска в этом регионе.

00:21:52.320 --> 00:21:54.720
Мы добрались до последнего задания в рамках нашей

00:21:54.720 --> 00:21:58.280
лабораторной работы, а именно проверить, как работает

00:21:58.280 --> 00:22:01.880
Termination Protection Instance EC2.

00:22:01.880 --> 00:22:04.720
Для этого необходимо в левое навигационное меню перейти

00:22:04.720 --> 00:22:06.720
на вкладку Instances.

00:22:06.720 --> 00:22:10.880
В списке инстенсов необходимо выбрать наш, который называется

00:22:10.880 --> 00:22:12.420
Web Server.

00:22:12.420 --> 00:22:18.200
Как только мы ее выберем, нам необходимо нажать на

00:22:18.200 --> 00:22:21.480
попадающий список Instance State и попробовать нажать

00:22:21.480 --> 00:22:23.640
на опцию Terminate Instance.

00:22:23.640 --> 00:22:26.920
В зависимости от версии вашей консоли либо у вас

00:22:26.920 --> 00:22:30.520
будет доступна эта кнопка, по нажатию которой вы увидите

00:22:30.520 --> 00:22:36.240
ошибку, либо в моей версии, например, вы увидите, что

00:22:36.240 --> 00:22:39.560
кнопка недоступна и когда вы наводите мышкой на опцию

00:22:39.560 --> 00:22:43.360
Terminate Instance, выходит всплывающая подсказка, которая говорит

00:22:43.360 --> 00:22:45.920
о том, что Terminated Protection у нас включен.

00:22:45.920 --> 00:22:51.880
Отлично, давайте попробуем этот Termination Protection отключить.

00:22:51.880 --> 00:22:55.440
Для этого нам необходимо также в выбранном состоянии

00:22:55.440 --> 00:23:00.320
EC2 Instance нажать на Actions, далее выбрать опцию Instance

00:23:00.320 --> 00:23:06.440
Settings и внутри уже выбрать еще одну опцию Change Termination

00:23:06.440 --> 00:23:07.920
Protection.

00:23:07.920 --> 00:23:10.840
Отобразится всплывающее окно, здесь вы увидите,

00:23:10.840 --> 00:23:13.920
что Termination Protection enabled и поставлена галочка.

00:23:13.920 --> 00:23:17.000
Нам необходимо эту галочку убрать и сохранить эти

00:23:17.000 --> 00:23:18.860
изменения.

00:23:18.860 --> 00:23:21.440
Как только мы нажмем на кнопку Save, мы увидим, что

00:23:21.440 --> 00:23:25.400
для инстансов с таким-то ID-шником Termination Protection был

00:23:25.400 --> 00:23:26.400
отключен.

00:23:26.400 --> 00:23:27.920
Зеленые уведомления.

00:23:27.920 --> 00:23:33.040
Отлично, теперь мы можем попробовать этот инстанс

00:23:33.040 --> 00:23:34.040
отключить.

00:23:34.040 --> 00:23:38.520
Для этого мы также выбираем этот инстанс, далее нажимаем

00:23:38.520 --> 00:23:42.520
на выпадающий список Instance State и мы видим, что Termination

00:23:42.520 --> 00:23:44.480
Instance опция уже для нас доступна.

00:23:44.480 --> 00:23:50.160
Давайте на нее нажмем, подтвердительно ответим на всплывающее

00:23:50.160 --> 00:23:54.040
окно и нажмем на кнопку Terminate.

00:23:54.040 --> 00:23:56.700
Как только мы ее нажмем, мы увидим соответствующее

00:23:56.700 --> 00:24:04.240
сообщение, что инстанс с таким-то ID-шником был отключен,

00:24:04.240 --> 00:24:08.600
но при этом он не отключен, а запущен процесс его отключения.

00:24:08.600 --> 00:24:13.680
Поэтому в столбце Instance State мы видим значение Shutting

00:24:13.680 --> 00:24:16.600
Down, то есть в процессе отключения.

00:24:16.600 --> 00:24:19.200
Давайте подождем какое-то время и обновим список

00:24:19.200 --> 00:24:20.200
инстансов.

00:24:20.200 --> 00:24:25.480
Вы увидите, что наш инстанс Web Server, у него теперь Instance

00:24:25.480 --> 00:24:28.040
State Terminated, то есть он отключен.

00:24:28.040 --> 00:24:31.640
Если мы подождем еще немного и после этого обновим,

00:24:31.640 --> 00:24:36.560
то мы с вами увидим, что этот инстанс и вовсе пропадет

00:24:36.560 --> 00:24:37.560
из общего списка.

00:24:37.560 --> 00:24:42.520
Отлично, мы закончили нашу лабораторную работу, я

00:24:42.520 --> 00:24:44.100
вас поздравляю.

00:24:44.100 --> 00:24:49.160
Давайте теперь правильно отключим и выйдем из всех

00:24:49.160 --> 00:24:50.160
систем.

00:24:50.160 --> 00:24:54.560
Для этого нам необходимо WS Management консоли, вверху

00:24:54.560 --> 00:24:59.480
справа нажать на выпадающий список и в самом низу нажать

00:24:59.480 --> 00:25:00.720
на кнопку Sign Out.

00:25:00.720 --> 00:25:05.520
Это мы делаем для того, чтобы разлагиниться с AWS Management

00:25:05.520 --> 00:25:06.520
консоли.

00:25:06.520 --> 00:25:13.560
Далее, нам необходимо правильно отключить систему внутри

00:25:13.560 --> 00:25:14.560
AWS Academy.

00:25:14.560 --> 00:25:18.360
Для этого на основной странице лабораторной работы нам

00:25:18.360 --> 00:25:21.120
необходимо нажать на кнопку End Lab.

00:25:21.120 --> 00:25:24.160
Как только вы ее нажмете, выйдет сообщение, что действительно

00:25:24.160 --> 00:25:26.640
ли вы хотите остановить лабораторную работу.

00:25:26.640 --> 00:25:30.720
Так как мы все закончили, мы говорим Yes.

00:25:30.720 --> 00:25:33.920
Отобразится всплывающее окно и вы увидите сообщение

00:25:33.920 --> 00:25:38.280
You may close this message box now, lab resources are terminating.

00:25:38.280 --> 00:25:42.840
Это говорит о том, что мы инициировали процесс удаления

00:25:42.840 --> 00:25:47.800
созданного для нас AWS аккаунта и сейчас мы можем закрывать

00:25:47.800 --> 00:25:52.480
это окно, также можем выходить с AWS Academy.

00:25:52.480 --> 00:25:57.600
Отлично, на этом мы с вами заканчиваем разбор лабораторной

00:25:57.600 --> 00:25:58.600
работы.

00:25:58.600 --> 00:26:01.880
Я думаю, вы научились чему-то новому, получили ответы

00:26:01.880 --> 00:26:06.020
на ваши вопросы и мы с вами подробнее познакомились

00:26:06.020 --> 00:26:09.520
с сервисом Amazon EC2.

00:26:09.520 --> 00:26:11.560
Спасибо.

00:26:11.560 --> 00:26:29.640
Далее мы с вами увидимся на следующих наших активностях.