Добрый день, уважаемые студенты! Я рад вас видеть на очередной сессии вопросов и ответов.
Спасибо за ваши вопросы.
Давайте перейдем к ним и попробуем на них ответить.
Вопрос.
Что такое Proxy Server и как оно работает? Отвечаю.
Proxy Server - это общий IT термин, который не привязан к облачным технологиям.
В любом случае, я дам вам ответ простыми словами, чтобы у вас сложилось общее понимание.
Когда вы подключаетесь через браузер к некому веб-сайту, при подключении этот веб-сайт видит ваш IP-адрес в интернете.
Также может получить дополнительную информацию, в том числе информацию по вашей стране нахождения.
В случае, когда мы говорим про Proxy Server, это некое промежуточное звено между пользователями интернета и сайтами.
Таким образом, вы как пользователь интернета вначале подключаетесь к Proxy Server со своим IP-адресом.
Дальше, ваш запрос транслируется в таком же виде уже на конечный веб-сайт, но при этом подключение идет от Proxy Server.
Таким образом, веб-сайт видит не ваш IP-адрес, а IP-адрес Proxy Server.
В том числе и дополнительную информацию: он видит ту страну, где находится этот Proxy Server.
Когда обычно используют Proxy Server? Представим, что вы находитесь в стране А, и вам нужно подключиться к какому-то сайту, но у вас прямого доступа нет, он заблокирован интернет-провайдерами.
Для того, чтобы получить доступ к этому сайту, вам необходимо отправить запрос через Proxy Server.
Таким образом вы подключаетесь к Proxy Server.
Дальше Proxy Server уже подключает ваш запрос от своего имени к веб-сайту.
Там уже будет скорее всего другая страна - страна С.
И в случае, если веб-сайт не заблокировал себе доступ к стране B, так же как и к вашей стране A, то доступ будет предоставлен.
Касательно того, как работает Proxy Server: это тот ресурс в интернете, который принимает ваш запрос, и ваш запрос в том же виде отправляет на конечный ресурс в интернете, т.е.
ничего сложного в нем нет, это обычное перенаправление запросов пользователей.
Вопрос.
Какое количество Amazon EC2 инстансов вы можете запускать в вашем AWS аккаунте? А также есть ли лимиты? Да, лимиты существуют.
Есть hard limits, которые нельзя изменить, есть soft limits, которые можно поднимать.
И те, и другие варианты вы видите в соответствующей вкладке.
Если вы откроете в AWS Management Console сервис Amazon EC2, там в левом навигационном меню будет вкладка Limits.
Мы с вами проделаем это в наших лабораторных работах, там подробнее посмотрите.
Как только вы попадаете в эту вкладку Limits, вы видите все те ограничения, которые есть в рамках сервиса Amazon EC2.
Если есть необходимость или вы на текущий момент используете такое значение ресурсов, либо чего бы ни было близко к Limit, вы всегда можете через Support увеличить эти soft limits.
Вопрос.
Что такое ephemeral volume? Отвечаю, ephemeral volume - это временный жесткий диск.
Он доступен для вас, когда вы используете feature Instance Store сервиса Amazon EC2.
Этот ephemeral volume и есть физический жесткий диск, который находится на том же сервере, а на этом сервере в рамках сервиса Amazon EC2 получаете часть оперативной памяти и количество ядер процессора.
Это первый вариант хранилища, куда устанавливались операционные системы в рамках сервиса Amazon EC2.
Далее через какое-то время вышел новый сервис Amazon EBS, который предоставляет значительное улучшение, является best practice и рекомендуемым вариантом от AWS для ваших Root Volumes.
Root Volumes это тот жесткий диск, на который вы устанавливаете операционную систему.
Чем они отличаются, вы всегда можете посмотреть в наших лекциях, а также дополнительную информацию сможете одним запросом в поисковик выйти на необходимую страницу и подробнее ознакомиться.
Вопрос.
Что обозначает слово Elastic в контексте AWS или облачных технологий? Отвечаю.
Elastic, прямой перевод означает гибкий, в контексте облачных технологий и AWS получает тот же смысл.
Идея в том, что вам предоставляются IT ресурсы гибкими.
Гибкими, значит, вы можете выбирать конфигурацию, а также вы оплачиваете только за то время и тот объем, который вы фактически использовали, то есть pay as you go pricing.
Вопрос.
Что произойдет с метриками Amazon EC2 Instance, если отключить передачу этих данных в CloudWatch? Они будут сохранены или утеряны? Отвечаю.
Если вы не будете передавать в рамках сервиса EC2 метрики в CloudWatch, то этих данных там не окажется, вы не сможете с этими данными работать.
В этом случае у вас есть два варианта, либо не генерировать метрики и не настраивать мониторинг, это очень плохой совет.
Так можно делать только для тестовых либо нагрузок, которые относятся к Dev среде, но на Production среде всегда должна быть настроена с мониторингом, вы должны отслеживать и видеть состояние инстансов.
Другой вариант, если по тем или иным причинам использование сервиса CloudWatch вам не подошло, то вы можете настроить свой мониторинг.
Этот мониторинг будет хранить данные, скорее всего, внутри этого инстанса и вы сможете настроить программу, чтобы эти метрики подтягивались и отображались вам в какой-то другой программе в ПО.
Минус такого подхода в том, что в случае, если что-то произойдет с вашим инстансом, а вы потеряете доступ к этому инстансу, то, соответственно, вы не сможете добраться до данных ваших метрик и не сможете проделать некий troubleshooting, то есть какое-то исследование для того, чтобы понять, где возникла проблема, что явилось причиной.
В случае с CloudWatch ваши данные по метрикам централизованно собираются со всех инстансов и в случае возникновения какой-то проблемы с вашим инстансом, потери доступа, любой проблемы, которая произошла с вашим инстансом, логи не потеряются, они централизованно будут храниться в сервисе CloudWatch и вы можете отфильтровать по необходимому инстансу и посмотреть необходимые для вас метрики.
Использование сервиса CloudWatch является best practice и рекомендуемым подходом для хранения метрик и дальнейшего мониторинга в состоянии ваших инстансов и других сервисов.
Здесь я бы хотел также внести небольшое уточнение.
Сервис CloudWatch может использоваться для хранения как метрик, так и логов.
Логи также у вас могут быть системными и логи вашего application.
Пройдемся более подробно.
Метрики - это когда вы информацию по состоянию показателей вашего инстанса передаете в сервис CloudWatch.
К примеру, как загружен процессор, какое количество оперативной памяти используется, какое количество свободно, какое количество записей на жесткий диск сейчас происходит, какое количество операций на чтение у вас происходит в вашем жестком диске.
Вся эта информация передается в виде метрик и вы можете в виде графиков видеть изменения этих показателей.
Когда мы говорим про логи, логи это выходная информация после запуска тех или иных команд для отработки тех или иных процессов.
Когда мы говорим системные логи, то скорее всего сюда относятся логи, которые генерируют ваш EC2 Instance во время первоначального запуска, когда вы устанавливаете различные обновления, программы и т.д.
Когда мы говорим логи приложения, то есть ваше приложение работает внутри вашего инстанса и генерирует некоторые логи.
Например, поступил запрос на ваш веб-сайт и вы логируете у себя в приложении, что пришел запрос от такого-то IP адреса на такой-то API, например, get users с такими-то параметрами.
В этом случае вот эта запись сохранится в логах приложения.
Эти логи, что системные, что application логи вы также можете хранить в сервисе CloudWatch.
Но в этом случае используется подсервис внутри CloudWatch, есть CloudWatch Logs, а есть CloudWatch metrics.
Вопрос.
Отличается ли оплата за мониторинг CloudWatch в зависимости от типа инстанса? Отвечаю.
Нет, не зависит от типа инстанса.
Если мы говорим CloudWatch metrics, под сервис в рамках CloudWatch, который работает с метриками, этими показателями, то там вы оплачиваете за каждую метрику.
Если мы говорим про CloudWatch Logs, который хранит системные либо логи ваших приложений, то здесь вы оплачиваете за объем ваших логов, то есть за гигабайт оплачиваете определенную сумму.
Более подробнее вы можете посмотреть на странице CloudWatch Pricing.
Вопрос.
Почему AWS приостановил модель оплаты Scheduled Reserved Instances для сервиса Amazon EC2? Отвечаю.
Так как я не являюсь сотрудником AWS, я не владею официальным ответом на этот вопрос.
Мы лишь можем предположить, что затраты на обслуживание и поддержку модели Scheduled Reserved Instances себя не окупили, и в связи с этим эта фича была свернута и более не предоставляется.
Есть очень много примеров внутри AWS, когда либо сервис, либо какая-то фича перестает быть доступной, но взамен в той же новости о прекращении того или иного сервиса также пишется о том, что вышел следующий сервис, который вы можете использовать как альтернативу старому.
В случае со Scheduled Reserved Instances ничего подобного я, к сожалению, не находил, и предполагаю, что в целом эта идея с Scheduled Reserved Instances является не очень удачной и прибыльной для облачного провайдера, поэтому этого варианта нет.
Но при этом я нисколько не разочарован, потому что мы с вами рассмотрели на лекции, что есть более трех различных вариантов моделей оплаты сервиса Amazon EC2.
Более того, есть также подход Serverless, вы можете использовать контейнеры.
Таким образом в зависимости от вашей бизнес-задачи вы всегда можете найти подходящий для вас сервис, связку сервисов, которые предоставят вам максимальную выгоду и позволят компании, бизнесу увеличить свою прибыль.
Вопрос.
Представим такой случай.
Компания приобрела определенный объем Instances EC2 по модели оплаты Reserved Instances, а именно AURI, то есть All Upfront Reserved Instances на 3 года.
То есть на 3 года наперед с учетом скидки оплатила этот объем инстансов.
Далее, через год эта компания обанкротилась и что произойдет с оставшейся частью? Будет ли она пропорционально возвращена? Будет ли какая-либо компенсация от AWS? Отвечаю.
Reserved Instances - это та модель оплаты за сервисы EC2, которая предоставляет Amazon некоторую полезную информацию.
А это та информация, которая означает, что вы как клиент будете год либо 3 года гарантированно использовать некоторую часть инстансов EC2.
С этой информацией AWS может планировать наперед развитие своей глобальной инфраструктуры, а также развитие своих дата-центров.
Amazon не будет компенсировать вам оставшуюся, неиспользованную часть Reserved Instances, а иначе бы сломалась вся идея Reserved Instances.
Поэтому есть один вариант с некоторой долей вероятности компенсировать свои затраты.
Это продать ваши Reserved Instances в AWS Marketplace.
AWS Marketplace - некий виртуальный рынок, где можно продавать или покупать IT-ресурсы.
Там же вы можете продать или купить Reserved Instances.
В случае, если находится покупатель, вы возвращаете ваши расходы.
В случае, если не находится, то с каждым днем у вас будет впустую отрабатывать ваши инстансы.
Таким образом пройдет срок покупки Reserved Instances и какая-то часть ваших вложений уйдет впустую.
Поэтому общая рекомендация, перед тем как вы будете покупать Reserved Instances, необходимо максимально проработать этот вопрос и исключить тот случай, когда часть Reserved Instances перестанет быть нужной.
Эти кейсы максимально нужно исключить.
В тот момент, когда вы будете максимально в этом уверены, покупка Reserved Instances является оправданным и правильным решением.
На этом мы закончили разбор всех вопросов, полученных от вас.
Еще раз спасибо за отправленные вами вопросы.
Ждем новые интересующие вас вопросы.
На этом мы закрываем сессию вопросов и ответов и увидимся с вами на следующих наших активностях.