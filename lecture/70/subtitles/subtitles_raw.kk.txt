Қайырлы күн, құрметті студенттер! Келесі дәрісте барлығыңызды көргеніме қуаныштымын. Бүгінгі дәрістің тақырыбы Compute, яғни бұлтты есептеулер. Бұл тақырып өте маңызды және мен оны сіздермен мүмкіндігінше егжей-тегжейлі талқылағым келеді. Сондықтан біз бұл тақырыпты екі аптаға бөлдік, ал бүгін бізде бірінші бөлім бар. Сонымен, бастайық.
Бүгінгі дәріс үш бөлікке бөлінген. Бірінші бөлімде біз есептеу ресурстарымен қамтамасыз ететін қолданыстағы AWS қызметтері туралы сөйлесеміз. Әрі қарай, екінші және үшінші бөліктер Amazon EC2 немесе AmazonElastic Compute Cloud-қа арналған. Amazon EC2 - бұл AWS емтиханына және болашақ жұмысыңызға дайындалу кезінде түсіну үшін ең негізгі және маңызды болып табылады, өйткені сіз бұлтта IT-инфрақұрылымын құру кезінде осы қызметті пайдалануыңыз мүмкін.
Бірінші бөлім. Қолданыстағы есептеу қызметтеріне шолу. Бұл слайдта сіз бізге есептеу ресурстарымен қамтамасыз ететін қызметтердің негізгі тізімін көресіз және біз аз немесе аз егжей-тегжейлі көрсететін қызметтерді бөлектейсіз, кейбіреулері аз егжей-тегжейлі, біз өз бағытымызды қарастырамыз. Бірінші және ең негізгісі - Amazon EC2, бұл виртуалды машиналар бізге ұсынатын қызмет. Содан кейін Amazon EC2 Auto Scaling бар, бұл біздің Amazon EC2 даналары үшін автосалауды орнатуға көмектесетін қызмет. Келесі үшеуі - Amazon серпімді контейнер тізілімі, содан кейін Amazon серпімді контейнер қызметі, ал үшіншісі - Amazon ECR, Amazon ECS және Amazon EKS үшін қысқартулар. Олар бір-бірінен қалай ерекшеленеді? Бірінші Amazon ECR - бұл Docker суреттеріне немесе суреттерге арналған репозиторий. Әрі қарай, Amazon ECS - бұл Docker суреттерімен жұмыс істеуге көмектесетін қызмет. Келесі дейін бізге Kubernetes жұмыс істеуге мүмкіндік береді Amazon EKS болып табылады. Kubernetes - бұл Docker суреттерін ыңғайлы жетілдірілген оркестрлеу үшін үстіндегі дерексіз бағдарлама, яғни егер сіз Docker қолдансаңыз және қандай да бір сәтте сізде бар осы суреттердің саны Егер сіз өсіп келе жатқан немесе үлкен жұмыс істеуіңіз керек болса, сіз әдетте Kubernetes, яғни K8S қолдануға ауысасыз. Және тағы бір байланысты қызмет - AWS Fargate, сонымен қатар контейнерлермен жұмыс істейтін және басқарылатын қызмет болып табылатын қызмет. Идея, AWS әкімшілік жұмыстың көпшілігіне қамқорлық жасайды, ал біз бұлттағы IT-инфрақұрылымның иелері ретінде контейнерлермен жұмыс істеу үшін негізгі нүктелерді, белгілі бір кірістерді ұсынамыз.
Келесі қызметтер - AWS серпімді Beanstalk және Amazon LightSail. Олар сонымен қатар ұқсас, және мен қызметтерді топтастырылған түрде арнайы ұсынып отырмын, осылайша сіз оны құрылымдалған түрде есте сақтай аласыз. AWS Elastic Beanstalk - бұл сіздің кодты, веб-бағдарлама кодын осы қызметке жүктейсіз және бұл қызмет сіз үшін AWS бұлтындағы инфрақұрылымды көтереді, осылайша әкімшілік жұмыстың көп бөлігін өз мойнына алады. Сонымен қатар Amazon LightSail-ге қатысты, бұл жағдайда біз бұл қолданбаларды немесе веб-сайттарды құруға көмектесетін қызмет деп айтамыз.
Келесі қызмет - AWS Lambda, ол біз бірнеше рет сөйлестік. Енді біз осы дәрістерді толығырақ талқылаймыз. Бұл Serverless Compute Service, идея сіз кодты жазасыз, сол кодты басқару және сақтау тұрғысынан қалғанының бәрі AWS жағында орын алады. Әзірлеушілер үшін тамаша қызмет, өйткені ол инфрақұрылымды басқаруға қатысты барлық нәрсені азайтады.
Сондай-ақ, AWS Batch атап өткім келеді, бұл бізге пакеттік жұмыстарды орындауға көмектесетін қызмет, яғни. үлкен көлемде немесе топтарда кейбір жұмыстар. Мен сондай-ақ айтқым келетін тағы бір қызмет - AWS Outposts, бұл біздің жергілікті инфрақұрылымды AWS интерфейсі арқылы басқаруға мүмкіндік беретін қызмет. Осылайша, біз AWS-пен болғандай өзара әрекеттесеміз, бірақ сорғыштың астында біздің деректер орталығымызда бар есептеу ресурстарын қолданамыз.
Есептеу қызметтерінің белгілі бір бөлігін төрт топқа бөлуге болады. Бірінші топ - IaaS қызметтері, қызмет ретінде инфрақұрылым, біздің жағдайда Amazon EC2. Бұл қызметтегі атомдық қондырғы, яғни біз жұмыс істейтін ресурс - бұл виртуалды машина. Бұл қызмет инфрақұрылым бойынша сервистік модель ретінде ұсынылғандықтан, біз осы виртуалды машиналарға толық бақылау жасаймыз. Біз кез-келген амалдық жүйені, кез-келген қосымшаны орната аламыз. Бізге қажет нәрсе - мұның бәрін жасайтын мамандар. Егер сізде мамандар болса және АТ инфрақұрылымының белгілі бір ерекше талаптары болса, онда Amazon EC2 - бұл біздің таңдауымыз.
Келесі нұсқа - серверсіз ресурстар, AWS Lambda көрнекті өкілі. Біз кодты жазған кезде, біз бұл кодты бұлтқа жүктейміз және осы кодты басқаруға және ұстауға қатысты барлық нәрсе AWS жағында орын алады. Бұл сіздің инфрақұрылымыңызды сақтайтын мамандар тапшылығы болған кезде тамаша таңдау.
Үшінші топ контейнерлерге қосылған қызметтерден тұрады. Кейінірек қандай контейнерлер туралы толығырақ талқылаймыз. Мұнда контейнерлермен жұмыс істейтін төрт қызмет бар. Бұл Amazon ECS, Amazon EKS, Amazon ECR және AWS Fargate.
Төртінші топ - бұл платформада қызмет көрсету моделі ретінде ұсынылатын қызмет, минималды бірлікте, атомдық блокта, бұл жағдайда ресурс бір веб-қосымша болып табылады және қызмет AWS Elastic Beanstalk деп аталады. Идея мынада, біз код жазамыз, осы кодты бұлтқа жүктейміз, содан кейін AWS Elastic Beanstalk қажетті инфрақұрылымды өздігінен орналастырады. Әрине, біз осы инфрақұрылымның кейбір шектеулерін, шарттарын немесе сыйымдылығын белгілейтін қосымша параметрлерді ұсынамыз, бірақ бұл инфрақұрылымды көтеру және қолдау бойынша барлық жұмыстар осы қызмет AWS Elastic Beanstalk арқылы жүзеге асырылады, өйткені ол платформада Сервистік модель ретінде беріледі.
Есептеу ресурстарына қатысты болса да, AWS сіздің бизнесіңіздің қажеттіліктеріне байланысты сіз үшін өте қолайлы болуы мүмкін бірнеше қызмет нұсқаларын ұсынады. Мен мұнда атап өткім келеді жалғыз нүктесі компания дамуының түрлі кезеңдерінде әрқашан болып табылады. Сонымен, алдымен, сіз аз жұмыс жүктемесі бар шағын стартап екеніңізді елестетіп көрейік. Бұл жағдайда AWS Lambda сияқты серверсіз қызметтер сіз үшін өте қолайлы болуы мүмкін. Қызметкерлеріңіз болмаған кезде, сізде мұның бәрімен айналысатын толық уақытты жүйелік әкімші жоқ, сонымен қатар сізде IT-өніміңізде ауыр жүктемелер немесе тұрақты жүктемелер жоқ, бұл жағдайда жеткілікті AWS Lambda пайдаланыңыз Жұмыс жүктемелеріңіз ұлғайған кезде, сіздің қызметкерлеріңіз өседі, содан кейін сізде бірегей АТ бар инфрақұрылымға қойылатын талаптар, сізге бұлттағы өзіңіздің АТ-ресурстарыңызды көбірек бақылау қажет. Бұл жағдайда сіз біртіндеп қызмет көрсетілетін модельдерден, онда сіз аз ғана бөлігін жасайсыз және AWS көп нәрсені жасайды, бұл сізге толық бақылау беретін қызметтерге көшесіз IT-ресурстарға, ең мүмкін жағдай IaaS және біздің жағдайда Amazon EC2.
Біз оны сессияның екінші бөлігіне айналдырдық, енді біз Amazon EC2-ге терең кірісуді бастаймыз. Amazon EC2 Amazon серпімді есептеу бұлты ретінде шифрланады. Бұл бізге виртуалды машиналармен қамтамасыз ететін қызмет. Бұл виртуалды машина жергілікті хостинг провайдерінен тапсырыс беретін немесе жергілікті деректер орталығынан конфигурациялайтын және тапсырыс беретін арнайы серверден өзгеше емес. Жалғыз айырмашылық - бұлтты технологиялар жергілікті орналастырумен салыстырғанда бұлтты технологиялардың барлық артықшылықтарын ұсынады. Атап айтқанда, сіз есептеу қуатының қажетті мөлшерін бірнеше минут ішінде сұрай аласыз, кез келген уақытта сізге бұл есептеу қуаты қажет емес, сіз оны алып тастай аласыз және оны кері қайтара аласыз және сіз пайдаланған даналар мен даналар түрлерінің уақыты мен саны үшін ғана ақы алынады. Жергілікті инфрақұрылыммен және бұлтты инфрақұрылыммен салыстырғанда бірден көре аласыз, бұл Amazon EC2 қолданумен бірдей, біз қазірдің өзінде кейбір артықшылықтарға ие болып отырмыз, біз үшін бұл тиімді болып шығады, өйткені көптеген IT-жобалар, АТ инфрақұрылымына жүктеме динамикалық. Мысалы, егер бұл киім веб-сайты болса, адамдар әдетте демалыс күндері немесе ең жоғары сағаттар деп аталатын сағаттарда сауда жасайды. Бұл уақыт таңғы 9-ға дейін немесе түскі ас, немесе кешкі 6-7 мен 10 аралығында, адамдар жұмыстан босап, дүкенге үлгерген кезде. Бұл жағдайда, сізде жергілікті деректер орталығында серверлер болған кезде, барлық жүктемелерге қызмет көрсету үшін, сіз бір клиентке үнемі бар серверлердің кейбір қорын жоғалтпауға барынша уақыт болуы керек. Бір минут ішінде жаңа серверді жылдам алу жергілікті жерде орналастырылған кезде мүмкін емес тапсырма болып табылады. Серверге тапсырыс беру үшін әдетте бірнеше күн қажет, ал нақты опция бірнеше апта. Сондықтан сізде біраз жеткізілім болуы керек. Тағы бір мәселе - сіз уақытша тапсырыс берген серверлерді пайдалана алмайсыз немесе оларды тез қайтара алмайсыз. Сондықтан, сіз сатып алғаннан кейін, сіз өзіңіздің негізгі шығындарыңызды үлкен мөлшерде жұмсадыңыз. Егер сізде жүктеме болмаса, таңғы 4 сияқты, ешкім сіздің веб-сайтыңызды пайдаланбайды, бұл жағдайда сіздің барлық есептеу қуатыңыз жұмыс істемейді, шын мәнінде сіз ақшаңызды жоғалтасыз. Біз бұлтты қызметтермен жұмыс істегенде, бұл жағдайда біз масштабтауды, автосалауды орната аламыз, біздің инфрақұрылымға жүктемеге байланысты біз Amazon EC2 даналарының қажетті мөлшерін аламыз. Бұл бізге ақша үнемдеуге мүмкіндік береді, өйткені жүктеме аз болған кезде біз серверлердің көпшілігін Amazon-ға қайтарамыз және осы сағаттарға ақы төлемейміз және осы танымал емес сағаттарда клиенттерге қызмет көрсету үшін ең аз мөлшерде даналарды сақтаймыз. Біз ең жоғары деңгейде болған кезде, сіздің сайтыңызға көптеген адамдар кірген кезде, бұл жағдайда бұлтты провайдерден қажетті даналар саны сұралады және кезінде Ол бірнеше минутқа қол жетімді және оған трафик жіберілуі мүмкін. Бәрі автоматты түрде болады, өйткені бұл бұлттағы тірі организм. Бұл мүмкіндік береді, тіпті егер сіз кенеттен жұмыс жүктемесінің он есе ұлғаюы болса да, сізге келген барлық жаңа пайдаланушылар сәтті қызмет етеді, өйткені сіз тек 10 есе көп даналарды сұрайсыз. Әрине, сіз бірдеңе табасыз, бұл сіз үшін өте тиімді болады, ал ең жоғары сағаттар аяқталған кезде сіз бұл жағдайларды қайтарасыз және сіздің инфрақұрылымыңыз бос тұрған жағдайлар болмайды. Amazon EC2 даналарын пайдалану мысалдары жергілікті серверде орналастыруға болатын барлық мысалдарды қамтиды, мысалы, қолданбаға, веб-сайтқа, дерекқорға қызмет ететін сервер, мүмкін ойын сервері желі арқылы ойынға қызмет ететін, содан кейін ол пошта сервері, медиа сервер болуы мүмкін, суреттерді таратқан кезде, ол болуы мүмкін аудио немесе бейне материалдар, ағын, мысалы, кейбір бейне. Және тағы бір нұсқа - файлдық сервер, ол жерде файлдарды жүктеген кезде және Dropbox сияқты жүктеуге және олармен жұмыс істеуге мүмкіндік берсе, ол прокси-сервердің қандай да бір түрі болуы мүмкін және жергілікті серверге қолданылатын барлық мысалдар, яғни. жергілікті деректер орталығында орналастырылған сервер, олар да қолданылады Бұлттағы Amazon EC2 даналары. Қысқаша айтқанда, біз Amazon EC2 - бұл бізге виртуалды машиналармен қамтамасыз ететін қызмет, бұл виртуалды машиналар Amazon EC2 даналары деп аталады. EC2 серпімді есептеу бұлты ретінде шифрланады.
Сондай-ақ, Amazon EC2 барлық танымал Windows және Linux операциялық жүйелерін, атап айтқанда Windows 8, 12, 16, 19, Red Hat, SUSE, Ubuntu қолдайды және Amazon Linux арқылы құрылған, сақталған және үздіксіз жетілдірілген Amazon Linux, бар екенін атап өткім келеді Amazon Linux деп аталады. Қазіргі уақытта екі нұсқасы бар, яғни Amazon Linux нұсқасы 1 және Amazon Linux нұсқасы 2. Келесі нұсқаға жаңартуды ұсынамыз, өйткені сіз алдыңғы нұсқаға қарағанда бірдей бағаға одан да көп мүмкіндіктер мен артықшылықтар аласыз. Тұтастай алғанда, Amazon операциялық жүйесін пайдалану ұсынылады, өйткені ол AWS-пен мүмкіндігінше біріктірілген және шыққан барлық жаңа өнімдер тек операциялық жүйе үшін босатылуы мүмкін немесе барлық операциялық жүйелер үшін жаңарту болса, ол алдымен Amazon Linux ішінде пайда болады.
Amazon EC2 данасын құру процесін өтейік. Ол 9 түрлі қадамнан тұрады. Ең бірінші - AMI таңдау. AMI - Amazon Machine Instance, немесе қарапайым тілмен айтқанда, бұл сурет немесе Amazon EC2 данасы үлгісі. Бұл үлгі амалдық жүйені, барлық мүмкін параметрлерді, орнатылған қолданбаларды және осы Amazon EC2 данасымен жасай алатын барлық нәрсені қамтиды. Бұл Amazon EC2 данасын барлық қажетті параметрлермен белгілі бір күйде мұздатып жатқан сияқтысыз және сіз бұл күйді жаңа Amazon EC2 данасына қолдана аласыз. Осылайша, сіз өз уақытыңызды үнемдейсіз, адам қатесін жоясыз және жасалған барлық жаңа даналар әр Amazon EC2 данасы үшін барлық осы параметрлерді нөлмен жасау керек еді.
АМИ-дің үш көзі бар. Біріншісі - мұны өзіңіз жасаңыз, ал екіншісі - AWS Marketplace. Бұл жерде компания өз атынан нақты параметрлері бар AMI-ді дайындайды және сіз сол жерде осы AMI-ді сатып ала аласыз. Үшінші нұсқа - Қауымдастық AMI, әлемнің түкпір-түкпірінен келген сарапшылар өздігінен жасалған AMI-ді дайындап, оларды көпшілікке тегін жариялайтын орын. AWS осы AMI-дің мазмұнын қарап шықпағандықтан, AMI-ді Қоғамдастық АМИ-мен пайдалану сіздің жеке тәуекеліңізге байланысты.
Мен өз тарапымнан AMI-ді Community AMI-мен пайдалануды ұсынбаймын, кейбір жағдайларда AWS Marketplace-тен AMI сатып алсаңыз, ақталады, бірақ ең жақсы нұсқа - АМИ-ді өз бетіңізше дайындау.
Мұнда сіз диаграммада жаңа AMI құру процесін көре аласыз, яғни. бар виртуалды машинаның күйін импорттай аласыз немесе нөлден бастауға болады. Келесі қадам - өзгертілмеген дананы алу, содан кейін сіз барлық қажетті түзетулерді, жаңартуларды, қолданба жаңартуларын, қауіпсіздік патчтарын және басқаларын жасайсыз және сіз өзгертілгенді аласыз Жаңа AMI сияқты күйде сақтайтын данасы. AMI белгілі бір аймақта жасалғанын есте сақтаңыз, егер сіздің инфрақұрылымыңыз бірнеше аймақтарда орналастырылған болса, сіз басқа аймақта қол жетімді болу үшін АМИ-ді бір аймақтан екіншісіне көшіруіңіз керек. Оның идентификаторы әр түрлі болады, бірақ мазмұны бірдей болады.
Келесі қадам - дананың түрін таңдау. біз данасы түрі туралы сөйлескен кезде, біз осы виртуалды сервердің қуатын білдіреді. Қуат RAM мөлшерімен, процессор ядросының санымен, қатты дискілердің қосылымы және осы қатты дискілердің мөлшері туралы ақпарат, сондай-ақ желі арқылы беру арнасы туралы ақпарат анықталады. Бұл слайд сервер өлшемінің өзгеруіне байланысты сервер сипаттамалары туралы ақпарат береді. AWS ішіндегі ең кішкентай өлшем - нано, содан кейін микро, кішкентай және т.б., сонымен қатар префикстің қалай жүретінін, әріптерді, әріптерді, біздің жағдайда T және 3 санын көре аласыз. Хат - бұл даналар отбасы, ал сан - ұрпақ. Біз келесі слайдта отбасы туралы көбірек сөйлесеміз. Ұрпақ туралы айтатын болсақ, бұл жыл сайын артып келе жатқан сан; қазіргі уақытта соңғы ұрпақтар 5 және 6.
Кестедегі өлшемдер туралы сөйлескен кезде, сіз дананың мөлшері көбейген сайын, процессор ядроларының саны мен қошқардың мөлшері логикалық түрде артады. Мұнда Сіз қолданыстағы данасы түрі отбасылар туралы ақпаратты көре аласыз. Сіз әрбір әріпті жаттап қажеті жоқ, ғана ықтимал нақты AWS емтиханда келуі мүмкін ең негізгі адамдарды есте.
Жалпы Пурпрос жалпы мақсаттағы отбасы туралы сөйлескен кезде, қара - а, м және т отбасы. Есіңізде болсын t Келесі келеді Compute оңтайландырылған, яғни бірдей өлшем үшін, мысалы, үлкен, ретінде Есептеу оңтайландырылған данасы жалпы мақсаттағы отбасының үлкен данасына қарағанда процессордың ядролары көп болады, яғни. кейбір t3 үлкен және c3 үлкен. Мұнда бұл отбасы екенін есте сақтау қажет.
Әрі қарай - r және x болып табылатын жад оңтайландырылған, сонымен қатар z бар, бірақ көбінесе ең танымал - r отбасы. Мұнда, жалпы мақсатпен салыстырғанда, мысалы, t3 үлкен және бірдей r3 үлкен, бұл жағдайда r3 үлкен бірдей t3 үлкені сияқты кем дегенде екі есе көп RAM болады, ал процессор ядросының саны бірдей болады.
Сіздің бизнес тапсырмаңызға байланысты төмендегілер сирек қолданылады, бар Жеделдетілген есептеу, кейбір машиналық оқыту модельдерін үйреткен кезде жасанды интеллект осы бағытта. Сондай-ақ, таратылған файлдық жүйелерді орналастыруға мүмкіндік беретін үлгі түрлері бар, яғни таратылған файлдық жүйелер, Hadoop және т.б. бұл жағдайда d, h және i отбасы бар.
Мен сізге осы бейнені тоқтатып, Amazon EC2 компаниясының Баға бетіне баруды ұсынамын. Онда сіз қазіргі уақытта қандай типтегі отбасылардың бар екенін, қандай өлшемдер бар екенін, қанша тұрады, сонымен қатар қанша RAM, процессор ядролары қамтамасыз етілгенін және сақтау және желілік мүмкіндіктері қандай екенін көресіз, сіз бірнеше түрлі отбасыларды салыстыра аласыз толық сурет.
біз желілік мүмкіндіктерін қарастыру кезде, желі туралы әңгіме болғанда. Егер сіздің инфрақұрылымыңызда деректердің аз мөлшері болса, ол Amazon EC2 даналары арасында немесе Amazon EC2 даналары мен дерекқор арасында болсын, бұл желідегі маңызды ақпарат емес, ол сізге беріледі. Егер сіз ақпараттың көп мөлшерімен жұмыс жасасаңыз, деректер желі арқылы тасымалданады, бұл жағдайда бұл сіз үшін өте маңызды болуы мүмкін, сондықтан бұған назар аударыңыз. Сондай-ақ, желі үшін оңтайландырылған сатыдағы түрлердің арнайы арнайы отбасылары бар екенін атап өткен жөн, яғни. оларда RAM немесе процессор ядролары болмауы мүмкін, бірақ ол басқа отбасыларға қарағанда желі арқылы деректерді беру үшін үлкен арнаны ұсынады.
Келесі қадам, үшінші, Желілік параметрлер, онда біз Amazon EC2 данасы орналасатын барлық ақпаратты көрсетеміз. Атап айтқанда, біз жаңа Amazon EC2 данасы қай VPC, қол жетімділік аймағы және ішкі желі орналасатынын көрсетеміз. Мен мұнда аймақ туралы айтпаймын, өйткені сіз Instance немесе Launch Instance түймесін баспас бұрын, сіз таңдаған аймақты таңдауыңыз керек, өйткені Launch Wizard ішінде сіз аймақты өзгерте алмайсыз. Бұл қарастыру нүктесі болып табылады. Егер сіз осы бағдарламаны істеп жатсаңыз, онда сіз аймақтардың ешқайсысын көрсетпесеңіз, команда жұмыс істемейді. Қарастыратын тағы бір нәрсе - әдепкі VPC-де жасалған барлық даналар жалпыға ортақ IP мекенжайын алады. Сіз және мен екеуіміз де бұл динамикалық IP мекенжайы екенін есіме түсіреміз, бірақ бұл мекен-жай сіздің данаңызды Интернеттен қол жетімді ете алады. Егер әдепкі емес VPC деп айтсақ, жалпыға ортақ IP мекенжайларын шығаруға арналған құсбелгі алынып тасталады және жалпы IP мекенжайлары шығарылмайды. Егер сізге жалпы IP мекенжайын беру қажет болса, оны VPC немесе ішкі желі құру параметрлерінде нақты көрсетуіңіз керек.
Келесі төртінші қадам - IAM рөлін Amazon EC2 данасына байланыстыру және бұл қадам міндетті емес. Оның идеясы - сіздің данаңызда басқа AWS қызметтерін қолданатын және қол жеткізетін кейбір код, логика бар деп елестетіп көрейік. Бұл жағдайда оған тиісті қатынас пен құқықтар берілуі керек. AWS IAM рөлін жасау арқылы мұны істеудің ыңғайлы және қауіпсіз әдісін ұсынады, содан кейін осы рөлмен дананың профилін жасайды. Мұның бәрін AWS басқару консолі арқылы жасаған кезде, IAM рөлін данаға байланыстырған кезде, IAM рөліңізбен бірдей атаумен дананың профилі сіз үшін мөлдір түрде жасалады.
Шын мәнінде, дананың профилі - бұл рөлді қамтитын контейнер және басқа AWS қызметтеріне қол жеткізу үшін дананың профилін данаға байланыстыра аласыз. Егер сіз рөл жасасаңыз және дананы Amazon EC2-ге бағдарламалы түрде байланыстыруға тырыссаңыз, дананың профилін де жасауыңыз керек екенін ұмытпаңыз. Слайд біздің рөліміз болған кездегі мысалды суреттейді. Рөл Amazon S3 шелегіне қол жеткізуді қамтамасыз етеді және біз бұл рөлді дананың профилі арқылы данаға байланыстырған кезде, данасы, дәлірек айтқанда, данада жұмыс істейтін код пайда болады Amazon S3 шелектеріне кіру мүмкіндігі және қандай да бір түрде сол жерде орналасқан деректермен өзара әрекеттесу мүмкіндігі. Сол сияқты, кез-келген басқа AWS қызметіне данаға құқық беру процесі өтеді.
Бесінші қадам - Пайдаланушы деректерінің сценарийі және бұл қадам міндетті емес. Идея, сіз өзіңіздің данаңызды жасаған кезде сіз командалар жиынтығын бере аласыз және бұл командалар сіздің данаңызды бірінші рет іске қосқан кезде іске қосылады. Сіз көбінесе данасы жасалғаннан кейін ғана орындалатын командалардың тізімін бересіз. Мүмкін олар қолданыстағы қолданбаларды жаңартатын командалар шығар, мүмкін олар сіздің данаңыздың метадеректеріне байланған командалар шығар. Мысал ретінде метадеректер, жеке IP мекенжайы, жалпы IP мекенжайы және басқа ақпарат бар деп айтуға болады.
Мұнда сіз неге пайдаланушы деректерін пайдалануымыз керек, егер біз барлық қажетті бағдарламаларды алдын-ала орнататын дайын AMI болса, біз барлық қажетті бағдарламаларды алдын-ала орнатамыз, қажетті командаларды іске қосамыз және бәрі дайын болады. Ия, бұл мүлдем дұрыс ойлау тәсілі, және бұл сіз не істеуіңіз керек, яғни. AMI үлгісінде орап, сақтауға болатын кез келген нәрсе жасалуы керек. AMI ішіне бір себептермен немесе басқа себептермен қоюға болмайтын кез-келген нәрсе, сіз жасай аласыз Пайдаланушы деректері.
Пайдаланушы деректері тек Linux операциялық жүйелері үшін ғана емес, сонымен қатар Windows үшін де қол жетімді. Есіңізде болсын, Windows жүйесінде іске қосылған кезде пәрмен жиынтығы Windows Command Prompt, яғни CMD немесе Windows PowerShell бағдарламасымен үйлесімді болуы керек. Тағы бір маңызды мәселе - Windows болсын, Linux амалдық жүйесі болсын, сіз іске қосатын барлық пәрмендер әкімші құқығымен немесе пайдаланушының тамырымен орындалады.
Келесі қадам - алтыншы қадам, Сақтауды көрсетіңіз, яғни. біз қатты дискілер туралы ақпарат береміз Мұнда. Мұнда біз негізгі қатты дискіні көрсетеміз, яғни. операциялық жүйені орнататын түбірлік көлем. Сондай-ақ, біз деректерді сақтайтын қосымша қатты дискілерді көрсете аламыз. Егер сіз қатты дискілерді AMI ішіне теңшеген болсаңыз, бұл қадам өткізіп жіберіледі. Қатты дискілер туралы сөйлескенде, біз үш нәрсе туралы айтып отырмыз: біріншісі - оның өлшемі, келесісі - түрі, ал үшіншісі - осы қатты дискілерге арналған шифрлау туралы ақпарат.
Amazon EC2 данасы үшін сақтау туралы сөйлескен кезде, біз төрт ықтимал нұсқаны атап өтеміз: алғашқы екеуі - Amazon Elastic Block Store немесе Amazon EBS және Amazon EC2 Instance Store. Бұл Amazon EC2 ерекшелігі. Бұл опциялардың екеуі де блокты сақтау болып табылады, сондықтан бірінші және екінші опциялар амалдық жүйені орнатуға және сәйкесінше біздің виртуалды серверді толығымен іске қосуға жарамды. Бірнеше айырмашылықтар бар, ұзақ уақыт бұрын, Amazon EBS болмаған кезде, тек Amazon EC2 Instance Store опциясы қолданылған. Бұл деректер орталығында физикалық байланған қатты дискілер, дәлірек біздің жедел жадқа және біздің процессорға қосылған, яғни. олар бір блок, бір сервер. Осылайша, бірдеңе дұрыс болмаса, бұзылады, бұзылады және сіздің данаңыз автоматты түрде ауыстырылады, сол дананың қатты дискілеріндегі барлық нәрсе сізге қол жетімсіз болады. Осы қолайсыздыққа байланысты балама құрылды: Amazon серпімді блок дүкені. Идея мынада, қатты дискілер енді даналарға байланбайды, яғни. есептеу қуаты және жалғыз тұрған нәрсе. Осылайша, сіз ресурстарды жасау үшін Amazon EBS пайдаланасыз, яғни. қатты дискілер, Сіз өзіңіздің данаңызға сілтеме жасайсыз. Егер процессормен немесе жалпы қошқармен бұзылса, осы данамен физикалық түрде, сіз оған тиесілі емес қатты дискілерді қоса аласыз, яғни оны басқа данамен байланыстыра аласыз және бәрі жұмыс істейді, сіз ешқандай деректерді жоғалтпайсыз. Бұл Amazon EBS әр түрлі етеді қандай Amazon EC2 Instance Store.
Сондықтан ең жақсы тәжірибе ретінде жалпы ұсыныс Amazon EBS-ті мүмкіндігінше пайдалану болып табылады. Кейбір жағдайларда Amazon EC2 Instance Store пайдалану ақталған; бәрі сіздің бизнес мақсатыңызға байланысты және сіз оны егжей-тегжейлі қарастыруыңыз керек.
Келесі нұсқа - Amazon серпімді файлдық жүйесі. Тағы да, бұл файлдық жүйе, блокты сақтау. Жалғыз айырмашылық - сіз оған амалдық жүйені орната алмайсыз, бірақ ол әр түрлі және бірнеше Amazon EC2 даналары үшін қол жетімді және кейбір ортақ қатты диск болып табылатын оқшау қатты диск қажет болған кезде қолданылады. Тағы да, сіздің бизнес мақсатыңызға байланысты сізге кейбір деректерді бір жерде сақтау қажет болуы мүмкін, сондықтан сіздің даналарыңыз сол жерге жетіп, сол деректермен бірге жұмыс істей алады.
Бірнеше даналармен бірлесіп жұмыс істеудің тағы бір нұсқасы - Amazon S3 немесе Amazon қарапайым сақтау қызметі, біз бұрыннан таныс қызмет. Бұл қызмет блокты сақтауды қамтамасыз етпейді, бірақ нысанды сақтау. Нысандармен жұмыс істегенде, біз Amazon S3-ді бірдей деректерге қол жеткізу және жұмыс істеу үшін бірнеше даналармен жұмыс істеу үшін қолдана аламыз.
Мұнда түбірлік көлемі ретінде Amazon EBS пайдаланады данасы жақсы мысал ғой, және біздің Ephemeral көлемінің түбірлік көлемі ретінде пайдаланады екінші данасы, яғни. данасы дүкен. Осы екі нұсқаның арасындағы айырмашылықты немесе ұқсастықты қарастырайық, бұл данада болатын әрекетке немесе жағдайға байланысты. Біріншісі - қайта жүктеу; біз дананы қайта жүктеген кезде, екі нұсқа үшін де деректерді сақтаймыз және ештеңе жоғалмайды. Тоқтату туралы айтатын болсақ, яғни дананы тоқтату, біз Amazon EBS-пен жұмыс істейтін дананы тоқтата аламыз, тоқтатылған дананы төлемейміз, тек Amazon EBS-те орналасқан деректеріміз үшін төлейміз және біз төлемейміз Amazon EC2, бұл әлдеқайда қымбат. Егер біздің кейбір серверлеріміз жұмыс істемей тұрса және ақшаны жоғалтпау үшін оларды тоқтата тұру немесе тоқтату оңайырақ болса, бұл пайдалы болуы мүмкін. Біз даналық дүкен туралы айтқан кезде, дананы тоқтату мүмкіндігі қол жетімді емес; сіз оны тоқтата алмайсыз. Осылайша, қайта жүктеу мүмкіндігі бар, немесе үшінші нұсқа - тоқтату, яғни. серверді жою. біз Amazon EBS қатты дискілерді бар данасын тоқтатқан кезде, данасы деп аталады, және қатты дискілер бізге қол жетімді қалады. Жою кезінде біз құсбелгісі бар белгілі бір опцияның бар-жоғын көрсете аламыз, егер біз осы құсбелгіні қойсақ, қатты дискілер Amazon EC2 данасымен бірге жойылады немесе біз оны таңдамауымыз мүмкін құсбелгі және біздің қатты дискілер сақталады. Ал содан кейін біз басқа түріне, басқа данасына осы қатты дискілерді байланыстыруға болады, және онда болды барлық деректер, олар сол күйінде сол нысанда қол жетімді қалады.
Amazon EC2 Instance Store дүкенімен жұмыс істейтін дананы тоқтатқан кезде, эфемералды көлемдегі деректер толығымен жойылады, соның ішінде операциялық жүйе. Сондықтан, қалпына келтіре алмайтын кейбір деректерді немесе маңызды деректерді Amazon EC2 Instance Store дүкенінде сақтау ұсынылмайды. Онда сіз кэштеу үшін кейбір деректерді немесе уақытша немесе кез-келген уақытта қалпына келтіруге болатын басқа деректерді сақтай аласыз.
Келесі қадам - тегтерді қосу мүмкіндігі. Мұнда тегтер кез-келген ресурсқа, кез-келген AWS қызметіне қол жетімді функция екенін атап өткім келеді, сондықтан ол Amazon EC2 даналарына тән емес. Тегтер дегеніміз не? Тегтер - бұл жұптар, кілттер және мәндер жиынтығы. Міне, кілттердің бірнеше мысалдары. Ең танымал аты болып табылады және мәнді толтырған кезде, бұл мән көбінесе сол ресурс идентификаторымен бірге AWS басқару консолі ішінде көрсетіледі. Көп жағдайда бұл ресурсты анықтауға көмектеседі. Басқа негізгі опциялар - қоршаған орта, яғни қоршаған орта. Бұл әзірлеушілер үшін сынақ ортасы немесе жауынгерлік орта болуы мүмкін. Тиісінше, кілт ортасының кілті мән өрісінің ішіндегі мәндерге ие болады, не dev, test, немесе prod немесе кез келген басқа. Тег кілтінің тағы бір нұсқасы - иесі, яғни иесі. Бұл мәнді белгілі бір адам, маман немесе сіздің компанияңыздағы белгілі бір басқару бөлімі көрсете алады. Тегтер идеясы - бұл ресурсты бірегей түрде анықтау және егер бірдеңе болса, жауап алу, егер сіз жауап алмасаңыз, онда кем дегенде сізге дұрыс адамдарды, дұрыс адамдар тобын, дұрыс бөлімді, жауапты ұйымыңыздың құрылымын табуға көмектесетін кейбір ақпаратты алыңыз Бұл ресурс. Мұндай сұрақтар қоюдың немесе адамдарды іздеудің себептері әр түрлі болуы мүмкін. Мүмкін, бұл ресурс ұзақ уақыт бойы жұмыс істеп, ай сайын көп ақша жұмсайды, мысалы, ол Amazon EC2 данасына мың доллар тұрады, ол үлкен. AWS ішіндегі шығындарды оңтайландыратын адамдар осы ресурсты тапты және қазірдің өзінде ол иіру неге жауап келеді, жұмыс істемейді, қажет емес, қажет емес және т.б. тағы бір нұсқа кейбір қызметтер бар екенін осы сияқты болуы мүмкін, әрине, бізде әр түрлі ресурстар жиынтығы бар және бір нәрсе бар қате кетті, бірдеңе бұзылды, оны ешкім қалпына келтіре алмайды, байланысу үшін маман таба алмайды. Және бұл жағдайда тегтер бізге сұрақ қою керектігін түсінуге көмектеседі, біреуге бұл қызметке мұқтаж ма, жоқ па, оны қалпына келтіру керек пе, жоқ па, оны қалпына келтіру керек немесе жоғалтпау керек, өйткені маман жұмсаған уақыт компания үшін де ақша.
Барлық тегтер кілт және құндылық болып табылады, олар жағдайға сезімтал, яғни олар жағдайға сезімтал. Қарапайым сөзбен айтқанда, сіз бас әріппен, бас әріппен және сол атау кілтімен, тек бас әріптермен, кіші әріптермен бірге Атау кілтін жасай аласыз. Бұл жағдайда ешқандай қате болмайды, өйткені жүйе бұл кілттерді бөлек кілттер ретінде қабылдайды.
Сегізінші қадам - қауіпсіздік тобын теңшеу. Біз бір немесе бірнеше қауіпсіздік топтарын біздің мысалымызға байланыстыра аламыз. Біз бұған дейін қауіпсіздік тобының не екенін талқыладық. Қысқаша айтқанда, бұл біздің данаға трафикті сүзетін виртуалды брандмауэр. Біз қауіпсіздік тобында ережелер жиынтығын көрсетеміз, яғни. кіріс немесе шығыс трафикке рұқсат беретін ережелер. Сіз слайдта SSH арқылы қол жетімділікті қамтамасыз ету мысалын көре аласыз, яғни бұл TCP протоколы, 22-порт, және сіз Source көзі ретінде Менің IP-ді таңдайсыз. Оны таңдаған кезде ағымдағы мекен-жайыңыз көшіріліп, тиісті өріске қойылады. Осыдан кейін сіз белгілі бір қауіпсіздік тобы бекітілген барлық даналарға қосылу үшін SSH аласыз. Сіздің данаңызға сәтті қосылу үшін сізге тиісті SSH кілттері қажет.
Amazon EC2 данасын құрудың соңғы қадамы - жаңа кілт жұбын таңдау немесе жасау. Кілт жұбы - ашық кілт пен жеке кілттің тіркесімі, яғни ашық кілт пен жеке кілт. Ашық кілт сіздің Amazon EC2 данаңыздың ішінде сақталады және сіз жергілікті сақтау үшін жеке кілтті жүктейсіз. SSH арқылы қосылғанда, сіз жеке кілтіңізді бересіз, содан кейін жеке кілтіңіз шынымен Amazon EC2 данасында сақталған ашық кілтке жататынын тексеру үшін криптографиялық операция орын алады Егер бәрі сәйкес келсе, сізге SSH қатынасы беріледі.
Мұнда Amazon EC2 болып табылатын AWS есептік жазбаңыздағы даналар тізімінің мысалын көруге болады. Сол жақ шарлау мәзірі даналар қойындысын ашады, ал негізгі бет барлық даналарды тізімдейді. Біз белгілі бір дананы сүзіп, оны таңдағанымызды көреміз. Беттің төменгі жағында Сипаттама, Күйді тексеру, Мониторинг тегтері және кез-келген басқа қойынды сияқты бірнеше қойындыларды көресіз. Бұл қойындылар таңдалған нақты данасы туралы ақпарат береді.
Сондай-ақ, біз сіздермен даналар жасай аламыз немесе AWS бұлтында кез-келген басқа әрекеттерді бағдарламалық түрде жасай аламыз. Осы мақсатта AWS CLI немесе пәрмен жолы интерфейсі бар, ал екінші нұсқа - AWS бағдарламалық жасақтамасын әзірлеу жиынтығы немесе SDK. Мұнда Amazon EC2 данасын жасайтын AWS CLI командасының мысалы келтірілген. Назар аударыңыз, ол бірнеше бөліктен тұрады. Ең бірінші нәрсе - AWS, біз AWS CLI-ге қол жеткіземіз дейді. Содан кейін қызмет Amazon EC2 деп аталады және Amazon EC2 ішінде біз қандай операцияны орындағымыз келетінін көрсетеміз. Біздің жағдайда, бұл іске қосу даналары операция болып табылады. Осыдан кейін, сол жолда біз осы операцияға қатысты параметрлерді көрсетеміз. Мұнда біз сурет идентификаторы, яғни біздің AMI көрсетілгенін көре аламыз. Әрі қарай, даналардың санын және даналардың түрін көрсетіңіз. Кілт атауы - SSH ашық кілтінің атауы, қауіпсіздік тобы және біздің даналарымыз жасалатын AWS аймағы туралы ақпарат. Бойда біз осы пәрменді іске ретінде, біз жауап алуға. Жауап сәтті болуы мүмкін немесе мүмкін болмауы мүмкін. Қате пайда болған жағдайда қате коды туралы ақпарат, сондай-ақ мәтіндік форматтағы қате туралы ақпарат беріледі, бұл сізге дұрыс емес нәрсе туралы түсінік береді. Егер біз сәтті жауап алсақ, ол кем дегенде Amazon EC2 данасының идентификаторын және осы операция үшін бар және қол жетімді басқа ақпаратты қамтиды.
Бұл слайд кез-келген Amazon EC2 данасының өмірлік циклі туралы ақпарат береді. Квадрат пішіндері дананың күйін көрсетеді, ал көрсеткілердің атауы - біз қабылдаған әрекет. Басында бастайық. Бізде AMI бар. біз данасын іске кезде, данасы күтудегі AMI барады. Күту күйі AMI деректер орталығының ішіндегі аппараттық құралға орнатылғанын білдіреді. Барлық параметрлер орындалғаннан кейін және данасы ұрысқа дайын болғаннан кейін, яғни ол трафикті қабылдай бастайды, сіз SSH арқылы қосыла аласыз және ол әдетте пайдалану үшін қол жетімді, ол күтудегі күйден жұмыс күйіне өтеді. Операциялық жүйе, яғни Amazon EC2 данасының түбірлік көлемі, Amazon EBS болуы мүмкін екенін есте сақтаймыз, резервтік, яғни. қатты дискілер Amazon EBS ішінде жасалған немесе Amazon EC2 опциондық данасы дүкені деректер орталығының ішіндегі аппараттық құралға тікелей байланған қатты дискілермен жұмыс істеген кезде. Екі нұсқа үшін де бізде қайта жүктеу опциясы бар, яғни серверді қайта жүктеңіз, бұл жағдайда сервер қайта жүктеледі және екі жағдайда да бар деректер сақталады. Енді, біз Amazon EBS қатты дискілерімен жұмыс істеген кезде, бізде біздің дананы тоқтату мүмкіндігі бар, ол жұмыс істеп тұрған күйден, тоқтау әрекетін бастағаннан кейін, тоқтау күйі арқылы тоқтаған күйге ауысады. Тоқтатылған кезде біз инстанцияларға ақы төлемейміз, ол ұйықтайды және біз тек Amazon EBS үшін төлейміз. Мұнда мен төлемнің негізгі бөлігі қатты дискілерге емес, даналарға арналғанын еске саламын, сондықтан дананы тоқтату бізге ақшаны үнемдейді. Біздің данамызды қайтадан бастау керек сәт, біз оны тоқтаған күйден іске қоса аламыз, ол күтудегі күйге өтеді және жұмыс істеп тұрған күйге оралады, яғни. ол ұрысқа дайын. Содан кейін біз тоқтата аламыз, яғни. ресурстарды жойып немесе босатып, жабдықты босатып, енді төлемейміз. Осылайша, жұмыс істеп тұрған күйден тоқтатылған күйге көшу, аралық өшіру күйі бар. Бойда біздің сервер тоқтатылған ретінде, біз біраз уақыт біздің тоқтатты данасы тізімін бар, яғни өшірілген данасы көрсетіледі және мәртебесі тоқтатылады. Осы дананы жою және шығару толығымен аяқталғаннан кейін, данасы тізімнен толығымен жойылады.
Біз Amazon EC2 данасының өмірлік циклі туралы көбірек айттық. Сондай-ақ, EC2 данасының күйіне байланысты жалпы IP мекенжайларымен жұмыс істеудің кейбір нюанстары бар. Бізде жалпыға ортақ мекен-жайдың екі нұсқасы бар: біздің даналарымызға уақытша берілетін жалпы IP мекенжайы және бұл даналар онлайн режимінде қол жетімді. Екінші нұсқа - статикалық IP мекенжайы опциясы, яғни. серпімді IP мекенжайы қызметі арқылы тұрақты IP мекенжайы, егер сізге осы опция қажет болса, оны бөлек тапсырыс беруге болады. Сонымен, жалпыға ортақ IP мекенжайы туралы сөйлескен кезде, жалпыға ортақ IP мекенжайы - бұл бассейн, яғни. тіркелгіңізге арнайы байланыстырылмаған IP мекенжайларының белгілі бір жиынтығы, бұл Amazon үшін қол жетімді IP мекенжайларының жалпы жиынтығы. IP мекенжайының қаншалықты бос емес екеніне байланысты сізге даналарыңызды уақытша пайдалану үшін белгілі бір мән беріледі. Міне, маңызды мәселе, біз дананы тоқтатып, жаңа дананы жасаған кезде, біз кездейсоқ жалпыға ортақ IP мекенжайын алатынымыз анық және біз оның мәніне ешқандай әсер етпейміз. Біз дананы тоқтатқан кезде, Amazon EC2 оны басқа AWS есептік жазбасындағы данаға тағайындай алатындай етіп, жалпыға ортақ IP мекенжайы AWS-ке қайтарылғанын есте ұстауыңыз керек. Сондықтан, мұны есте сақтаңыз және біздің сервер тоқтап, қайтадан іске қосылғанда, іске қосу кезінде қол жетімді жаңа жалпы IP мекенжайы берілетінін біліңіз.
Егер сіз статикалық IP мекенжайына оралсаңыз, бұл серпімді IP мекенжайы, сізге статикалық IP мекенжайын беретін арнайы қызмет. Әдепкі бойынша, бес IP мекенжайы сізге AWS есептік жазбаңызда қол жетімді, бірақ егер сізге көбірек қажет болса, сұрау жасай аласыз. Бұл шектеу жұмсақ шектеу болып табылады, сондықтан оны қолдау қызметіне хабарласу арқылы сіздің қажеттілігіңізге байланысты көбейтуге болады. Сіздің данаңыз іске қосылғаннан кейін, сол данада метадеректер бар. Метадеректер жалпы IP мекенжайы ретінде қалай әрекет етеді, жеке IP мекенжайы, осы дананың қай аймақта іске қосылғаны, қандай қол жетімділік аймағына жататыны, қандай қауіпсіздік топтарына байланысты екендігі туралы ақпарат осы данаға қатысты барлық мүмкін ақпарат AWS басқару консолінде қол жетімді топталған түрінде тиісті қойындылар. Егер сіз 169.254.169.254 IP мекенжайына хабарлассаңыз, сол ақпарат дананың өзінен де қол жетімді. Егер біз соңғы мета-деректер жолын ұстанатын болсақ, онда біз нақты мысал үшін метадеректерге барамыз. Егер біз соңғы жолды және пайдаланушы деректерін төмендететін болсақ, біз осы дананы алғаш рет іске қосқан кезде іске қосылатын командалардың тізімін көреміз. Сіз бұл деректерді пайдалана аласыз, бұл сілтеме тұрақты. Егер сізге белгілі бір данадан пайдаланушы деректерінен немесе мета-деректерден кейбір ақпарат қажет болса, конфигурация кезінде осы жолды пайдалануға болады, бұл тиісті кілттер бар JSON құжаты, JSON файлындағы бұл жол да тұрақты болып табылады және сіз бұл деректерді данаңызды аяқтау үшін пайдалана аласыз. Сондай-ақ, мен сізге екі URL мекен-жайын да есте сақтауды ұсынамын, өйткені олар кейде нақты AWS емтиханына келеді.
Біздің Amazon EC2 данасын бақылау туралы сөйлескен кезде, біз Amazon CloudWatch дегенді білдіреміз, ол метриканы сақтайтын қызмет болып табылады және сіз метрикаларыңыздағы өзгерістерді графикалық түрде көрсете аласыз және қолмен бірнеше қадамдар жасай аласыз немесе қайтадан автоматты түрде тиісті метрикалық мәнге жауап бере аласыз. Метрикалар қалай әрекет ете алады: процессордың ядроларының жүктемесі, қатты дискілердегі жүктеме, яғни. бөлек жазыңыз, бөлек оқыңыз, сонымен қатар желілік арнаның жүктемесі туралы ақпарат, яғни Желі. Мұнда RAM метрикасы, яғни RAM жүктемесі әдепкі бойынша қол жетімді емес екенін атап өткен жөн. Сондай-ақ, осы көрсеткіштерді беру үшін сіз бірнеше қосымша қадамдарды орындауыңыз керек, және бұл көрсеткіштер сізге де қол жетімді болады. Сонымен қатар, CloudWatch бақылаудың екі нұсқасы бар. Бұл негізгі мониторинг және егжей-тегжейлі мониторинг. Негізгі бақылау опциясымен метрикалар әр 5 минут сайын беріледі және бұл опция әдепкі бойынша тегін және қол жетімді. Екінші нұсқа - егер сіз өзіңіздің өлшемдеріңізді жиі бөлісуіңіз керек болса немесе толығырақ ақпарат алуыңыз керек болса. Бұл жағдайда, Толық мониторинг сізге метрикаларды минуттық негізде беруге және сақтауға мүмкіндік береді. Айта кету керек, егжей-тегжейлі мониторинг бөлек төленеді және сіз төлем мен шығындар туралы ақпаратты тиісті бетте таба аласыз.
Сіз екеуміз дәрістің екінші бөлігінің соңына жеттік. Қорытындылайық және ең негізгі тармақтардан өтейік. Amazon EC2 данасын жасау кезінде біз Linux және Windows операциялық жүйелерін таңдай аламыз. Біз кейбір AMI бастап Amazon EC2 даналарын жасау жатырмыз. AMI - амалдық жүйеге қосымша, қосымша параметрлер, белгілі бір бағдарламаларды орнату және белгілі бір командаларды іске қосу, I.E. Amazon EC2 данасын жасаған кезде, біз оның қай VPC-де жасалатынын көрсетуіміз керек. Қауіпсіздік және ең жақсы тәжірибелер қауіпсіздігі тұрғысынан әдепкі VPC-ді пайдаланбау ұсынылады, бірақ өзіңіздің жаңаңызды жасау ұсынылады. Сіз таңдау үшін әр түрлі данасы түрлері қол жетімді, сондай-ақ процессор ядролардың және мөлшері RAM тұрғысынан ең қолайлы конфигурациясын табу үшін данасы түрлерінің бүкіл отбасы, сақтау және желілік мүмкіндіктері. Сіз өзіңіздің даналарыңызға кіруді бақылау үшін қауіпсіздік топтарын пайдалана аласыз. Қауіпсіздік топтары даналық деңгейде жұмыс істейді және виртуалды брандмауэр ретінде әрекет етеді. Дананы жасаған кезде, конфигурацияны аяқтау және данасы іске қосылғаннан кейін ғана сәтті аяқталуы мүмкін пәрмендерді іске қосу үшін пайдаланушы деректері деп аталатын пәрмендердің тізімін жібере аласыз. данасы операциялық жүйе Amazon EBS немесе Amazon EC2 Instance Store қатты дискілерде орнатуға болады. Amazon EC2 Instance дүкенін пайдаланатын даналарды тоқтату мүмкін емес. Amazon EBS қатты дискілерін пайдаланатын даналар тоқтатылуы мүмкін. Сонымен қатар, сіз тоқтаған кезде, сіз даналар үшін төлем жасамайсыз, сондықтан сіз ақша үнемдейсіз. Сіздің даналарыңызды бақылау үшін Amazon CloudWatch бағдарламасын қолдана аласыз және олармен тиісті көрсеткіштерді бөлісе аласыз. Бұл екінші бөлімді аяқтайды және келесі бөлікке өтіңіз.
Сіз екеуміз бүгін біздің дәрістің үшінші бөліміне жеттік. Мұнда біз Amazon EC2 төлемдерін есептеу және оңтайландыру туралы көбірек сөйлесеміз. Amazon EC2 үшін қол жетімді төлем модельдерін мұқият қарастырайық. Ең бірінші болып талап етілетін жағдайлар болып табылады. Бұл біз қолданатын нәрсе үшін төлейтін нұсқа. Келіңіздер, біз бірнеше есептеулер жүргізу үшін 2 сағатқа 10 серверге тапсырыс бердік деп елестетіп көрейік, содан кейін бізге бұл серверлер қажет емес. Бұл үзіліссіз немесе бір реттік жүктеме есептеулерінің мысалы. Осылайша, сұраныс бойынша айдың соңында шот-фактураны алуға мүмкіндік береді, онда біз 10 данаға көбейтілген 2 сағатқа, белгілі бір данадан 20 сағатқа отырамыз және артық емес. Сондықтан біз қолданғанымыз үшін төледік. Мұндағы тағы бір маңызды мәселе - егер біз Amazon Linux немесе Ubuntu-мен жұмыс жасасақ, біз секундына төлем жасай аламыз. Осылайша, егер біз 1 минут 57 секундқа дананы іске қоссақ, біз төлемді дәл сол уақытта жасаймыз.
Amazon EC2-дің келесі төлем моделі - сақталған инстанциялар. Бұл төлем моделі 24-тен 7-ге дейін тұрақты жұмыс жүктемелері үшін өте қолайлы. Бұл жағдайда біз Reserved Instance арқылы есептеу қуатының кейбіріне тапсырыс бере аламыз және AWS-тен бірнеше жеңілдіктер аламыз. Бұл қалай жұмыс істейді? Біз есептеу қуатының белгілі бір мөлшерін бір жылға немесе 3 жылға сатып алуға дайынбыз деп айтамыз. Келісімшартқа қол қойылғаннан кейін, бұл жағдайлар бізге жеңілдікпен пайдалану үшін беріледі. Төлемге қатысты кейбір нюанстар бар, атап айтқанда, жеңілдік мөлшерін анықтайтын 3 нұсқа бар. Біз келісімшартқа қол қойған кезде ең төменгі жеңілдікке ие боламыз, бірақ біз ай сайын төлеуді жалғастырамыз. Бұл опция NURI деп аталады, яғни No-Upfront Reserved Instance, біз алдын-ала ештеңе төлемейміз. Содан кейін келесі нұсқа - кезеңнің 50% -ын, бір жыл немесе 3 жылды бірден төлеп, қалған 50% -ын ай сайын төлейміз. Бұл ішінара алдыңғы сақталған даналар немесе PURI деп аталады. Үшінші нұсқа, біз Reserved Instance бойынша максималды жеңілдік алған кезде, AURI, яғни барлық алдыңғы резервтелген даналар. Сіз ойлағандай, біз алдын-ала біздің даналарымыз үшін бір жыл немесе 3 жыл жұмыс төлейміз. Осылайша, бізге ай сайынғы төлем жасаудың қажеті жоқ. Бұл опция сіз бизнес ретінде өскен кезде өте қолайлы, сізде 24-тен 7-ге дейін тұрақты жұмыс жүктемесі бар. Бұл жағдайда сізде осы тұрақты жүктемелер бар екенін біле отырып, біз AWS-тен Reserved Instances моделі арқылы жақсы жеңілдік ала аламыз.
Келесі Amazon EC2 төлем моделі - Spot даналары. Бұл өте қызықты модель. Есіңізде болсын, Spot Instances максималды пайда береді және жеңілдік 90% дейін жетуі мүмкін. Бұл уақыт бірлігіне Spot Instance бағалары сұраныс бойынша даналардың бағасынан 10 есе аз болуы мүмкін деп болжайды. Бұл өте қызықты ұсыныс, оны пайдалану керек. Бірақ мұнда кейбір нюанстар бар. Дақ даналары, мұның бәрі қайдан пайда болды? AWS деректер орталықтары өте көп мөлшерде есептеу қуаты бар өте үлкен бөлмелер болғандықтан, кейбір серверлер жүктелмейді, яғни олар жүктелмейді Оны тапсырыс беруші, AWS пайдаланушысы сұраған жоқ, сондықтан олар бекер жұмыс істемейді. AWS мұнда шатастырмады және келесі модельді ұсынды. Ол басқа төлем модельдері үшін талап етілмейтін немесе талап етілмейтін жағдайларда үлкен жеңілдіктер жасауға дайын, сондықтан ол ақша жұмсамай, аз болса да, бірдеңе таба алады. Бұл клиенттер үшін де жақсы, өйткені бұл оларға дәл сол жабдықты қолдана отырып, одан да көп үнемдеуге мүмкіндік береді. Мәселе мынада, Spot Instance, Талап бойынша даналармен салыстырғанда, біз бақыланбайтын және шешілмейтін меншік құқығы беріледі. Талап бойынша инстанциялар жағдайында біз даналарға тапсырыс береміз, бұл инстанциялар біз оларды өзімізден босату туралы шешім қабылдағанға дейін қол жетімді болады, яғни. босату және қайтару үшін тоқтатылады AWS және енді олар үшін төлем жасамаңыз. Spot Instance жағдайында біз оларды осы даналар басқа төлем үлгісімен талап етілгенге дейін қолданамыз. Бұл жағдайда сіз осы Spot Instance бұдан былай осы модель бойынша қызмет көрсетіле алмайтындығы туралы хабарлама аласыз және біраз уақыттан кейін өшіріледі, ескерту бар. Осылайша, егер сізде тұрақты жүктемелер болса, ол Spot даналарында толығымен өмір сүре алмайды. Spot даналары асинхронды жұмыс жүктемелері үшін өте қолайлы. Сіз кейбір есептеулер бар деп елестетіп көрейік, бұл есептеулер қазір жасалуы мүмкін, сағат 2-де жасалуы мүмкін, кез келген уақытта үзіліп, сол жерден жалғастыруға болады, сіз қандай да бір жерде жағдайы сақталады, өйткені. Spot даналары мұндай жүктемелер үшін өте қолайлы. Масштабтау кезінде тағы бір нұсқа бар, бірнеше топтарды орнату үшін автоматты түрде пайдаланыңыз. Топтың бір бөлігі - Талап бойынша даналар, ал кейбір даналар - Spot даналары. Spot даналары қол жетімді сәт, сіз Spot даналарымен жұмыс жасайсыз. Егер Spot Instance қол жетімді болмаса, онда AWS барлық Spot даналарын өзі үшін алады және автоматты түрде автоматты түрде іске қосылады және сұраныс бойынша даналарды көтереді. Бағасы, әрине, қымбатырақ, бірақ, кем дегенде, осы архитектураның арқасында есептеу қуатын Spot Instanes-қа беру арқылы айтарлықтай соманы үнемдеуге болады. Бұл қосымша конфигурацияны қажет етеді, сізге маман қажет және сіз тапсырмаға тиісті есептеумен жүгінуіңіз керек. Егер мұны орнатудың тиімдірек екендігі анықталса, онда бизнес оны ұсынып, оны жасауы керек. Егер артықшылықтар аз болса, онда Талап бойынша инстанцияларда болу ұсынылады.
Spot Instance баға қалай жұмыс істейді? Оны аукцион ұйымдастырады, яғни. сіз өзіңіздің бағаңызды ұсынасыз, басқа AWS пайдаланушысы да бағаны Spot Instance арқылы ұсынады, ал AWS сіздің пайдаңызды арттыру үшін максимум болатын опцияны табиғи түрде таңдайды, бірақ сонымен бірге бұл баға сұраныс бойынша даналардан бірнеше есе аз болуы мүмкін. Осылайша, бәрі Солтүстік Вирджиния сияқты аймаққа байланысты, бұл ең танымал, ең қаныққан AWS аймағы. Spot даналарын пайдалану мүмкін емес, және, мысалы, аз танымал аймақтар үшін Spot Instance керемет нұсқа болуы мүмкін, бұл аймақта пайдаланушылар өте аз болғандықтан, сіздің тұрақты жүктемелеріңіз көп уақыт жұмыс істеуі мүмкін. Spot Instance моделі, Сіз барынша жеңілдіктер алуға, ал.
Келесі екі төлем моделі байланысты Amazon EC2 данасы аппараттық, деп аталатын Бөлінген хосттар және Бөлінген даналар. Олар қалай ерекшеленеді? Бөлінген хосттар лицензияларды қолдану үшін осы жабдықтың кейбір мүмкіндіктеріне қосылуға мүмкіндік береді. Мысалы, Oracle дерекқорының лицензиялары белгілі бір аппараттық құралдағы ядролардың санына байланысты. Бұл жағдайда сіз осы лицензияны қолдану үшін Бөлінген хосттарды пайдалана аласыз. Бөлінген даналар - бұл сізге басқа AWS пайдаланушыларына жүктеуге мүмкіндік бермейтін бұлтта бөлек аппараттық сервер берілген жағдай. Сондықтан сіз иесі емессіз, сіз бұл жабдықты толығымен өзіңіз үшін жалға бересіз, сонда ешкім болмайды. Бұл жағдайлар кейбір нормативтік талаптар үшін қажет болуы мүмкін. Мысалы, деректердің немесе өңдеудің кейбір ерекшеліктеріне байланысты бұл жүктемелер бөлек жабдықта іске қосылуы керек. Бұл жағдайда сізге арнайы даналарды пайдалану қажет. Бөлінген даналар, олардың ерекшеліктеріне байланысты, ең қымбат, өйткені сіз жеке аппараттық құралдарсыз және бұл өте қымбат қызмет. Сонымен қатар, Dedicated Instance сирек талап етілгенін атап өткен жөн, қайтадан кейбір нормативтік талаптарға байланысты. Барлық басқа қалыпты жағдайларда, Талап бойынша даналар жеткілікті астам болады.
Ал соңғы төлем опциясы жоспарланған резервтелген даналар болып табылады. Бірден айта кету керек, жоспарланған резервтелген даналар қазіргі уақытта қол жетімді емес. AWS Live Емтихан аясында сұрақтар жаңартылады немесе жиі жаңартылады мүмкін емес, өйткені, Егер сіз әлі Amazon EC2 бөлігі ретінде Жоспарланған сақталған даналары қатысты сұрақтар алуға мүмкін. Сондықтан, біз қазір бұл мәселені талқылаймыз, бірақ бұл опция қазіргі уақытта AWS ішінде жоқ екенін есте сақтаңыз. Жоспарланған сақталған даналар дегеніміз не? Бұл сізге күн сайын белгілі бір сағатты немесе аптаның белгілі бір күнін, апта сайын, ай сайын, бір жылға арналған кестеге сәйкес сақтауға мүмкіндік беретін нұсқа. Осылайша, сіз бір жылға төлейсіз, қанша уақыт және қай даналар сізге қол жетімді болуы керек екенін көрсетіңіз. Бұл жағдайда олар осы сәтте іске қосылады. Тағы да, Reserved Instance сияқты, сіз бұл даналар үшін белгілі бір жеңілдікпен төлейсіз.
Келесі екі слайдта біз Amazon EC2 төлем модельдері туралы айтқанымыздың бәрін қорытындылаймыз. Егер біз Талап бойынша даналар деп айтатын болсақ, бұл мүмкіндігінше икемді нұсқа. Spot даналары асинхронды жүктемелер үшін жақсы қолайлы параметр болып табылады. Сақталған даналар - бұл тәулік бойы тұрақты жүктеме болған кезде төлем моделі үшін жақсы нұсқа. Біз кейбір нормативтік талаптарға байланысты арнайы хосттарды қолданамыз, біз тек бір нақты жабдықты өзіміз қолдануымыз керек.
Жағдайларды пайдалану туралы айтатын болсақ, Талап бойынша даналар болжау қиын қысқа мерзімді динамикалық жүктемелер үшін қолданылады. Бұл жағдайда, Талап бойынша тамаша жарасады. Тағы бір нұсқа - біз сұраныс бойынша даналарды әзірлеу немесе тестілеу ортасы үшін қолданамыз, яғни. даму әрдайым әрдайым бола бермейді және тестілеу әрдайым әрдайым бола бермейді. Сондықтан біз әзірлеу және тестілеу кезеңін аяқтағаннан кейін және бұл жағдайлар ештеңе істемей тұрғаннан кейін, біз оларды ақша жұмсамай өшіре аламыз. Spot даналары - бұл бізде асинхронды жүктемелер бар, біз кез-келген уақытта есептеулер мен жүктемелерді тоқтата аламыз және сол жерден жалғастыра аламыз. Ол түнде, таңертең жұмыс істей алады, бұл маңызды емес. Тағы бір мысал - есептеу қуатының үлкен мөлшерінде кейбір есептеулерді жүргізу қажет болған кезде. Бұл жағдайда Spot даналары көлемнен біраз пайда әкеледі. Келесі опция - 24-тен 7-ге дейін тұрақты жүктемелер болған кезде сақталған даналар. Бір пайдалану жағдайы - егер компания үлкен болса, ол жақсы жеңілдіктер алатындығын біле отырып, алдын-ала төлей алады. Бұл жағдайда сақталған даналарды пайдалануға болады. Тағы бір нұсқа - біз апатты қалпына келтіруді конфигурациялаған кезде, яғни апаттарды қалпына келтіру - бұл біздің инфрақұрылымымыз екі аймақта орналастырылған кезде және біреуі бастапқы, екіншісі резервтік көшірме болған кезде. Бүкіл AWS аймағында проблема болған кезде, бұл өте сирек кездеседі. Бірақ біздің жүктемелеріміз бен инфрақұрылымымыз әрқашан біздің клиенттерімізге 100% қол жетімді болуы керек деп айтамыз, өйткені біраз уақытқа қол жетімсіздікке байланысты клиенттерді жоғалту бүкіл компанияны банкротқа ұшыратуы мүмкін. Сондықтан, бұл өте маңызды жүктемелер. Бұл жағдайда компания DR әзірлейді және қолдайды, яғни. апатты қалпына келтіру. Егер компания негізгі немесе резервтік аймақтың есептеу қуатының кепілдендірілген мөлшеріне ие болуын қамтамасыз етуі керек болса, оны алдын-ала біле отырып, біз резервтелген даналар арқылы осы кітапты есептеу қуатын және оны қажет болғаннан кейін іске қоса аламыз. Немесе жеңілдік алғанымызды біле отырып, үнемі жұмыс істеп тұрыңыз және біз бұл жағдайлар коммутатор кезінде бізге қол жетімді болатынына 100% сенімдіміз және біз клиенттеріміздің барлық сұраныстарын өңдей аламыз. Соңғы нұсқа - арнайы хосттар. Пайдаланудың бір мысалы, егер біз лицензияны сатып алған болсақ, жағдайға байланысты лицензияларымызды қайтадан пайдалана аламыз, сонымен бірге оны үнемдей аламыз. Тағы бір пайдалану жағдайы - белгілі бір нормативтік талаптарды орындау қажет болған кезде. Бұл жағдайда біз басқа адамдардың жүктемелерін тасымалдауға рұқсат етілмеген нақты жабдықта жұмыс істейміз.
Amazon EC2 шығындарын оңтайландыру туралы дәрімізде айтқанымыздың бәрін қорытындылайық. Ол төрт бағыттан тұрады: Дұрыс өлшем, Серпімділікті арттыру, Оңтайлы баға моделі және Сақтау таңдауын оңтайландыру. Осы бағыттардың әрқайсысын жақынырақ қарастырайық. Бірінші бағыт Дұрыс өлшем. Идея, біз жұмыс жүктемелерімізге сәйкес келетін дананың түрін табуымыз керек. Amazon астам ұсынады 60 түрлі сатыдағы түрлері мен өлшемдері, сондықтан біз белгілі біз үшін жұмыс істейді біреуін таба аласыз. Бұл бір реттік процесс емес екені анық; сіз өзіңіздің жұмыс жүктемелеріңіз бұлтта басталғанға дейін қандай опция сіздікі екенін біле алмайсыз немесе анықтай алмайсыз. Сіз мүмкіндігінше арзан және бұл сіздің жүктемелеріңізге қызмет ететін дананың түрін қалай таңдайсыз және сіз бастайсыз. Содан кейін, уақыт өте келе сіз метрикаңызды мезгіл-мезгіл тексеріп отырасыз, яғни. метрикаларыңызды Amazon CloudWatch-қа жібересіз және қанша CPU пайдаланылып жатқанын, қанша RAM пайдаланылып жатқанын, сақтауды және желіні көріп, қорытынды жасайсыз.
Сізге қарапайым мысал келтірейін. Сізде 70% CPU жүктемесі және 10% RAM жүктемесі бар данасы бар екенін елестетіп көріңіз. Мұнда біздің қосымшамыз жедел жадқа қарағанда процессордың қуатын көбірек қолданатынын анық көре аламыз. Осылайша, біз кішірек, бірақ CPU болып табылатын отбасынан, яғни түрі-C түрін таңдай аламыз. Бұл жағдайда біз дананың мөлшерін үнемдей аламыз, өйткені ол кішірек болады, бірақ ол да аз қошқарға ие болады. Жүктеме қошқарды қажет етпейтініне сүйене отырып, бұл дананың түрі біз үшін қолайлы. Ол біздің қазіргі жұмыс жүктемелерімізді толығымен басқара алады және біз алдыңғы данамен төлегеннен аз төлейміз.
Екінші бағыт Серпімділікті арттыру. Бұл біздің автосалауды дұрыс конфигурациялауымыз керек дейді. Автосалинг - бұл біздің инфрақұрылымымыз тірі дерексіз организм болған кезде, жүктемеге байланысты трафикті өңдейтін даналар саны көбейеді немесе азаяды. Сіз қандай да бір интернет-дүкен екеніңізді елестетіп көрейік және сіздің жұмыс жүктемелеріңіз көбінесе кешкі 6-дан кейін 10-ға дейін болады. Бұл жағдайда жүйе сіздің даналарыңыздағы көрсеткіштерді сақтай отырып, жүктеме қазір артып келе жатқанын анықтайды, серверлердегі жүктеме артып келеді, сондықтан біз оны белгілі бір шекті қосымша серверлерден кейін іске қосуымыз керек. Біз басқа екінші шекті мәннен төмен түскенде, мысалы, егер біздің серверлеріміздегі жүктеме 10% -дан аз болса, онда мұндай жүктеме жоқ екенін көреміз. Сондықтан біз қосымша инстанцияларды тоқтатып, оларды AWS-ке қайтара аламыз, сондықтан олар үшін ақы төлеудің қажеті жоқ. Осылайша, біздің инфрақұрылымның мөлшері жүктемеге байланысты азаяды немесе артады. Сондықтан сіз тек нақты жүктемелер үшін төлейсіз және сіздің кейбір ресурстарыңыздың жағдайы жоқ, сіздің даналарыңыз бос отырады, және сіз оны бекер төлейсіз.
Үшінші бағыт - Оңтайлы баға моделі. Біз бұған дейін Amazon EC2 үшін қол жетімді төлем модельдерін талқыладық. Осылайша, сіздің жұмыс жүктемелеріңізге байланысты сіз үшін ең ыңғайлы және тиімді болатын төлем үлгісін таңдай аласыз. Сонымен қатар, сіз осы инфрақұрылымды қолдау үшін ең төменгі шығындарды көтересіз.
Келесі нұсқа - біздің сақтауды оңтайландыру, яғни сақтау. Мұнда үш нәрсе айтылған. Бірінші нүкте - біз қатты дискілердің оңтайлы өлшемін таңдауымыз керек, яғни 20 ГБ негізгі қатты дискінің кеңістігін қажет ететін мысал үшін үлкен мөлшерде бас бөлмені жасаудың және 500 ГБ қатты дискіні жасаудың қажеті жоқ Сіз кішкене маржамен жасай аласыз, сонымен қатар сізде бар екенін есте сақтайсыз CloudWatch қызметі, онда сіз өзіңіздің метрикаңызды жібересіз және қатты дискілеріңіз белгілі бір шекті деңгейге жеткенде жүктеліп жатқанын көре аласыз, мысалы, қатты дискінің 90% -ы толы. Бұл жағдайда қатты дискілердің өлшемін автоматты түрде арттыру үшін кейбір әрекеттерді жасауға болады. Немесе кез-келген арна арқылы хабарлаңыз, ол электрондық пошта немесе SMS болсын, қатты диск толы, сіз кейбір шаралар қабылдауыңыз керек. Бұл жағдайда сіз өзіңізді қосып, оны көбейте аласыз немесе неге бұлай болғанын көре аласыз, егер бұл күтілмеген болса.
Екінші нүкте - EBS дыбыс деңгейі. Келесі дәрістерде біз EBS көлемінің қандай түрлері бар екенін және қай түрді таңдау керектігін талқылаймыз. Үшінші нұсқа - сізде бірнеше суреттер бар, яғни. қатты дискілердің сақтық көшірмелері. Бұл кез-келген проблемалар туындаған жағдайда оңай қалпына келтіру үшін қажет. Сақтық көшірме жасау қалыпты тәжірибе. Бірақ сонымен бірге, бес жыл бұрынғы резервтік көшірмелерді сақтау әрқашан ұтымды бола бермейді. Сақтық көшірмелерді сіздің бизнес талаптарыңызға байланысты, бір апта бұрын, бір ай бұрын, мүмкін, бір жыл бұрын сақтау жеткілікті, бірақ уақыттың кейбір өзгерістерімен, яғни. сіз бір жыл бұрын жасалған бір сақтық көшірмені сақтайсыз, бір ай бұрын жасалған бір сақтық көшірме, сонда сіз сол жерге орала аласыз, ал соңғы жетіге жеті резервтік көшірме күн. Бұл сақтық көшірмелерді сақтаудың ең жақсы тәсілі. Барлық басқа сақтық көшірмелерді алып тастау керек, өйткені сіз пайдасыз сақтық көшірмелер үшін төлейсіз, өйткені бұл AWS ішінде бөлек жасалған ресурс. Қосымша ресурстар аз болса, соғұрлым аз төлейсіз.
Айта кету керек, бұлттағы шығындарды оңтайландыру процесі бір реттік процесс емес. Бұл бұлтқа тікелей байланысты емес. Бұлт сіздің барлық ресурстарыңызды бір көзқараспен көруге мүмкіндік береді. Бірақ сонымен бірге, мәселе - жүктемелер өзгеруде, жаңа ресурстар жасалуда және олар бұлтта да, жергілікті деректер орталығында да бар. Сондықтан, идея, бұлт жағында максималды көріну арқылы сіз мұның бәрін өлшей аласыз, оны мезгіл-мезгіл бақылап, оны жақсарту үшін бірнеше қадамдар жасай аласыз. Осы жетілдіруді жасағаннан кейін, осы қадамдардың барлығын циклдік түрде қайталаңыз, өйткені инфрақұрылым үнемі өзгеріп отырады, сізде көптеген даму топтары болуы мүмкін, және бұл инфрақұрылымның бәрі тірі организм сияқты, ол үнемі динамикалық, онымен бір нәрсе болып жатыр. Сондықтан, өзгерістерді дұрыс өлшеу, бақылау, қадағалау, ағымдағы жағдайды көру және кейбір әрекеттерді орындау, осы қадамдардың барлығын мезгіл-мезгіл қайталай отырып, бұлттағы шығындарды оңтайландыру бойынша жұмыс істеудің дұрыс процесі болып табылады. Бұлт бізге барлық қажетті ресурстар мен мүмкіндіктерді ұсынады.
Айта кету керек нәрселердің бірі - тегтеу. Тегтеудің арқасында сіз аз топтармен жұмыс істеу үшін ресурстарыңызды логикалық түрде бөле аласыз, өйткені кішігірім топтармен жұмыс істеу оңайырақ. Мысал ретінде, егер сіз өзіңіздің барлық ресурстарыңызды бөлім идентификаторымен белгілесеңіз, сіз осы немесе басқа проблемалық ресурстардың қай бөлімге тиесілі екенін білесіз. Сіз бұл мәселені шешу үшін қайда бару керектігін білесіз. Сонымен қатар, тегтеуден басқа, шығындарыңызды басқаруға және оңтайландыруға мүмкіндік беретін бірқатар қызықты қызметтер бар. Бір Google сұранысымен сіз әрқашан осы ресурстарды таба аласыз, олар туралы оқып, оларды пайдалана бастай аласыз.
Сіз және мен оны үшінші бөліміміздің соңына, сондай-ақ бүгінгі дәріс сессиямыздың соңына дейін жасадық. Ең маңызды тармақтардан өтейік. Біз Amazon EC2 үшін қол жетімді төлем модельдерін қарадық. Бұл талап бойынша даналар, сақталған даналар, нүктелік даналар, бөлінген даналар және арнайы хост, сондай-ақ қазіргі уақытта қол жетімді емес жоспарланған резервтелген даналар. Сондай-ақ, егер бізде белгілі бір жүктеме болса, нүктелік инстанциялар ең тиімді нұсқа екенін білдік. Spot даналарын екі минуттық хабарландырумен үзуге болады, яғни дананың 2 минут ішінде өшірілетіні туралы хабарлама. Тиісінше, сіз өзіңіздің архитектураңызды осы үзілістерге барабар жауап беру үшін жасауыңыз керек. Сонымен қатар, сіз спот даналарын пайдаланып 90% -ға дейін ала аласыз. Amazon EC2 бұлт шығындарын оңтайландыру үшін ескеру керек төрт нәрсе. Бұл дұрыс мөлшерлеу, содан кейін ол икемділікті арттырады, яғни. автосалауды дұрыс пайдалану. Әрі қарай, оңтайлы баға моделі, яғни. біздің жүктемелерімізге сәйкес келетін модельді таңдаңыз. Төртінші - сақтауды оңтайландыру, яғни. біздің қоймалармен жұмыс істеу кезінде кейбір нюанстар бар. Біз сақтау қызметтерін талқылаймыз және келесі дәрістерде сізбен толығырақ сөйлесеміз.
Бұл бізді бүгінгі дәріс сессиясының соңына дейін жеткізеді. Біз Amazon EC2-ді мұқият қарастырдық, соның ішінде жаңа Amazon EC2 данасын жасау үшін қандай қадамдар жасау керек. Әрі қарай, біз қандай төлем модельдері бар екенін және Amazon EC2 шығындарын қалай оңтайландыруға болатынын қарастырдық.
Бұл біздің сессиямызды аяқтайды. Назарларыңызға рахмет. Жақында сізді қараңыз! Біздің келесі дәрістерімізде көріңіз!
